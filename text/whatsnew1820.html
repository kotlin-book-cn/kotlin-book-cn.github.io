
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>Kotlin 1.8.20 · Kotlin 官方文档 中文版</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="whatsnew18.html" />
    
    
    <link rel="prev" href="whatsnew19.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    关于本书
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="home.html">
            
                <a href="home.html">
            
                    
                    文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="kotlin-tour-welcome.html">
            
                <a href="kotlin-tour-welcome.html">
            
                    
                    Kotlin 之旅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="d-overview.html">
            
                <a href="d-overview.html">
            
                    
                    概述
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="multiplatform.html">
            
                <a href="multiplatform.html">
            
                    
                    Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="server-overview.html">
            
                <a href="server-overview.html">
            
                    
                    Kotlin 用于服务器端开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="android-overview.html">
            
                <a href="android-overview.html">
            
                    
                    Kotlin 用于 Android 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="wasm-overview.html">
            
                <a href="wasm-overview.html">
            
                    
                    Kotlin Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="native-overview.html">
            
                <a href="native-overview.html">
            
                    
                    Kotlin 原生
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="js-overview.html">
            
                <a href="js-overview.html">
            
                    
                    Kotlin 用于 JavaScript 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="data-analysis-overview.html">
            
                <a href="data-analysis-overview.html">
            
                    
                    Kotlin 用于数据分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="kotlin-ai-apps-development-overview.html">
            
                <a href="kotlin-ai-apps-development-overview.html">
            
                    
                    Kotlin 用于 AI 驱动的应用开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="competitive-programming.html">
            
                <a href="competitive-programming.html">
            
                    
                    Kotlin 用于竞技程序设计
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="d-whatsnew.html">
            
                <a href="d-whatsnew.html">
            
                    
                    Kotlin 的新特性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="whatsnew2120.html">
            
                <a href="whatsnew2120.html">
            
                    
                    Kotlin 2.1.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="whatsnew21.html">
            
                <a href="whatsnew21.html">
            
                    
                    Kotlin 2.1.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="whatsnew-eap.html">
            
                <a href="whatsnew-eap.html">
            
                    
                    Kotlin 2.2.0-RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="d-earlier-whatsnew.html">
            
                <a href="d-earlier-whatsnew.html">
            
                    
                    早期版本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="whatsnew2020.html">
            
                <a href="whatsnew2020.html">
            
                    
                    Kotlin 2.0.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="whatsnew20.html">
            
                <a href="whatsnew20.html">
            
                    
                    Kotlin 2.0.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="whatsnew1920.html">
            
                <a href="whatsnew1920.html">
            
                    
                    Kotlin 1.9.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="whatsnew19.html">
            
                <a href="whatsnew19.html">
            
                    
                    Kotlin 1.9.0
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.4.5" data-path="whatsnew1820.html">
            
                <a href="whatsnew1820.html">
            
                    
                    Kotlin 1.8.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="whatsnew18.html">
            
                <a href="whatsnew18.html">
            
                    
                    Kotlin 1.8.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="whatsnew1720.html">
            
                <a href="whatsnew1720.html">
            
                    
                    Kotlin 1.7.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.8" data-path="whatsnew17.html">
            
                <a href="whatsnew17.html">
            
                    
                    Kotlin 1.7.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.9" data-path="whatsnew1620.html">
            
                <a href="whatsnew1620.html">
            
                    
                    Kotlin 1.6.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.10" data-path="whatsnew16.html">
            
                <a href="whatsnew16.html">
            
                    
                    Kotlin 1.6.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.11" data-path="whatsnew1530.html">
            
                <a href="whatsnew1530.html">
            
                    
                    Kotlin 1.5.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.12" data-path="whatsnew1520.html">
            
                <a href="whatsnew1520.html">
            
                    
                    Kotlin 1.5.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.13" data-path="whatsnew15.html">
            
                <a href="whatsnew15.html">
            
                    
                    Kotlin 1.5.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.14" data-path="whatsnew1430.html">
            
                <a href="whatsnew1430.html">
            
                    
                    Kotlin 1.4.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.15" data-path="whatsnew1420.html">
            
                <a href="whatsnew1420.html">
            
                    
                    Kotlin 1.4.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.16" data-path="whatsnew14.html">
            
                <a href="whatsnew14.html">
            
                    
                    Kotlin 1.4.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.17" data-path="whatsnew13.html">
            
                <a href="whatsnew13.html">
            
                    
                    Kotlin 1.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.18" data-path="whatsnew12.html">
            
                <a href="whatsnew12.html">
            
                    
                    Kotlin 1.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.19" data-path="whatsnew11.html">
            
                <a href="whatsnew11.html">
            
                    
                    Kotlin 1.1
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="d-releases-and-roadmap.html">
            
                <a href="d-releases-and-roadmap.html">
            
                    
                    版本发布与路线图
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="roadmap.html">
            
                <a href="roadmap.html">
            
                    
                    Kotlin 路线图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="kotlin-language-features-and-proposals.html">
            
                <a href="kotlin-language-features-and-proposals.html">
            
                    
                    Kotlin 语言特性与提案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="kotlin-evolution-principles.html">
            
                <a href="kotlin-evolution-principles.html">
            
                    
                    Kotlin 演进原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="components-stability.html">
            
                <a href="components-stability.html">
            
                    
                    Kotlin 各组件的稳定性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="releases.html">
            
                <a href="releases.html">
            
                    
                    Kotlin 版本发布
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="d-basics.html">
            
                <a href="d-basics.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="basic-syntax.html">
            
                <a href="basic-syntax.html">
            
                    
                    基本语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="idioms.html">
            
                <a href="idioms.html">
            
                    
                    习惯用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="l-kotlin-by-example1.html">
            
                <a href="l-kotlin-by-example1.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="coding-conventions.html">
            
                <a href="coding-conventions.html">
            
                    
                    编码规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="d-concepts.html">
            
                <a href="d-concepts.html">
            
                    
                    概念
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="d-types.html">
            
                <a href="d-types.html">
            
                    
                    类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="d-basic-types.html">
            
                <a href="d-basic-types.html">
            
                    
                    基本类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1.1" data-path="basic-types.html">
            
                <a href="basic-types.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.2" data-path="numbers.html">
            
                <a href="numbers.html">
            
                    
                    数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.3" data-path="unsigned-integer-types.html">
            
                <a href="unsigned-integer-types.html">
            
                    
                    无符号整型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.4" data-path="booleans.html">
            
                <a href="booleans.html">
            
                    
                    布尔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.5" data-path="characters.html">
            
                <a href="characters.html">
            
                    
                    字符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.6" data-path="strings.html">
            
                <a href="strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.7" data-path="arrays.html">
            
                <a href="arrays.html">
            
                    
                    数组
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="typecasts.html">
            
                <a href="typecasts.html">
            
                    
                    类型检测与类型转换
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="d-control-flow.html">
            
                <a href="d-control-flow.html">
            
                    
                    控制流程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="control-flow.html">
            
                <a href="control-flow.html">
            
                    
                    条件与循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="returns.html">
            
                <a href="returns.html">
            
                    
                    返回与跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="exceptions.html">
            
                <a href="exceptions.html">
            
                    
                    异常
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="packages.html">
            
                <a href="packages.html">
            
                    
                    包与导入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="d-class-and-obj.html">
            
                <a href="d-class-and-obj.html">
            
                    
                    类与对象
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="classes.html">
            
                <a href="classes.html">
            
                    
                    类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="inheritance.html">
            
                <a href="inheritance.html">
            
                    
                    继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="properties.html">
            
                <a href="properties.html">
            
                    
                    属性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="interfaces.html">
            
                <a href="interfaces.html">
            
                    
                    接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.5" data-path="fun-interfaces.html">
            
                <a href="fun-interfaces.html">
            
                    
                    函数式（SAM）接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.6" data-path="visibility-modifiers.html">
            
                <a href="visibility-modifiers.html">
            
                    
                    可见性修饰符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.7" data-path="extensions.html">
            
                <a href="extensions.html">
            
                    
                    扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.8" data-path="data-classes.html">
            
                <a href="data-classes.html">
            
                    
                    数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.9" data-path="sealed-classes.html">
            
                <a href="sealed-classes.html">
            
                    
                    密封类与密封接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.10" data-path="generics.html">
            
                <a href="generics.html">
            
                    
                    泛型：in、out、where
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.11" data-path="nested-classes.html">
            
                <a href="nested-classes.html">
            
                    
                    嵌套类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.12" data-path="enum-classes.html">
            
                <a href="enum-classes.html">
            
                    
                    枚举类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.13" data-path="inline-classes.html">
            
                <a href="inline-classes.html">
            
                    
                    内联类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.14" data-path="object-declarations.html">
            
                <a href="object-declarations.html">
            
                    
                    对象表达式与对象声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.15" data-path="delegation.html">
            
                <a href="delegation.html">
            
                    
                    委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.16" data-path="delegated-properties.html">
            
                <a href="delegated-properties.html">
            
                    
                    属性委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.17" data-path="type-aliases.html">
            
                <a href="type-aliases.html">
            
                    
                    类型别名
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="d-functions.html">
            
                <a href="d-functions.html">
            
                    
                    函数
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="lambdas.html">
            
                <a href="lambdas.html">
            
                    
                    lambda 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="inline-functions.html">
            
                <a href="inline-functions.html">
            
                    
                    内联函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="operator-overloading.html">
            
                <a href="operator-overloading.html">
            
                    
                    操作符重载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="d-builders.html">
            
                <a href="d-builders.html">
            
                    
                    构建器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.5.1" data-path="type-safe-builders.html">
            
                <a href="type-safe-builders.html">
            
                    
                    类型安全的构建器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5.2" data-path="using-builders-with-builder-inference.html">
            
                <a href="using-builders-with-builder-inference.html">
            
                    
                    使用带有构建器类型推断的构建器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="null-safety.html">
            
                <a href="null-safety.html">
            
                    
                    空安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="equality.html">
            
                <a href="equality.html">
            
                    
                    相等性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="this-expressions.html">
            
                <a href="this-expressions.html">
            
                    
                    this 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="async-programming.html">
            
                <a href="async-programming.html">
            
                    
                    异步程序设计技术
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="coroutines-overview.html">
            
                <a href="coroutines-overview.html">
            
                    
                    协程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="annotations.html">
            
                <a href="annotations.html">
            
                    
                    注解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="destructuring-declarations.html">
            
                <a href="destructuring-declarations.html">
            
                    
                    解构声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="reflection.html">
            
                <a href="reflection.html">
            
                    
                    反射
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="d-data-analysis.html">
            
                <a href="d-data-analysis.html">
            
                    
                    数据分析
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="d-notebook-get-started.html">
            
                <a href="d-notebook-get-started.html">
            
                    
                    Kotlin Notebook 入门
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="get-started-with-kotlin-notebooks.html">
            
                <a href="get-started-with-kotlin-notebooks.html">
            
                    
                    Kotlin Notebook 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="kotlin-notebook-set-up-env.html">
            
                <a href="kotlin-notebook-set-up-env.html">
            
                    
                    1、环境搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="kotlin-notebook-create.html">
            
                <a href="kotlin-notebook-create.html">
            
                    
                    2、创建第一个 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="kotlin-notebook-add-dependencies.html">
            
                <a href="kotlin-notebook-add-dependencies.html">
            
                    
                    3、将依赖添加到 Kotlin Notebook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="kotlin-notebook-share.html">
            
                <a href="kotlin-notebook-share.html">
            
                    
                    分享 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="data-analysis-notebooks-output-formats.html">
            
                <a href="data-analysis-notebooks-output-formats.html">
            
                    
                    Kotlin Notebook 的输出格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="d-work-with-data-sources.html">
            
                <a href="d-work-with-data-sources.html">
            
                    
                    使用数据源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.4.1" data-path="data-analysis-work-with-data-sources.html">
            
                <a href="data-analysis-work-with-data-sources.html">
            
                    
                    从文件中取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.2" data-path="data-analysis-work-with-api.html">
            
                <a href="data-analysis-work-with-api.html">
            
                    
                    从 web 源与 API 取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.3" data-path="data-analysis-connect-to-db.html">
            
                <a href="data-analysis-connect-to-db.html">
            
                    
                    链接数据库并从中取数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="data-analysis-visualization.html">
            
                <a href="data-analysis-visualization.html">
            
                    
                    Kotlin Notebook 中数据可视化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="data-analysis-libraries.html">
            
                <a href="data-analysis-libraries.html">
            
                    
                    用于数据分析的库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="d-platforms.html">
            
                <a href="d-platforms.html">
            
                    
                    平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="d-jvm.html">
            
                <a href="d-jvm.html">
            
                    
                    JVM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="jvm-get-started.html">
            
                <a href="jvm-get-started.html">
            
                    
                    Kotlin/JVM 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.2" data-path="comparison-to-java.html">
            
                <a href="comparison-to-java.html">
            
                    
                    与 Java 比较
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.3" data-path="java-interop.html">
            
                <a href="java-interop.html">
            
                    
                    在 Kotlin 中调用 Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.4" data-path="java-to-kotlin-interop.html">
            
                <a href="java-to-kotlin-interop.html">
            
                    
                    在 Java 中调用 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5" data-path="d-spring.html">
            
                <a href="d-spring.html">
            
                    
                    Spring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1" data-path="d-jvm-spring-boot-restful.html">
            
                <a href="d-jvm-spring-boot-restful.html">
            
                    
                    使用 Spring Boot 创建用到数据库的 RESTful web 服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1.1" data-path="jvm-get-started-spring-boot.html">
            
                <a href="jvm-get-started-spring-boot.html">
            
                    
                    Spring Boot 与 Kotlin 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.2" data-path="jvm-create-project-with-spring-boot.html">
            
                <a href="jvm-create-project-with-spring-boot.html">
            
                    
                    创建使用 Kotlin 的 Spring Boot 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.3" data-path="jvm-spring-boot-add-data-class.html">
            
                <a href="jvm-spring-boot-add-data-class.html">
            
                    
                    向 Spring Boot 项目添加数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.4" data-path="jvm-spring-boot-add-db-support.html">
            
                <a href="jvm-spring-boot-add-db-support.html">
            
                    
                    为 Spring Boot 项目添加数据库支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.5" data-path="jvm-spring-boot-using-crudrepository.html">
            
                <a href="jvm-spring-boot-using-crudrepository.html">
            
                    
                    使用 Spring Data CrudRepository 进行数据库访问
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.2" data-path="spring-ai-guide.html">
            
                <a href="spring-ai-guide.html">
            
                    
                    构建一个使用 Spring AI 基于 Qdrant 中存储的文档来回答问题的 Kotlin 应用——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.3" data-path="l-spring-docs-kotlin.html">
            
                <a href="l-spring-docs-kotlin.html">
            
                    
                    Spring 框架 Kotlin 文档↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.4" data-path="l-spring-boot-kotlin.html">
            
                <a href="l-spring-boot-kotlin.html">
            
                    
                    使用 Spring Boot 与 Kotlin 构建 web 应用程序——教程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.5" data-path="l-spring-webflux-kotlin-rsocket.html">
            
                <a href="l-spring-webflux-kotlin-rsocket.html">
            
                    
                    使用 Kotlin 协程与 RSocket 创建聊天应用程序——教程↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.6" data-path="jvm-test-using-junit.html">
            
                <a href="jvm-test-using-junit.html">
            
                    
                    在 JVM 平台中用 JUnit 测试代码——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.7" data-path="mixing-java-kotlin-intellij.html">
            
                <a href="mixing-java-kotlin-intellij.html">
            
                    
                    在项目中混用 Java 与 Kotlin——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.8" data-path="jvm-records.html">
            
                <a href="jvm-records.html">
            
                    
                    在 Kotlin 中使用 Java 记录类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9" data-path="d-java-to-kotlin-migration-guides.html">
            
                <a href="d-java-to-kotlin-migration-guides.html">
            
                    
                    从 Java 到 Kotlin 迁移指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.9.1" data-path="java-to-kotlin-idioms-strings.html">
            
                <a href="java-to-kotlin-idioms-strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.2" data-path="java-to-kotlin-collections-guide.html">
            
                <a href="java-to-kotlin-collections-guide.html">
            
                    
                    集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.3" data-path="java-to-kotlin-nullability-guide.html">
            
                <a href="java-to-kotlin-nullability-guide.html">
            
                    
                    可空性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.4" data-path="standard-input.html">
            
                <a href="standard-input.html">
            
                    
                    标准输入
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="d-native.html">
            
                <a href="d-native.html">
            
                    
                    原生
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="native-get-started.html">
            
                <a href="native-get-started.html">
            
                    
                    Kotlin/Native 入门——在 IntelliJ IDEA 中
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="native-definition-file.html">
            
                <a href="native-definition-file.html">
            
                    
                    定义文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3" data-path="d-c-interop.html">
            
                <a href="d-c-interop.html">
            
                    
                    与 C 语言互操作
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.3.1" data-path="native-c-interop.html">
            
                <a href="native-c-interop.html">
            
                    
                    与 C 语言互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.2" data-path="mapping-primitive-data-types-from-c.html">
            
                <a href="mapping-primitive-data-types-from-c.html">
            
                    
                    映射来自 C 语言的原始数据类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.3" data-path="mapping-struct-union-types-from-c.html">
            
                <a href="mapping-struct-union-types-from-c.html">
            
                    
                    映射来自 C 语言的结构与联合类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.4" data-path="mapping-function-pointers-from-c.html">
            
                <a href="mapping-function-pointers-from-c.html">
            
                    
                    映射来自 C 语言的函数指针——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.5" data-path="mapping-strings-from-c.html">
            
                <a href="mapping-strings-from-c.html">
            
                    
                    映射来自 C 语言的字符串——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.6" data-path="native-dynamic-libraries.html">
            
                <a href="native-dynamic-libraries.html">
            
                    
                    Kotlin/Native 开发动态库——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.7" data-path="native-app-with-c-and-libcurl.html">
            
                <a href="native-app-with-c-and-libcurl.html">
            
                    
                    创建使用 C 语言互操作与 libcurl 的应用——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.4" data-path="d-objc-interop.html">
            
                <a href="d-objc-interop.html">
            
                    
                    与 Objective-C 互操作性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.4.1" data-path="native-objc-interop.html">
            
                <a href="native-objc-interop.html">
            
                    
                    与 Swift/Objective-C 互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.4.2" data-path="apple-framework.html">
            
                <a href="apple-framework.html">
            
                    
                    Kotlin/Native 开发 Apple framework——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.5" data-path="native-libraries.html">
            
                <a href="native-libraries.html">
            
                    
                    Kotlin/Native 库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.6" data-path="native-platform-libs.html">
            
                <a href="native-platform-libs.html">
            
                    
                    平台库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7" data-path="d-mem-mgr.html">
            
                <a href="d-mem-mgr.html">
            
                    
                    内存管理器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.7.1" data-path="native-memory-manager.html">
            
                <a href="native-memory-manager.html">
            
                    
                    Kotlin/Native 内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.2" data-path="native-arc-integration.html">
            
                <a href="native-arc-integration.html">
            
                    
                    与 ARC 集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.3" data-path="native-migration-guide.html">
            
                <a href="native-migration-guide.html">
            
                    
                    迁移到新版内存管理器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.8" data-path="native-debugging.html">
            
                <a href="native-debugging.html">
            
                    
                    调试 Kotlin/Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.9" data-path="native-ios-symbolication.html">
            
                <a href="native-ios-symbolication.html">
            
                    
                    符号化 iOS 崩溃报告
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10" data-path="d-ref-and-tips.html">
            
                <a href="d-ref-and-tips.html">
            
                    
                    参考与提示
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.10.1" data-path="native-target-support.html">
            
                <a href="native-target-support.html">
            
                    
                    目标平台支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.2" data-path="native-improving-compilation-time.html">
            
                <a href="native-improving-compilation-time.html">
            
                    
                    改进编译时间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.3" data-path="native-binary-licenses.html">
            
                <a href="native-binary-licenses.html">
            
                    
                    许可证文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.4" data-path="native-faq.html">
            
                <a href="native-faq.html">
            
                    
                    Kotlin/Native FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="d-wasm.html">
            
                <a href="d-wasm.html">
            
                    
                    WebAssembly（Wasm）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.3.1" data-path="wasm-get-started.html">
            
                <a href="wasm-get-started.html">
            
                    
                    在 IntelliJ IDEA 中入门 Kotlin/Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.2" data-path="wasm-wasi.html">
            
                <a href="wasm-wasi.html">
            
                    
                    Kotlin/Wasm 与 WASI 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.3" data-path="wasm-debugging.html">
            
                <a href="wasm-debugging.html">
            
                    
                    调试 Kotlin/Wasm 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.4" data-path="wasm-js-interop.html">
            
                <a href="wasm-js-interop.html">
            
                    
                    与 JavaScript 的互操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.5" data-path="wasm-troubleshooting.html">
            
                <a href="wasm-troubleshooting.html">
            
                    
                    故障排查
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="d-javascript.html">
            
                <a href="d-javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.1" data-path="js-project-setup.html">
            
                <a href="js-project-setup.html">
            
                    
                    搭建 Kotlin/JS 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.2" data-path="running-kotlin-js.html">
            
                <a href="running-kotlin-js.html">
            
                    
                    运行 Kotlin/JS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.3" data-path="dev-server-continuous-compilation.html">
            
                <a href="dev-server-continuous-compilation.html">
            
                    
                    开发服务器与持续编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.4" data-path="js-debugging.html">
            
                <a href="js-debugging.html">
            
                    
                    调试 Kotlin/JS 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.5" data-path="js-running-tests.html">
            
                <a href="js-running-tests.html">
            
                    
                    在 Kotlin/JS 平台中运行测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.6" data-path="javascript-dce.html">
            
                <a href="javascript-dce.html">
            
                    
                    Kotlin/JS 无用代码消除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.7" data-path="js-ir-compiler.html">
            
                <a href="js-ir-compiler.html">
            
                    
                    Kotlin/JS IR 编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8" data-path="d-kotlin-for-js-platform.html">
            
                <a href="d-kotlin-for-js-platform.html">
            
                    
                    Kotlin 用于 JS 平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.8.1" data-path="browser-api-dom.html">
            
                <a href="browser-api-dom.html">
            
                    
                    浏览器与 DOM API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.2" data-path="js-interop.html">
            
                <a href="js-interop.html">
            
                    
                    在 Kotlin 中使用 JavaScript 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.3" data-path="dynamic-type.html">
            
                <a href="dynamic-type.html">
            
                    
                    动态类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.4" data-path="using-packages-from-npm.html">
            
                <a href="using-packages-from-npm.html">
            
                    
                    使用来自 npm 的依赖
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.5" data-path="js-to-kotlin-interop.html">
            
                <a href="js-to-kotlin-interop.html">
            
                    
                    在 JavaScript 中使用 Kotlin 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.6" data-path="js-modules.html">
            
                <a href="js-modules.html">
            
                    
                    JavaScript 模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.7" data-path="js-reflection.html">
            
                <a href="js-reflection.html">
            
                    
                    Kotlin/JS 反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.8" data-path="typesafe-html-dsl.html">
            
                <a href="typesafe-html-dsl.html">
            
                    
                    类型安全的 HTML DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="d-scripting.html">
            
                <a href="d-scripting.html">
            
                    
                    脚本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.5.1" data-path="custom-script-deps-tutorial.html">
            
                <a href="custom-script-deps-tutorial.html">
            
                    
                    Kotlin 自定义脚本入门——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="l-kotlin-multiplatform-dev.html">
            
                <a href="l-kotlin-multiplatform-dev.html">
            
                    
                    Kotlin 多平台开发↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="d-standard-library.html">
            
                <a href="d-standard-library.html">
            
                    
                    标准库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="d-collections.html">
            
                <a href="d-collections.html">
            
                    
                    集合
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1.1" data-path="collections-overview.html">
            
                <a href="collections-overview.html">
            
                    
                    集合概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.2" data-path="constructing-collections.html">
            
                <a href="constructing-collections.html">
            
                    
                    构造集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.3" data-path="iterators.html">
            
                <a href="iterators.html">
            
                    
                    迭代器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.4" data-path="ranges.html">
            
                <a href="ranges.html">
            
                    
                    区间与数列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.5" data-path="sequences.html">
            
                <a href="sequences.html">
            
                    
                    序列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.6" data-path="collection-operations.html">
            
                <a href="collection-operations.html">
            
                    
                    集合操作概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.7" data-path="collection-transformations.html">
            
                <a href="collection-transformations.html">
            
                    
                    集合转换操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.8" data-path="collection-filtering.html">
            
                <a href="collection-filtering.html">
            
                    
                    过滤集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.9" data-path="collection-plus-minus.html">
            
                <a href="collection-plus-minus.html">
            
                    
                    加减操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.10" data-path="collection-grouping.html">
            
                <a href="collection-grouping.html">
            
                    
                    分组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.11" data-path="collection-parts.html">
            
                <a href="collection-parts.html">
            
                    
                    取集合的一部分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.12" data-path="collection-elements.html">
            
                <a href="collection-elements.html">
            
                    
                    取单个元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.13" data-path="collection-ordering.html">
            
                <a href="collection-ordering.html">
            
                    
                    排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.14" data-path="collection-aggregate.html">
            
                <a href="collection-aggregate.html">
            
                    
                    聚合操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.15" data-path="collection-write.html">
            
                <a href="collection-write.html">
            
                    
                    集合写操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.16" data-path="list-operations.html">
            
                <a href="list-operations.html">
            
                    
                    List 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.17" data-path="set-operations.html">
            
                <a href="set-operations.html">
            
                    
                    Set 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.18" data-path="map-operations.html">
            
                <a href="map-operations.html">
            
                    
                    Map 相关操作
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="read-standard-input.html">
            
                <a href="read-standard-input.html">
            
                    
                    读取标准输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="opt-in-requirements.html">
            
                <a href="opt-in-requirements.html">
            
                    
                    选择加入要求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="scope-functions.html">
            
                <a href="scope-functions.html">
            
                    
                    作用域函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="time-measurement.html">
            
                <a href="time-measurement.html">
            
                    
                    时间度量
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="d-official-library.html">
            
                <a href="d-official-library.html">
            
                    
                    官方库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="d-kotlinx-coroutines.html">
            
                <a href="d-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1.1" data-path="coroutines-guide.html">
            
                <a href="coroutines-guide.html">
            
                    
                    协程指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.2" data-path="coroutines-basics.html">
            
                <a href="coroutines-basics.html">
            
                    
                    协程基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.3" data-path="l-intro-coroutines-and-channels.html">
            
                <a href="l-intro-coroutines-and-channels.html">
            
                    
                    Kotlin 协程与通道介绍↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.4" data-path="cancellation-and-timeouts.html">
            
                <a href="cancellation-and-timeouts.html">
            
                    
                    取消与超时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.5" data-path="composing-suspending-functions.html">
            
                <a href="composing-suspending-functions.html">
            
                    
                    组合挂起函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.6" data-path="coroutine-context-and-dispatchers.html">
            
                <a href="coroutine-context-and-dispatchers.html">
            
                    
                    协程上下文与调度器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.7" data-path="flow.html">
            
                <a href="flow.html">
            
                    
                    异步流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.8" data-path="channels.html">
            
                <a href="channels.html">
            
                    
                    通道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.9" data-path="exception-handling.html">
            
                <a href="exception-handling.html">
            
                    
                    协程异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.10" data-path="shared-mutable-state-and-concurrency.html">
            
                <a href="shared-mutable-state-and-concurrency.html">
            
                    
                    共享的可变状态与并发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.11" data-path="select-expression.html">
            
                <a href="select-expression.html">
            
                    
                    select 表达式（实验性的）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.12" data-path="debug-coroutines-with-idea.html">
            
                <a href="debug-coroutines-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试协程——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.13" data-path="debug-flow-with-idea.html">
            
                <a href="debug-flow-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试 Kotlin Flow——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="serialization.html">
            
                <a href="serialization.html">
            
                    
                    序列化（kotlinx.serialization）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="metadata-jvm.html">
            
                <a href="metadata-jvm.html">
            
                    
                    Kotlin Metadata JVM（kotlin-metadata-jvm）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="d-lincheck.html">
            
                <a href="d-lincheck.html">
            
                    
                    Lincheck（kotlinx.lincheck）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.4.1" data-path="lincheck-guide.html">
            
                <a href="lincheck-guide.html">
            
                    
                    Lincheck 指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.2" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    用 Lincheck 编写第一个测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.3" data-path="testing-strategies.html">
            
                <a href="testing-strategies.html">
            
                    
                    测试策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.4" data-path="operation-arguments.html">
            
                <a href="operation-arguments.html">
            
                    
                    操作参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.5" data-path="constraints.html">
            
                <a href="constraints.html">
            
                    
                    数据结构约束
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.6" data-path="progress-guarantees.html">
            
                <a href="progress-guarantees.html">
            
                    
                    进度保证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.7" data-path="sequential-specification.html">
            
                <a href="sequential-specification.html">
            
                    
                    时序规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="l-ktor1.html">
            
                <a href="l-ktor1.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="d-api-reference.html">
            
                <a href="d-api-reference.html">
            
                    
                    API 参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="l-stdlib.html">
            
                <a href="l-stdlib.html">
            
                    
                    标准库（stdlib）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="l-kotlin-test.html">
            
                <a href="l-kotlin-test.html">
            
                    
                    测试库（kotlin.test）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="l-kotlinx-coroutines.html">
            
                <a href="l-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="l-kotlinx-serialization.html">
            
                <a href="l-kotlinx-serialization.html">
            
                    
                    序列化（kotlinx.serialization）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="l-kotlinx-io.html">
            
                <a href="l-kotlinx-io.html">
            
                    
                    Kotlin I/O 库（kotlinx-io）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="l-kotlinx-datetime.html">
            
                <a href="l-kotlinx-datetime.html">
            
                    
                    日期与时间（kotlinx-datetime）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="l-kotlinx-metadata-jvm.html">
            
                <a href="l-kotlinx-metadata-jvm.html">
            
                    
                    JVM 元数据（kotlinx-metadata-jvm）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8" data-path="l-ktor2.html">
            
                <a href="l-ktor2.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9" data-path="l-kotlin-gradle-plugin.html">
            
                <a href="l-kotlin-gradle-plugin.html">
            
                    
                    Kotlin Gradle 插件（kotlin-gradle-plugin）↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="d-language-reference.html">
            
                <a href="d-language-reference.html">
            
                    
                    语言参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="keyword-reference.html">
            
                <a href="keyword-reference.html">
            
                    
                    关键字与操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="l-grammar.html">
            
                <a href="l-grammar.html">
            
                    
                    语法↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="l-kotlin-spec.html">
            
                <a href="l-kotlin-spec.html">
            
                    
                    语言规范↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="d-tools.html">
            
                <a href="d-tools.html">
            
                    
                    工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="d-build-tools.html">
            
                <a href="d-build-tools.html">
            
                    
                    构建工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1" data-path="d-gradle.html">
            
                <a href="d-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1.1" data-path="gradle.html">
            
                <a href="gradle.html">
            
                    
                    Gradle 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.2" data-path="get-started-with-jvm-gradle-project.html">
            
                <a href="get-started-with-jvm-gradle-project.html">
            
                    
                    Gradle 入门——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.3" data-path="gradle-configure-project.html">
            
                <a href="gradle-configure-project.html">
            
                    
                    配置 Gradle 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.4" data-path="gradle-best-practices.html">
            
                <a href="gradle-best-practices.html">
            
                    
                    Gradle 最佳实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.5" data-path="gradle-compiler-options.html">
            
                <a href="gradle-compiler-options.html">
            
                    
                    Kotlin Gradle 插件中的编译器选项
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.6" data-path="gradle-compilation-and-caches.html">
            
                <a href="gradle-compilation-and-caches.html">
            
                    
                    Kotlin Gradle 插件中的编译项与缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.7" data-path="gradle-plugin-variants.html">
            
                <a href="gradle-plugin-variants.html">
            
                    
                    支持 Gradle 插件变体
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.1.2" data-path="maven.html">
            
                <a href="maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.3" data-path="ant.html">
            
                <a href="ant.html">
            
                    
                    Ant
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="d-dokka.html">
            
                <a href="d-dokka.html">
            
                    
                    Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.1" data-path="dokka-introduction.html">
            
                <a href="dokka-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.2" data-path="dokka-get-started.html">
            
                <a href="dokka-get-started.html">
            
                    
                    Dokka 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3" data-path="d-run-dokka.html">
            
                <a href="d-run-dokka.html">
            
                    
                    运行 Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.3.1" data-path="dokka-gradle.html">
            
                <a href="dokka-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.2" data-path="dokka-maven.html">
            
                <a href="dokka-maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.3" data-path="dokka-cli.html">
            
                <a href="dokka-cli.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.4" data-path="d-output-formats.html">
            
                <a href="d-output-formats.html">
            
                    
                    输出格式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.4.1" data-path="dokka-html.html">
            
                <a href="dokka-html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.2" data-path="dokka-markdown.html">
            
                <a href="dokka-markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.3" data-path="dokka-javadoc.html">
            
                <a href="dokka-javadoc.html">
            
                    
                    Javadoc
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.5" data-path="dokka-plugins.html">
            
                <a href="dokka-plugins.html">
            
                    
                    Dokka 插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.6" data-path="dokka-module-and-package-docs.html">
            
                <a href="dokka-module-and-package-docs.html">
            
                    
                    模块文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="kotlin-ide.html">
            
                <a href="kotlin-ide.html">
            
                    
                    用于 Kotlin 开发的 IDE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="code-style-migration-guide.html">
            
                <a href="code-style-migration-guide.html">
            
                    
                    使用 IntelliJ IDEA 迁移到 Kotlin 代码风格
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="kotlin-notebook-overview.html">
            
                <a href="kotlin-notebook-overview.html">
            
                    
                    Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="lets-plot.html">
            
                <a href="lets-plot.html">
            
                    
                    用于 Kotlin 的 Lets-Plot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="run-code-snippets.html">
            
                <a href="run-code-snippets.html">
            
                    
                    运行代码片段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.8" data-path="kotlin-and-ci.html">
            
                <a href="kotlin-and-ci.html">
            
                    
                    Kotlin 与 TeamCity 的持续集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.9" data-path="kotlin-doc.html">
            
                <a href="kotlin-doc.html">
            
                    
                    编写代码文档：KDoc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.10" data-path="kotlin-osgi.html">
            
                <a href="kotlin-osgi.html">
            
                    
                    Kotlin 与 OSGi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="d-compiler-and-plugin.html">
            
                <a href="d-compiler-and-plugin.html">
            
                    
                    编译器与插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="d-compiler.html">
            
                <a href="d-compiler.html">
            
                    
                    编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1.1" data-path="k2-compiler-migration-guide.html">
            
                <a href="k2-compiler-migration-guide.html">
            
                    
                    K2 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.2" data-path="command-line.html">
            
                <a href="command-line.html">
            
                    
                    Kotlin 命令行编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.3" data-path="compiler-reference.html">
            
                <a href="compiler-reference.html">
            
                    
                    Kotlin 编译器选项
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="d-compiler-plugins.html">
            
                <a href="d-compiler-plugins.html">
            
                    
                    编译器插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.2.1" data-path="all-open-plugin.html">
            
                <a href="all-open-plugin.html">
            
                    
                    全开放编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.2" data-path="no-arg-plugin.html">
            
                <a href="no-arg-plugin.html">
            
                    
                    No-arg 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.3" data-path="sam-with-receiver-plugin.html">
            
                <a href="sam-with-receiver-plugin.html">
            
                    
                    带有接收者的 SAM 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.4" data-path="kapt.html">
            
                <a href="kapt.html">
            
                    
                    kapt 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.5" data-path="lombok.html">
            
                <a href="lombok.html">
            
                    
                    Lombok 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.6" data-path="power-assert.html">
            
                <a href="power-assert.html">
            
                    
                    Power-assert
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="d-compose-compiler.html">
            
                <a href="d-compose-compiler.html">
            
                    
                    Compose 编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.3.1" data-path="compose-compiler-migration-guide.html">
            
                <a href="compose-compiler-migration-guide.html">
            
                    
                    Compose 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.2" data-path="compose-compiler-options.html">
            
                <a href="compose-compiler-options.html">
            
                    
                    Compose 编译器选项 DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="d-ksp.html">
            
                <a href="d-ksp.html">
            
                    
                    Kotlin 符号处理（KSP）API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.4.1" data-path="ksp-overview.html">
            
                <a href="ksp-overview.html">
            
                    
                    KSP 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.2" data-path="ksp-quickstart.html">
            
                <a href="ksp-quickstart.html">
            
                    
                    KSP 快速入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.3" data-path="ksp-why-ksp.html">
            
                <a href="ksp-why-ksp.html">
            
                    
                    为什么选用 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.4" data-path="ksp-examples.html">
            
                <a href="ksp-examples.html">
            
                    
                    KSP 示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.5" data-path="ksp-additional-details.html">
            
                <a href="ksp-additional-details.html">
            
                    
                    KSP 如何为 Kotlin 代码建模
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.6" data-path="ksp-reference.html">
            
                <a href="ksp-reference.html">
            
                    
                    Java 注解处理对应到 KSP 参考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.7" data-path="ksp-incremental.html">
            
                <a href="ksp-incremental.html">
            
                    
                    增量处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.8" data-path="ksp-multi-round.html">
            
                <a href="ksp-multi-round.html">
            
                    
                    多轮次处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.9" data-path="ksp-multiplatform.html">
            
                <a href="ksp-multiplatform.html">
            
                    
                    KSP 与 Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.10" data-path="ksp-command-line.html">
            
                <a href="ksp-command-line.html">
            
                    
                    在命令行运行 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.11" data-path="ksp-faq.html">
            
                <a href="ksp-faq.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="d-learning-materials.html">
            
                <a href="d-learning-materials.html">
            
                    
                    学习资料
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="learning-materials-overview.html">
            
                <a href="learning-materials-overview.html">
            
                    
                    学习资料概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="l-kotlin-by-example2.html">
            
                <a href="l-kotlin-by-example2.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="koans.html">
            
                <a href="koans.html">
            
                    
                    Kotlin 心印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="l-kotlin-core-track.html">
            
                <a href="l-kotlin-core-track.html">
            
                    
                    Kotlin 核心课程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.5" data-path="kotlin-hands-on.html">
            
                <a href="kotlin-hands-on.html">
            
                    
                    Kotlin 动手实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.6" data-path="kotlin-tips.html">
            
                <a href="kotlin-tips.html">
            
                    
                    Kotlin 小窍门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.7" data-path="books.html">
            
                <a href="books.html">
            
                    
                    图书
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.8" data-path="advent-of-code.html">
            
                <a href="advent-of-code.html">
            
                    
                    Advent of Code 谜题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9" data-path="d-edu-tools.html">
            
                <a href="d-edu-tools.html">
            
                    
                    在 IDE 中学习（JetBrains 学院）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.9.1" data-path="edu-tools-learner.html">
            
                <a href="edu-tools-learner.html">
            
                    
                    学习 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9.2" data-path="edu-tools-educator.html">
            
                <a href="edu-tools-educator.html">
            
                    
                    讲授 Kotlin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10" data-path="d-lib-creator-guidelines.html">
            
                <a href="d-lib-creator-guidelines.html">
            
                    
                    库作者指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.1" data-path="api-guidelines-introduction.html">
            
                <a href="api-guidelines-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2" data-path="d-minimize-mental-complexity.html">
            
                <a href="d-minimize-mental-complexity.html">
            
                    
                    最小化心理复杂性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.2.1" data-path="api-guidelines-minimizing-mental-complexity.html">
            
                <a href="api-guidelines-minimizing-mental-complexity.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.2" data-path="api-guidelines-simplicity.html">
            
                <a href="api-guidelines-simplicity.html">
            
                    
                    简单
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.3" data-path="api-guidelines-readability.html">
            
                <a href="api-guidelines-readability.html">
            
                    
                    可读性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.4" data-path="api-guidelines-consistency.html">
            
                <a href="api-guidelines-consistency.html">
            
                    
                    一致性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.5" data-path="api-guidelines-predictability.html">
            
                <a href="api-guidelines-predictability.html">
            
                    
                    可预测性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.6" data-path="api-guidelines-debuggability.html">
            
                <a href="api-guidelines-debuggability.html">
            
                    
                    可调试性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.7" data-path="api-guidelines-testability.html">
            
                <a href="api-guidelines-testability.html">
            
                    
                    可测试性
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10.3" data-path="api-guidelines-backward-compatibility.html">
            
                <a href="api-guidelines-backward-compatibility.html">
            
                    
                    反向兼容性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.4" data-path="api-guidelines-informative-documentation.html">
            
                <a href="api-guidelines-informative-documentation.html">
            
                    
                    内容翔实的文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.5" data-path="api-guidelines-build-for-multiplatform.html">
            
                <a href="api-guidelines-build-for-multiplatform.html">
            
                    
                    构建多平台库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="d-eap.html">
            
                <a href="d-eap.html">
            
                    
                    早期访问计划（EAP）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="eap.html">
            
                <a href="eap.html">
            
                    
                    参与 Kotlin 早期访问计划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="configure-build-for-eap.html">
            
                <a href="configure-build-for-eap.html">
            
                    
                    配置构建采用 EAP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="d-other-resources.html">
            
                <a href="d-other-resources.html">
            
                    
                    其他资源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="d-compatibility.html">
            
                <a href="d-compatibility.html">
            
                    
                    Kotlin 兼容性指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.2.1" data-path="compatibility-guide-21.html">
            
                <a href="compatibility-guide-21.html">
            
                    
                    Kotlin 2.1 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.2" data-path="compatibility-guide-20.html">
            
                <a href="compatibility-guide-20.html">
            
                    
                    Kotlin 2.0 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.3" data-path="compatibility-guide-19.html">
            
                <a href="compatibility-guide-19.html">
            
                    
                    Kotlin 1.9 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.4" data-path="compatibility-guide-18.html">
            
                <a href="compatibility-guide-18.html">
            
                    
                    Kotlin 1.8 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.5" data-path="compatibility-guide-1720.html">
            
                <a href="compatibility-guide-1720.html">
            
                    
                    Kotlin 1.7.20 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.6" data-path="compatibility-guide-17.html">
            
                <a href="compatibility-guide-17.html">
            
                    
                    Kotlin 1.7 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.7" data-path="compatibility-guide-16.html">
            
                <a href="compatibility-guide-16.html">
            
                    
                    Kotlin 1.6 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.8" data-path="compatibility-guide-15.html">
            
                <a href="compatibility-guide-15.html">
            
                    
                    Kotlin 1.5 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.9" data-path="compatibility-guide-14.html">
            
                <a href="compatibility-guide-14.html">
            
                    
                    Kotlin 1.4 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.10" data-path="compatibility-guide-13.html">
            
                <a href="compatibility-guide-13.html">
            
                    
                    Kotlin 1.3 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.11" data-path="compatibility-modes.html">
            
                <a href="compatibility-modes.html">
            
                    
                    兼容模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="d-kotlin-foundation.html">
            
                <a href="d-kotlin-foundation.html">
            
                    
                    Kotlin 基金会
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.3.1" data-path="l-kotlin-foundation.html">
            
                <a href="l-kotlin-foundation.html">
            
                    
                    Kotlin 基金会↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.2" data-path="l-language-committee-guidelines.html">
            
                <a href="l-language-committee-guidelines.html">
            
                    
                    语言委员会准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.3" data-path="l-submitting-incompatible-changes.html">
            
                <a href="l-submitting-incompatible-changes.html">
            
                    
                    提交不兼容变更指南↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.4" data-path="l-guidelines.html">
            
                <a href="l-guidelines.html">
            
                    
                    Kotlin 品牌用途准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.5" data-path="l-foundation-faq.html">
            
                <a href="l-foundation-faq.html">
            
                    
                    Kotlin 基金会 FAQ↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="d-gsoc.html">
            
                <a href="d-gsoc.html">
            
                    
                    Google Summer of Code
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.4.1" data-path="gsoc-overview.html">
            
                <a href="gsoc-overview.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.2" data-path="l-gsoc-2025.html">
            
                <a href="l-gsoc-2025.html">
            
                    
                    Google Summer of Code with Kotlin 2025↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.3" data-path="l-gsoc-2024.html">
            
                <a href="l-gsoc-2024.html">
            
                    
                    Google Summer of Code with Kotlin 2024↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.4" data-path="l-gsoc-2023.html">
            
                <a href="l-gsoc-2023.html">
            
                    
                    Google Summer of Code with Kotlin 2023↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="security.html">
            
                <a href="security.html">
            
                    
                    安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="d-community.html">
            
                <a href="d-community.html">
            
                    
                    社区
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.6.1" data-path="contribute.html">
            
                <a href="contribute.html">
            
                    
                    贡献力量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.2" data-path="kug-guidelines.html">
            
                <a href="kug-guidelines.html">
            
                    
                    KUG 准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.3" data-path="kotlin-night-guidelines.html">
            
                <a href="kotlin-night-guidelines.html">
            
                    
                    Kotlin 之夜准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.4" data-path="slack-code-of-conduct.html">
            
                <a href="slack-code-of-conduct.html">
            
                    
                    Kotlin Slack 的行为准则与指南
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.7" data-path="kotlin-brand-assets.html">
            
                <a href="kotlin-brand-assets.html">
            
                    
                    Kotlin 品牌素材
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.8" data-path="l-press-kit.html">
            
                <a href="l-press-kit.html">
            
                    
                    宣传资料↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            本书使用 HonKit 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Kotlin 1.8.20</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="kotlin-1820-的新特性">Kotlin 1.8.20 的新特性</h1>
<p><em><a href="releases.html#版本发布详情">发布于：2025-05-13</a></em></p>
<p>The Kotlin 1.8.20 release is out and here are some of its biggest highlights:</p>
<ul>
<li><a href="#新版-kotlin-k2-编译器更新">新版 Kotlin K2 编译器更新</a></li>
<li><a href="#新增-kotlinwasm-目标平台">新增实验性 Kotlin/Wasm 目标平台</a></li>
<li><a href="#gradle-中默认新版-jvm-增量编译">Gradle 中默认新版 JVM 增量编译</a></li>
<li><a href="#kotlinnative-目标更新">Kotlin/Native 目标更新</a></li>
<li><a href="#kotlin-多平台支持-gradle-复合构建预览版">Kotlin 多平台 Gradle 复合构建预览版</a></li>
<li><a href="#改进了-xcode-中-gradle-错误的输出">改进了 Xcode 中 Gradle 错误的输出</a></li>
<li><a href="#支持-autocloseable-接口">标准库中对 AutoCloseable 接口的实验性支持</a></li>
<li><a href="#支持-base64-编码">标准库中对 Base64 编码的实验性支持</a></li>
</ul>
<p>You can also find a short overview of the changes in this video:</p>
<p>YouTube 视频：<a href="https://www.youtube.com/watch?v=https://www.youtube.com/v/R1JpkpPzyBU" target="_blank">What's new in Kotlin 1.8.20</a> <br></br> <iframe width="560" height="315" src="https://www.youtube.com/embed/https://www.youtube.com/v/R1JpkpPzyBU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" title="What's new in Kotlin 1.8.20" allowfullscreen=""></iframe><br></br></p>
<h2 id="ide-支持">IDE 支持</h2>
<p>The Kotlin plugins that support 1.8.20 are available for:</p>
<table>
<thead>
<tr>
<th>IDE</th>
<th>Supported versions</th>
</tr>
</thead>
<tbody>
<tr>
<td>IntelliJ IDEA</td>
<td>2022.2.x, 2022.3.x,  2023.1.x</td>
</tr>
<tr>
<td>Android Studio</td>
<td>Flamingo (222)</td>
</tr>
</tbody>
</table>
<blockquote>
<p>To download Kotlin artifacts and dependencies properly, <a href="#配置-gradle-设置">configure Gradle settings</a>
to use the Maven Central repository.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<h2 id="新版-kotlin-k2-编译器更新">新版 Kotlin K2 编译器更新</h2>
<p>The Kotlin team continues to stabilize the K2 compiler. As mentioned in
the <a href="whatsnew17.html#用于-jvm-的新版-kotlin-k2-编译器进入-alpha-阶段">Kotlin 1.7.0 announcement</a>, it's still in <strong>Alpha</strong>.
This release introduces further improvements on the road to <a href="https://youtrack.jetbrains.com/issue/KT-52604" target="_blank">K2 Beta</a>.</p>
<p>Starting with this 1.8.20 release, the Kotlin K2 compiler:</p>
<ul>
<li>Has a preview version of the serialization plugin.</li>
<li>Provides Alpha support for the <a href="js-ir-compiler.html">JS IR compiler</a>.</li>
<li>Introduces the future release of
the <a href="https://blog.jetbrains.com/kotlin/2023/02/k2-kotlin-2-0/" target="_blank">new language version, Kotlin 2.0</a>.</li>
</ul>
<p>Learn more about the new compiler and its benefits in the following videos:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=iTdJJq_LyoY" target="_blank">What Everyone Must Know About The NEW Kotlin K2 Compiler</a></li>
<li><a href="https://www.youtube.com/watch?v=db19VFLZqJM" target="_blank">The New Kotlin K2 Compiler: Expert Review</a></li>
</ul>
<h3 id="如何启用-kotlin-k2-编译器">如何启用 Kotlin K2 编译器</h3>
<p>To enable and test the Kotlin K2 compiler, use the new language version with the following compiler option:</p>
<pre><code class="lang-bash">-language-version 2.0
</code></pre>
<p>You can specify it in your <code>build.gradle(.kts)</code> file:</p>
<pre><code class="lang-kotlin">kotlin {
   sourceSets.all {
       languageSettings {
           languageVersion = <span class="hljs-string">"2.0"</span>
       }
   }
}
</code></pre>
<p>The previous <code>-Xuse-k2</code> compiler option has been deprecated.</p>
<blockquote>
<p>The Alpha version of the new K2 compiler only works with JVM and JS IR projects.
It doesn't support Kotlin/Native or any of the multiplatform projects yet.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<h3 id="反馈你对新版-k2-编译器的意见">反馈你对新版 K2 编译器的意见</h3>
<p>We would appreciate any feedback you may have!</p>
<ul>
<li>Provide your feedback directly to K2 developers on Kotlin
Slack – <a href="https://surveys.jetbrains.com/s3/kotlin-slack-sign-up?_gl=1*ju6cbn*_ga*MTA3MTk5NDkzMC4xNjQ2MDY3MDU4*_ga_9J976DJZ68*MTY1ODMzNzA3OS4xMDAuMS4xNjU4MzQwODEwLjYw" target="_blank">get an invite</a>
and join the <a href="https://kotlinlang.slack.com/archives/C03PK0PE257" target="_blank">#k2-early-adopters</a> channel.</li>
<li>Report any problems you faced with the new K2 compiler
on <a href="https://kotl.in/issue" target="_blank">our issue tracker</a>.</li>
<li><a href="https://www.jetbrains.com/help/idea/settings-usage-statistics.html" target="_blank">Enable the <strong>Send usage statistics</strong> option</a> to
allow JetBrains to collect anonymous data about K2 usage.</li>
</ul>
<h2 id="语言">语言</h2>
<p>As Kotlin continues to evolve, we're introducing preview versions for new language features in 1.8.20:</p>
<ul>
<li><a href="#枚举类类-values-函数的现代且高性能替代">枚举类类 values 函数的现代且高性能替代</a></li>
<li><a href="#与数据类相称的数据对象预览版">与数据类相称的数据对象</a></li>
<li><a href="#取消对内联类中有函数体的次构造函数限制的预览版">取消对内联类体中有次构造函数限制</a></li>
</ul>
<h3 id="枚举类类-values-函数的现代且高性能替代">枚举类类 values 函数的现代且高性能替代</h3>
<blockquote>
<p>This feature is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be dropped or changed at any time. Opt-in is required (see details below). Use it only for evaluation purposes.
We would appreciate your feedback on it in <a href="https://kotl.in/issue" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Enum classes have a synthetic <code>values()</code> function, which returns an array of defined enum constants. However, using an
array can lead to <a href="https://github.com/Kotlin/KEEP/blob/master/proposals/enum-entries.md#examples-of-performance-issues" target="_blank">hidden performance issues</a>
in Kotlin and Java. In addition, most of the APIs use collections, which require eventual conversion. To fix these
problems, we've introduced the <code>entries</code> property for Enum classes, which should be used instead of the <code>values()</code>
function. When called, the <code>entries</code> property returns a pre-allocated immutable list of defined enum constants.</p>
<blockquote>
<p>The <code>values()</code> function is still supported, but we recommend that you use the <code>entries</code> property
instead.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<pre><code class="lang-kotlin"><span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Color</span>(<span class="hljs-keyword">val</span> colorName: String, <span class="hljs-keyword">val</span> rgb: String) {
    RED(<span class="hljs-string">"Red"</span>, <span class="hljs-string">"#FF0000"</span>),
    ORANGE(<span class="hljs-string">"Orange"</span>, <span class="hljs-string">"#FF7F00"</span>),
    YELLOW(<span class="hljs-string">"Yellow"</span>, <span class="hljs-string">"#FFFF00"</span>)
}

<span class="hljs-meta">@OptIn(ExperimentalStdlibApi::class)</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">findByRgb</span><span class="hljs-params">(rgb: <span class="hljs-type">String</span>)</span></span>: Color? = Color.entries.find { it.rgb == rgb }
</code></pre>
<h4 id="如何启用-entries-属性">如何启用 entries 属性</h4>
<p>To try this feature out, opt in with <code>@OptIn(ExperimentalStdlibApi)</code> and enable the <code>-language-version 1.9</code> compiler
option. In a Gradle project, you can do so by adding the following to your <code>build.gradle(.kts)</code> file:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">tasks
    .withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask&lt;*&gt;&gt;()
    .configureEach {
        compilerOptions
            .languageVersion
            .<span class="hljs-keyword">set</span>(
                org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
            )
    }
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">tasks
    .withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask.<span class="hljs-keyword">class</span>)
    .configureEach {
        compilerOptions.languageVersion =
            org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
    }
</code></pre>
<hr></hr>
<blockquote>
<p>Starting with IntelliJ IDEA 2023.1, if you have opted in to this feature, the appropriate IDE
inspection will notify you about converting from <code>values()</code> to <code>entries</code> and offer a quick-fix.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<p>For more information on the proposal, see the <a href="https://github.com/Kotlin/KEEP/blob/master/proposals/enum-entries.md" target="_blank">KEEP note</a>.</p>
<h3 id="与数据类相称的数据对象预览版">与数据类相称的数据对象预览版</h3>
<p>Data objects allow you to declare objects with singleton semantics and a clean <code>toString()</code> representation. In this
snippet, you can see how adding the <code>data</code> keyword to an object declaration improves the readability of its <code>toString()</code>
output:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">package</span> org.example
<span class="hljs-keyword">object</span> MyObject
<span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> MyDataObject

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    println(MyObject) <span class="hljs-comment">// org.example.MyObject@1f32e575</span>
    println(MyDataObject) <span class="hljs-comment">// MyDataObject</span>
}
</code></pre>
<p>Especially for <code>sealed</code> hierarchies (like a <code>sealed class</code> or <code>sealed interface</code> hierarchy), <code>data objects</code> are an
excellent fit because they can be used conveniently alongside <code>data class</code> declarations. In this snippet,
declaring <code>EndOfFile</code> as a <code>data object</code> instead of a plain <code>object</code> means that it will get a pretty <code>toString</code> without
the need to override it manually. This maintains symmetry with the accompanying data class definitions.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">sealed</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ReadResult</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Number</span>(<span class="hljs-keyword">val</span> number: <span class="hljs-built_in">Int</span>) : ReadResult
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Text</span>(<span class="hljs-keyword">val</span> text: String) : ReadResult
<span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> EndOfFile : ReadResult

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    println(Number(<span class="hljs-number">7</span>)) <span class="hljs-comment">// Number(number=7)</span>
    println(EndOfFile) <span class="hljs-comment">// EndOfFile</span>
}
</code></pre>
<h4 id="数据对象的语义">数据对象的语义</h4>
<p>Since their first preview version in <a href="whatsnew1720.html#通过数据对象改进了单例与密封类层次结构的字符串表示">Kotlin 1.7.20</a>,
the semantics of data objects have been refined. The compiler now automatically generates a number of convenience
functions for them:</p>
<h5 id="tostring">toString</h5>
<p>The <code>toString()</code> function of a data object returns the simple name of the object:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> MyDataObject {
    <span class="hljs-keyword">val</span> x: <span class="hljs-built_in">Int</span> = <span class="hljs-number">3</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    println(MyDataObject) <span class="hljs-comment">// MyDataObject</span>
}
</code></pre>
<h5 id="equals-与-hashcode">equals 与 hashCode</h5>
<p>The <code>equals()</code> function for a <code>data object</code> ensures that all objects that have the type of your <code>data object</code> are
considered equal. In most cases, you will only have a single instance of your data object at runtime (after all,
a <code>data object</code> declares a singleton). However, in the edge case where another object of the same type is generated at
runtime (for example, via platform reflection through <code>java.lang.reflect</code>, or by using a JVM serialization library that
uses this API under the hood), this ensures that the objects are treated as equal.</p>
<p>Make sure to only compare <code>data objects</code> structurally (using the <code>==</code> operator) and never by reference (the <code>===</code>
operator). This helps avoid pitfalls when more than one instance of a data object exists at runtime. The following
snippet illustrates this specific edge case:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> java.lang.reflect.Constructor

<span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> MySingleton

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> evilTwin = createInstanceViaReflection()

    println(MySingleton) <span class="hljs-comment">// MySingleton</span>
    println(evilTwin) <span class="hljs-comment">// MySingleton</span>

    <span class="hljs-comment">// Even when a library forcefully creates a second instance of MySingleton, its `equals` method returns true:</span>
    println(MySingleton == evilTwin) <span class="hljs-comment">// true</span>

    <span class="hljs-comment">// Do not compare data objects via ===.</span>
    println(MySingleton === evilTwin) <span class="hljs-comment">// false</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createInstanceViaReflection</span><span class="hljs-params">()</span></span>: MySingleton {
    <span class="hljs-comment">// Kotlin reflection does not permit the instantiation of data objects.</span>
    <span class="hljs-comment">// This creates a new MySingleton instance "by force" (i.e., Java platform reflection)</span>
    <span class="hljs-comment">// Don't do this yourself!</span>
    <span class="hljs-keyword">return</span> (MySingleton.javaClass.declaredConstructors[<span class="hljs-number">0</span>].apply { isAccessible = <span class="hljs-literal">true</span> } <span class="hljs-keyword">as</span> Constructor&lt;MySingleton&gt;).newInstance()
}
</code></pre>
<p>The behavior of the generated <code>hashCode()</code> function is consistent with that of the <code>equals()</code> function, so that all
runtime instances of a <code>data object</code> have the same hash code.</p>
<h5 id="数据对象没有-copy-与-componentn-函数">数据对象没有 copy 与 componentN 函数</h5>
<p>While <code>data object</code> and <code>data class</code> declarations are often used together and have some similarities, there are some
functions that are not generated for a <code>data object</code>:</p>
<p>Because a <code>data object</code> declaration is intended to be used as a singleton object, no <code>copy()</code> function is generated.
The singleton pattern restricts the instantiation of a class to a single instance, and allowing copies of the instance to be
created would violate that restriction.</p>
<p>Also, unlike a <code>data class</code>, a <code>data object</code> does not have any data properties. Since attempting to destructure such an
object would not make sense, no <code>componentN()</code> functions are generated.</p>
<p>We would appreciate your feedback on this feature in <a href="https://youtrack.jetbrains.com/issue/KT-4107" target="_blank">YouTrack</a>.</p>
<h4 id="如何启用数据对象预览版">如何启用数据对象预览版</h4>
<p>To try this feature out, enable the <code>-language-version 1.9</code> compiler option. In a Gradle project, you can do so by
adding the following to your <code>build.gradle(.kts)</code> file:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">tasks
    .withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask&lt;*&gt;&gt;()
    .configureEach {
        compilerOptions
            .languageVersion
            .<span class="hljs-keyword">set</span>(
                org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
            )
    }
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">tasks
    .withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask.<span class="hljs-keyword">class</span>)
    .configureEach {
        compilerOptions.languageVersion =
            org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
    }
</code></pre>
<hr></hr>
<h3 id="取消对内联类中有函数体的次构造函数限制的预览版">取消对内联类中有函数体的次构造函数限制的预览版</h3>
<blockquote>
<p>This feature is <a href="components-stability.html#stability-levels-explained">Experimental</a>. It may be dropped or changed at any time.
Opt-in is required (see details below). Use it only for evaluation purposes. We would appreciate your feedback on it in <a href="https://kotl.in/issue" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Kotlin 1.8.20 lifts restrictions on the use of secondary constructors with bodies
in <a href="inline-classes.html">inline classes</a>.</p>
<p>Inline classes used to allow only a public primary constructor without <code>init</code> blocks or secondary constructors to have
clear initialization semantics. As a result, it was impossible to encapsulate underlying values or create an inline
class that would represent some constrained values.</p>
<p>These issues were fixed when Kotlin 1.4.30 lifted restrictions on <code>init</code> blocks. Now we're taking it a step further and
allowing secondary constructors with bodies in preview mode:</p>
<pre><code class="lang-kotlin"><span class="hljs-meta">@JvmInline</span>
value <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> fullName: String) {
    <span class="hljs-comment">// Allowed since Kotlin 1.4.30:</span>
    <span class="hljs-keyword">init</span> { 
        check(fullName.isNotBlank()) {
            <span class="hljs-string">"Full name shouldn't be empty"</span>
        }
    }

    <span class="hljs-comment">// Preview available since Kotlin 1.8.20:</span>
    <span class="hljs-keyword">constructor</span>(name: String, lastName: String) : <span class="hljs-keyword">this</span>(<span class="hljs-string">"<span class="hljs-variable">$name</span> <span class="hljs-variable">$lastName</span>"</span>) {
        check(lastName.isNotBlank()) {
            <span class="hljs-string">"Last name shouldn't be empty"</span>
        }
    }
}
</code></pre>
<h4 id="如何启用带函数体的次构造函数">如何启用带函数体的次构造函数</h4>
<p>To try this feature out, enable the <code>-language-version 1.9</code> compiler option. In a Gradle project, you can do so by
adding the following to your <code>build.gradle(.kts)</code>:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">tasks
    .withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask&lt;*&gt;&gt;()
    .configureEach {
        compilerOptions
            .languageVersion
            .<span class="hljs-keyword">set</span>(
                org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
            )
    }
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">tasks
    .withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask.<span class="hljs-keyword">class</span>)
    .configureEach {
        compilerOptions.languageVersion =
            org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
    }
</code></pre>
<hr></hr>
<p>We encourage you to try this feature out and submit all reports in <a href="https://kotl.in/issue" target="_blank">YouTrack</a> to help us make it
the default in Kotlin 1.9.0.</p>
<p>Learn more about the development of Kotlin inline classes in <a href="https://github.com/Kotlin/KEEP/blob/master/proposals/inline-classes.md" target="_blank">this KEEP</a>.</p>
<h2 id="新增-kotlinwasm-目标平台">新增 Kotlin/Wasm 目标平台</h2>
<p>Kotlin/Wasm (Kotlin WebAssembly) goes <a href="components-stability.html#stability-levels-explained">Experimental</a> in this
release. The Kotlin team finds <a href="https://webassembly.org/" target="_blank">WebAssembly</a> to be a promising technology and wants to find
better ways for you to use it and get all of the benefits of Kotlin.</p>
<p>WebAssembly binary format is independent of the platform because it runs using its own virtual machine. Almost all modern
browsers already support WebAssembly 1.0. To set up the environment to run WebAssembly, you only need to enable an
experimental garbage collection mode that Kotlin/Wasm targets. You can find detailed instructions
here: <a href="#如何启用-kotlinwasm">How to enable Kotlin/Wasm</a>.</p>
<p>We want to highlight the following advantages of the new Kotlin/Wasm target:</p>
<ul>
<li>Faster compilation speed compared to the <code>wasm32</code> Kotlin/Native target, since Kotlin/Wasm doesn't have to use LLVM.</li>
<li>Easier interoperability with JS and integration with browsers compared to the <code>wasm32</code> target, thanks to the <a href="https://github.com/WebAssembly/gc" target="_blank">Wasm garbage collection</a>.</li>
<li>Potentially faster application startup compared to Kotlin/JS and JavaScript because Wasm has a compact and
easy-to-parse bytecode.</li>
<li>Improved application runtime performance compared to Kotlin/JS and JavaScript because Wasm is a statically typed language.</li>
</ul>
<p>Starting with the 1.8.20 release, you can use Kotlin/Wasm in your experimental projects.
We provide the Kotlin standard library (<code>stdlib</code>) and test library (<code>kotlin.test</code>) for Kotlin/Wasm out of the box.
IDE support will be added in future releases.</p>
<p><a href="https://www.youtube.com/watch?v=-pqz9sKXatw" target="_blank">Learn more about Kotlin/Wasm in this YouTube video</a>.</p>
<h3 id="如何启用-kotlinwasm">如何启用 Kotlin/Wasm</h3>
<p>To enable and test Kotlin/Wasm, update your <code>build.gradle.kts</code> file:</p>
<pre><code class="lang-kotlin">plugins {
    kotlin(<span class="hljs-string">"multiplatform"</span>) version <span class="hljs-string">"1.8.20"</span>
}

kotlin {
    wasm {
        binaries.executable()
        browser {
        }
    }
    sourceSets {
        <span class="hljs-keyword">val</span> commonMain <span class="hljs-keyword">by</span> getting
        <span class="hljs-keyword">val</span> commonTest <span class="hljs-keyword">by</span> getting {
            dependencies {
                implementation(kotlin(<span class="hljs-string">"test"</span>))
            }
        }
        <span class="hljs-keyword">val</span> wasmMain <span class="hljs-keyword">by</span> getting
        <span class="hljs-keyword">val</span> wasmTest <span class="hljs-keyword">by</span> getting
    }
}
</code></pre>
<blockquote>
<p>Check out the <a href="https://github.com/Kotlin/kotlin-wasm-examples" target="_blank">GitHub repository with Kotlin/Wasm examples</a>.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<p>To run a Kotlin/Wasm project, you need to update the settings of the target environment:</p>
<hr></hr>
<blockquote>
<p><strong>【Chrome】</strong></p>
</blockquote>
<ul>
<li><p>For version 109:</p>
<p>Run the application with the <code>--js-flags=--experimental-wasm-gc</code> command line argument.</p>
</li>
<li><p>For version 110 or later:</p>
<ol>
<li>Go to <code>chrome://flags/#enable-webassembly-garbage-collection</code> in your browser.</li>
<li>Enable <strong>WebAssembly Garbage Collection</strong>.</li>
<li>Relaunch your browser.</li>
</ol>
</li>
</ul>
<hr></hr>
<blockquote>
<p><strong>【Firefox】</strong></p>
</blockquote>
<p>For version 109 or later:</p>
<ol>
<li>Go to <code>about:config</code> in your browser.</li>
<li>Enable <code>javascript.options.wasm_function_references</code> and <code>javascript.options.wasm_gc</code> options.</li>
<li>Relaunch your browser.</li>
</ol>
<hr></hr>
<blockquote>
<p><strong>【Edge】</strong></p>
</blockquote>
<p>For version 109 or later:</p>
<p>Run the application with the <code>--js-flags=--experimental-wasm-gc</code> command line argument.</p>
<hr></hr>
<h3 id="反馈你对-kotlinwasm-的意见">反馈你对 Kotlin/Wasm 的意见</h3>
<p>We would appreciate any feedback you may have!</p>
<ul>
<li>Provide your feedback directly to developers in Kotlin Slack – <a href="https://surveys.jetbrains.com/s3/kotlin-slack-sign-up?_gl=1*ju6cbn*_ga*MTA3MTk5NDkzMC4xNjQ2MDY3MDU4*_ga_9J976DJZ68*MTY1ODMzNzA3OS4xMDAuMS4xNjU4MzQwODEwLjYw" target="_blank">get an invite</a>
and join the <a href="https://kotlinlang.slack.com/archives/CDFP59223" target="_blank">#webassembly</a> channel.</li>
<li>Report any problems you faced with Kotlin/Wasm on <a href="https://youtrack.jetbrains.com/issue/KT-56492" target="_blank">this YouTrack issue</a>.</li>
</ul>
<h2 id="kotlinjvm">Kotlin/JVM</h2>
<p>Kotlin 1.8.20 introduces a <a href="#java-合成属性引用预览版">preview of Java synthetic property references</a>
and <a href="#在-kapt-存根生成任务中支持-jvm-ir-后端">support for the JVM IR backend in the kapt stub generating task by default</a>.</p>
<h3 id="java-合成属性引用预览版">Java 合成属性引用预览版</h3>
<blockquote>
<p>This feature is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be dropped or changed at any time. Use it only for evaluation purposes.
We would appreciate your feedback on it in <a href="https://kotl.in/issue" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Kotlin 1.8.20 introduces the ability to create references to Java synthetic properties, for example, for such Java code:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }
}
</code></pre>
<p>Kotlin has always allowed you to write <code>person.age</code>, where <code>age</code> is a synthetic property.
Now, you can also create references to <code>Person::age</code> and <code>person::age</code>. All the same works for <code>name</code>, as well.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> persons = listOf(Person(<span class="hljs-string">"Jack"</span>, <span class="hljs-number">11</span>), Person(<span class="hljs-string">"Sofie"</span>, <span class="hljs-number">12</span>), Person(<span class="hljs-string">"Peter"</span>, <span class="hljs-number">11</span>))
    persons
        <span class="hljs-comment">// Call a reference to Java synthetic property:</span>
        .sortedBy(Person::age)
        <span class="hljs-comment">// Call Java getter via the Kotlin property syntax:</span>
        .forEach { person -&gt; println(person.name) }
</code></pre>
<h4 id="如何启用-java-合成属性引用">如何启用 Java 合成属性引用</h4>
<p>To try this feature out, enable the <code>-language-version 1.9</code> compiler option.
In a Gradle project, you can do so by adding the following to your <code>build.gradle(.kts)</code>:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">tasks
    .withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask&lt;*&gt;&gt;()
    .configureEach {
        compilerOptions
            .languageVersion
            .<span class="hljs-keyword">set</span>(
                org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
            )
    }
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">tasks
    .withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask.<span class="hljs-keyword">class</span>)
    .configureEach {
        compilerOptions.languageVersion =
            org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
    }
</code></pre>
<hr></hr>
<h3 id="在-kapt-存根生成任务中支持-jvm-ir-后端">在 kapt 存根生成任务中支持 JVM IR 后端</h3>
<p>In Kotlin 1.7.20, we introduced <a href="whatsnew1720.html#在-kapt-存根生成任务中支持-jvm-ir-后端">support for the JVM IR backend in the kapt stub generating task</a>. Starting with this release, this support works by default. You no longer need to specify <code>kapt.use.jvm.ir=true</code> in your <code>gradle.properties</code> to enable it.
We would appreciate your feedback on this feature in <a href="https://youtrack.jetbrains.com/issue/KT-49682" target="_blank">YouTrack</a>.</p>
<h2 id="kotlinnative">Kotlin/Native</h2>
<p>Kotlin 1.8.20 includes changes to supported Kotlin/Native targets, interoperability with Objective-C, and improvements to the CocoaPods Gradle plugin, among other updates:</p>
<ul>
<li><a href="#kotlinnative-目标更新">Kotlin/Native 目标更新</a></li>
<li><a href="#弃用旧版内存管理器">弃用旧版内存管理器</a></li>
<li><a href="#使用-import-指令支持-objective-c-头文件">使用 @import 指令支持 Objective-C 头文件</a></li>
<li><a href="#cocoapods-gradle-插件支持仅链接模式">Cocoapods Gradle 插件支持仅链接模式</a></li>
<li><a href="#将-objective-c-扩展作为-uikit-的类成员导入">将 Objective-C 扩展作为 UIKit 的类成员导入</a></li>
<li><a href="#重新实现编译器中的编译器缓存管理">重新实现编译器中的编译器缓存管理</a></li>
<li><a href="#cocoapods-gradle-插件弃用-uselibraries">Cocoapods Gradle 插件弃用 <code>useLibraries()</code></a></li>
</ul>
<h3 id="kotlinnative-目标更新">Kotlin/Native 目标更新</h3>
<p>The Kotlin team decided to revisit the list of targets supported by Kotlin/Native, split them into tiers,
and deprecate some of them starting with Kotlin 1.8.20. See the <a href="native-target-support.html">Kotlin/Native target support</a>
section for the full list of supported and deprecated targets.</p>
<p>The following targets have been deprecated with Kotlin 1.8.20 and will be removed in 1.9.20:</p>
<ul>
<li><code>iosArm32</code></li>
<li><code>watchosX86</code></li>
<li><code>wasm32</code></li>
<li><code>mingwX86</code></li>
<li><code>linuxArm32Hfp</code></li>
<li><code>linuxMips32</code></li>
<li><code>linuxMipsel32</code></li>
</ul>
<p>As for the remaining targets, there are now three tiers of support depending on how well a target is supported and
tested in the Kotlin/Native compiler. A target can be moved to a different tier. For example, we'll do our best to
provide full support for <code>iosArm64</code> in the future, as it is important
for <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/get-started.html" target="_blank">Kotlin Multiplatform</a>.</p>
<p>If you're a library author, these target tiers can help you decide which targets to test on CI tools and which ones to
skip. The Kotlin team will use the same approach when developing official Kotlin libraries,
like <a href="coroutines-guide.html">kotlinx.coroutines</a>.</p>
<p>Check out our <a href="https://blog.jetbrains.com/kotlin/2023/02/update-regarding-kotlin-native-targets/" target="_blank">blog post</a> to learn
more about the reasons for these changes.</p>
<h3 id="弃用旧版内存管理器">弃用旧版内存管理器</h3>
<p>Starting with 1.8.20, the legacy memory manager is deprecated and will be removed in 1.9.20.
The <a href="native-memory-manager.html">new memory manager</a> was enabled by default in 1.7.20 and has been receiving further
stability updates and performance improvements.</p>
<p>If you're still using the legacy memory manager, remove the <code>kotlin.native.binary.memoryModel=strict</code> option from
your <code>gradle.properties</code> and follow our <a href="native-migration-guide.html">Migration guide</a> to make the necessary changes.</p>
<p>The new memory manager doesn't support the <code>wasm32</code> target. This target is also
deprecated <a href="#kotlinnative-目标更新">starting with this release</a> and will be removed in 1.9.20.</p>
<h3 id="使用-import-指令支持-objective-c-头文件">使用 @import 指令支持 Objective-C 头文件</h3>
<blockquote>
<p>This feature is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be dropped or changed at any time. Opt-in is required (see details below). Use it only for evaluation purposes.
We would appreciate your feedback on it in <a href="https://kotl.in/issue" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Kotlin/Native can now import Objective-C headers with <code>@import</code> directives. This feature is useful for consuming Swift
libraries that have auto-generated Objective-C headers or classes of CocoaPods dependencies written in Swift.</p>
<p>Previously, the cinterop tool failed to analyze headers that depended on Objective-C modules via the <code>@import</code>
directive. The reason was that it lacked support for the <code>-fmodules</code> option.</p>
<p>Starting with Kotlin 1.8.20, you can use Objective-C headers with <code>@import</code>. To do so, pass the <code>-fmodules</code> option to
the compiler in the definition file as <code>compilerOpts</code>. If you use <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-cocoapods-overview.html" target="_blank">CocoaPods integration</a>, specify
the cinterop option in the configuration block of the <code>pod()</code> function like this:</p>
<pre><code class="lang-kotlin">kotlin {
    ios()

    cocoapods {
        summary = <span class="hljs-string">"CocoaPods test library"</span>
        homepage = <span class="hljs-string">"https://github.com/JetBrains/kotlin"</span>

        ios.deploymentTarget = <span class="hljs-string">"13.5"</span>

        pod(<span class="hljs-string">"PodName"</span>) {
            extraOpts = listOf(<span class="hljs-string">"-compiler-option"</span>, <span class="hljs-string">"-fmodules"</span>)
        }
    }
}
</code></pre>
<p>This was a <a href="https://youtrack.jetbrains.com/issue/KT-39120" target="_blank">highly awaited feature</a>, and we welcome your feedback about it in <a href="https://kotl.in/issue" target="_blank">YouTrack</a> to help us make it the default in future releases.</p>
<h3 id="cocoapods-gradle-插件支持仅链接模式">Cocoapods Gradle 插件支持仅链接模式</h3>
<p>With Kotlin 1.8.20, you can use Pod dependencies with dynamic frameworks only for linking,
without generating cinterop bindings. This may come in handy when cinterop bindings are already generated.</p>
<p>Consider a project with 2 modules, a library and an app. The library depends on a Pod but doesn't produce a framework,
only a <code>.klib</code>. The app depends on the library and produces a dynamic framework.
In this case, you need to link this framework with the Pods that the library depends on,
but you don't need cinterop bindings because they are already generated for the library.</p>
<p>To enable the feature, use the <code>linkOnly</code> option or a builder property when adding a dependency on a Pod:</p>
<pre><code class="lang-kotlin">cocoapods {
    summary = <span class="hljs-string">"CocoaPods test library"</span>
    homepage = <span class="hljs-string">"https://github.com/JetBrains/kotlin"</span>

    pod(<span class="hljs-string">"Alamofire"</span>, linkOnly = <span class="hljs-literal">true</span>) {
        version = <span class="hljs-string">"5.7.0"</span>
    }
}
</code></pre>
<blockquote>
<p>If you use this option with static frameworks, it will remove the Pod dependency entirely because Pods are not used
for static framework linking.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h3 id="将-objective-c-扩展作为-uikit-的类成员导入">将 Objective-C 扩展作为 UIKit 的类成员导入</h3>
<p>Since Xcode 14.1, some methods from Objective-C classes have been moved to category members. That led to the generation
of a different Kotlin API, and these methods were imported as Kotlin extensions instead of methods.</p>
<p>You may have experienced issues resulting from this when overriding methods using UIKit. For example, it became
impossible to override <code>drawRect()</code> or <code>layoutSubviews()</code> methods when subclassing a UIVIew in Kotlin.</p>
<p>Since 1.8.20, category members that are declared in the same headers as NSView and UIView classes are imported as
members of these classes. This means that the methods subclassing from NSView and UIView can be easily overridden, like
any other method.</p>
<p>If everything goes well, we're planning to enable this behavior by default for all of the Objective-C classes.</p>
<h3 id="重新实现编译器中的编译器缓存管理">重新实现编译器中的编译器缓存管理</h3>
<p>To speed up the evolution of compiler caches, we've moved compiler cache management from the Kotlin Gradle plugin to the
Kotlin/Native compiler. This unblocks work on several important improvements, including those to do with compilation
times and compiler cache flexibility.</p>
<p>If you encounter some problem and need to return to the old behavior, use the <code>kotlin.native.cacheOrchestration=gradle</code>
Gradle property.</p>
<p>We would appreciate your feedback on this <a href="https://kotl.in/issue" target="_blank">in YouTrack</a>.</p>
<h3 id="cocoapods-gradle-插件弃用-uselibraries">Cocoapods Gradle 插件弃用 useLibraries()</h3>
<p>Kotlin 1.8.20 starts the deprecation cycle of the <code>useLibraries()</code> function used in
the <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-cocoapods-overview.html" target="_blank">CocoaPods integration</a> for static libraries.</p>
<p>We introduced the <code>useLibraries()</code> function to allow dependencies on Pods containing static libraries. With time, this
case has become very rare. Most of the Pods are distributed by sources, and Objective-C frameworks or XCFrameworks are a
common choice for binary distribution.</p>
<p>Since this function is unpopular and it creates issues that complicate the development of the Kotlin CocoaPods Gradle
plugin, we've decided to deprecate it.</p>
<p>For more information on frameworks and XCFrameworks, see <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-build-native-binaries.html" target="_blank">Build final native binaries</a>.</p>
<h2 id="kotlin-多平台">Kotlin 多平台</h2>
<p>Kotlin 1.8.20 strives to improve the developer experience with the following updates to Kotlin Multiplatform:</p>
<ul>
<li><a href="#源代码集分层结构的新方式">设置源代码集分层结构的新方式</a></li>
<li><a href="#kotlin-多平台支持-gradle-复合构建预览版">Kotlin 多平台支持 Gradle 复合构建预览版</a></li>
<li><a href="#改进了-xcode-中-gradle-错误的输出">改进了 Xcode 中 Gradle 错误的输出</a></li>
</ul>
<h3 id="源代码集分层结构的新方式">源代码集分层结构的新方式</h3>
<blockquote>
<p>The new approach to source set hierarchy is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be changed in future Kotlin releases without prior notice. Opt-in is required (see the details below).
We would appreciate your feedback in <a href="https://kotl.in/issue" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Kotlin 1.8.20 offers a new way of setting up source set hierarchy in your multiplatform projects − the default target
hierarchy. The new approach is intended to replace target shortcuts like <code>ios</code>, which have their <a href="#为什么要更换快捷方式">design flaws</a>.</p>
<p>The idea behind the default target hierarchy is simple: You explicitly declare all the targets to which your project
compiles, and the Kotlin Gradle plugin automatically creates shared source sets based on the specified targets.</p>
<h4 id="搭建项目">搭建项目</h4>
<p>Consider this example of a simple multiplatform mobile app:</p>
<pre><code class="lang-kotlin"><span class="hljs-meta">@OptIn(ExperimentalKotlinGradlePluginApi::class)</span>
kotlin {
    <span class="hljs-comment">// Enable the default target hierarchy:</span>
    targetHierarchy.default()

    android()
    iosArm64()
    iosSimulatorArm64()
}
</code></pre>
<p>You can think of the default target hierarchy as a template for all possible targets and their shared source sets. When
you declare the final targets <code>android</code>, <code>iosArm64</code>, and <code>iosSimulatorArm64</code> in your code, the Kotlin Gradle plugin
finds suitable shared source sets from the template and creates them for you. The resulting hierarchy looks like this:</p>
<p><img src="../images/default-hierarchy-example.svg" alt="An example of using the default target hierarchy"></img>{thumbnail="true" width="350" thumbnail-same-file="true"}</p>
<p>Green source sets are actually created and present in the project, while gray ones from the default template are
ignored. As you can see, the Kotlin Gradle plugin hasn't created the <code>watchos</code> source set, for example, because there
are no watchOS targets in the project.</p>
<p>If you add a watchOS target, such as <code>watchosArm64</code>, the <code>watchos</code> source set is created, and the code from
the <code>apple</code>, <code>native</code>, and <code>common</code> source sets is compiled to <code>watchosArm64</code>, as well.</p>
<p>You can find the complete scheme for the default target hierarchy in the <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-hierarchy.html#default-hierarchy-template" target="_blank">documentation</a>.</p>
<blockquote>
<p>In this example, the <code>apple</code> and <code>native</code> source sets compile only to the <code>iosArm64</code> and <code>iosSimulatorArm64</code> targets.
Therefore, despite their names, they have access to the full iOS API.
This might be counter-intuitive for source sets like <code>native</code>, as you may expect that only APIs available on all
native targets are accessible in this source set. This behavior may change in the future.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h4 id="为什么要更换快捷方式">为什么要更换快捷方式</h4>
<p>Creating source sets hierarchies can be verbose, error-prone, and unfriendly for beginners. Our previous solution was to
introduce shortcuts like <code>ios</code> that create a part of the hierarchy for you. However, working with shortcuts proved they
have a big design flaw: they're difficult to change.</p>
<p>Take the <code>ios</code> shortcut, for example. It creates only the <code>iosArm64</code> and <code>iosX64</code> targets, which can be confusing and
may lead to issues when working on an M1-based host that requires the <code>iosSimulatorArm64</code> target as well. However,
adding the <code>iosSimulatorArm64</code> target can be a very disruptive change for user projects:</p>
<ul>
<li>All dependencies used in the <code>iosMain</code> source set have to support the <code>iosSimulatorArm64</code> target; otherwise, the
dependency resolution fails.</li>
<li>Some native APIs used in <code>iosMain</code> may disappear when adding a new target (though this is unlikely in the case
of <code>iosSimulatorArm64</code>).</li>
<li>In some cases, such as when writing a small pet project on your Intel-based MacBook, you might not even need this
change.</li>
</ul>
<p>It became clear that shortcuts didn't solve the problem of configuring hierarchies, which is why we stopped adding new
shortcuts at some point.</p>
<p>The default target hierarchy may look similar to shortcuts at first glance, but they have a crucial distinction: <strong>users
have to explicitly specify the set of targets</strong>. This set defines how your project is compiled and published and how it
participates in dependency resolution. Since this set is fixed, changes to the default configuration from the Kotlin
Gradle plugin should cause significantly less distress in the ecosystem, and it will be much easier to provide
tooling-assisted migration.</p>
<h4 id="如何启用默认分层结构">如何启用默认分层结构</h4>
<p>This new feature is <a href="components-stability.html#stability-levels-explained">Experimental</a>. For Kotlin Gradle build scripts,
you need to opt in with <code>@OptIn(ExperimentalKotlinGradlePluginApi::class)</code>.</p>
<p>For more information, see <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-hierarchy.html#default-hierarchy-template" target="_blank">Hierarchical project structure</a>.</p>
<h4 id="敬请反馈">敬请反馈</h4>
<p>This is a significant change to multiplatform projects. We would appreciate your <a href="https://kotl.in/issue" target="_blank">feedback</a> to
help make it even better.</p>
<h3 id="kotlin-多平台支持-gradle-复合构建预览版">Kotlin 多平台支持 Gradle 复合构建预览版</h3>
<blockquote>
<p>This feature has been supported in Gradle builds since Kotlin Gradle Plugin 1.8.20. For IDE support, use IntelliJ IDEA
2023.1 Beta 2 (231.8109.2) or later and the Kotlin Gradle plugin 1.8.20 with any Kotlin IDE plugin.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>Starting with 1.8.20, Kotlin Multiplatform supports <a href="https://docs.gradle.org/current/userguide/composite_builds.html" target="_blank">Gradle composite builds</a>.
Composite builds allow you to include builds of separate projects or parts of the same project into a single build.</p>
<p>Due to some technical challenges, using Gradle composite builds with Kotlin Multiplatform was only partially supported.
Kotlin 1.8.20 contains a preview of the improved support that should work with a larger variety of projects.
To try it out, add the following option to your <code>gradle.properties</code>:</p>
<pre><code>kotlin.mpp.import.enableKgpDependencyResolution=true
</code></pre><p>This option enables a preview of the new import mode. Besides the support for composite builds, it provides a smoother
import experience in multiplatform projects, as we've included major bug fixes and improvements to make the import more
stable.</p>
<h4 id="已知问题">已知问题</h4>
<p>It's still a preview version that needs further stabilization, and you might encounter some issues with import along the
way. Here are some known issues we're planning to fix before the final release of Kotlin 1.8.20:</p>
<ul>
<li>There's no Kotlin 1.8.20 plugin available for IntelliJ IDEA 2023.1 EAP yet. Despite that, you can still set the Kotlin
Gradle plugin version to 1.8.20 and try out composite builds in this IDE.</li>
<li>If your projects include builds with a specified <code>rootProject.name</code>, composite builds may fail to resolve the Kotlin metadata.
For the workaround and details, see this <a href="https://youtrack.jetbrains.com/issue/KT-56536" target="_blank">Youtrack issue</a>.</li>
</ul>
<p>We encourage you to try it out and submit all reports on <a href="https://kotl.in/issue" target="_blank">YouTrack</a> to help us make it the
default in Kotlin 1.9.0.</p>
<h3 id="改进了-xcode-中-gradle-错误的输出">改进了 Xcode 中 Gradle 错误的输出</h3>
<p>If you had issues building your multiplatform projects in Xcode, you might have encountered a "Command
PhaseScriptExecution failed with a nonzero exit code" error.
This message signals that the Gradle invocation has failed, but it's not very helpful when trying to detect the problem.</p>
<p>Starting with Kotlin 1.8.20, Xcode can parse the output from the Kotlin/Native compiler. Furthermore, in case the
Gradle build fails, you'll see an additional error message from the root cause exception in Xcode. In most cases,
it'll help to identify the root problem.</p>
<p><img src="../images/xcode-gradle-output.png" alt="改进了 Xcode 中 Gradle 错误的输出"></img></p>
<p>The new behavior is enabled by default for the standard Gradle tasks for Xcode integration,
like <code>embedAndSignAppleFrameworkForXcode</code> that can connect the iOS framework from your multiplatform project to the iOS
application in Xcode. It can also be enabled (or disabled) with the <code>kotlin.native.useXcodeMessageStyle</code> Gradle property.</p>
<h2 id="kotlinjavascript">Kotlin/JavaScript</h2>
<p>Kotlin 1.8.20 changes the ways TypeScript definitions can be generated. It also includes a change designed to improve
your debugging experience:</p>
<ul>
<li><a href="#删除了-gradle-plugin-中的-dukat-集成">删除了 Gradle plugin 中的 Dukat 集成</a></li>
<li><a href="#源代码映射中的-kotlin-变量与函数名称">源代码映射中的 Kotlin 变量与函数名称</a></li>
<li><a href="#选择加入-typescript-定义文件的生成">选择加入 TypeScript 定义文件的生成</a></li>
</ul>
<h3 id="删除了-gradle-plugin-中的-dukat-集成">删除了 Gradle plugin 中的 Dukat 集成</h3>
<p>In Kotlin 1.8.20, we've removed our <a href="components-stability.html#stability-levels-explained">Experimental</a> Dukat
integration from the Kotlin/JavaScript Gradle plugin. The Dukat integration supported the automatic conversion of
TypeScript declaration files (<code>.d.ts</code>) into Kotlin external declarations.</p>
<p>You can still convert TypeScript declaration files (<code>.d.ts</code>) into Kotlin external declarations by using
our <a href="https://github.com/Kotlin/dukat" target="_blank">Dukat tool</a> instead.</p>
<blockquote>
<p>The Dukat tool is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be dropped or changed at any time.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<h3 id="源代码映射中的-kotlin-变量与函数名称">源代码映射中的 Kotlin 变量与函数名称</h3>
<p>To help with debugging, we've introduced the ability to add the names that you declared in Kotlin code for variables and
functions into your source maps. Prior to 1.8.20, these weren't available in source maps, so in the debugger, you always
saw the variable and function names of the generated JavaScript.</p>
<p>You can configure what is added by using <code>sourceMapNamesPolicy</code> in your Gradle file <code>build.gradle.kts</code>, or
the <code>-source-map-names-policy</code> compiler option. The table below lists the possible settings:</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Description</th>
<th>Example output</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>simple-names</code></td>
<td>Variable names and simple function names are added. (Default)</td>
<td><code>main</code></td>
</tr>
<tr>
<td><code>fully-qualified-names</code></td>
<td>Variable names and fully qualified function names are added.</td>
<td><code>com.example.kjs.playground.main</code></td>
</tr>
<tr>
<td><code>no</code></td>
<td>No variable or function names are added.</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<p>See below for an example configuration in a <code>build.gradle.kts</code> file:</p>
<pre><code class="lang-kotlin">tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.Kotlin2JsCompile&gt;().configureEach {
    compilercompileOptions.sourceMapNamesPolicy.<span class="hljs-keyword">set</span>(org.jetbrains.kotlin.gradle.dsl.JsSourceMapNamesPolicy.SOURCE_MAP_NAMES_POLICY_FQ_NAMES) <span class="hljs-comment">// or SOURCE_MAP_NAMES_POLICY_NO, or SOURCE_MAP_NAMES_POLICY_SIMPLE_NAMES</span>
}
</code></pre>
<p>Debugging tools like those provided in Chromium-based browsers can pick up the original Kotlin names from your source
map to improve the readability of your stack trace. Happy debugging!</p>
<blockquote>
<p>The addition of variable and function names in source maps is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be dropped or changed at any time.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<h3 id="选择加入-typescript-定义文件的生成">选择加入 TypeScript 定义文件的生成</h3>
<p>Previously, if you had a project that produced executable files (<code>binaries.executable()</code>), the Kotlin/JS IR compiler
collected any top-level declarations marked with <code>@JsExport</code> and automatically generated TypeScript definitions in
a <code>.d.ts</code> file.</p>
<p>As this isn't useful for every project, we've changed the behavior in Kotlin 1.8.20. If you want to generate TypeScript
definitions, you have to explicitly configure this in your Gradle build file. Add <code>generateTypeScriptDefinitions()</code> to
your <code>build.gradle.kts.file</code> in the <a href="js-project-setup.html#执行环境"><code>js</code> section</a>. For example:</p>
<pre><code class="lang-kotlin">kotlin {
    js {
        binaries.executable()
        browser {
        }
        generateTypeScriptDefinitions()
    }
}
</code></pre>
<blockquote>
<p>The generation of TypeScript definitions (<code>d.ts</code>)
is <a href="components-stability.html#stability-levels-explained">Experimental</a>. It may be dropped or changed at any time.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<h2 id="gradle">Gradle</h2>
<p>Kotlin 1.8.20 is fully compatible with Gradle 6.8 through 7.6 except for some <a href="https://youtrack.jetbrains.com/issue/KT-55751" target="_blank">special cases in the Multiplatform plugin</a>.
You can also use Gradle versions up to the latest Gradle release, but if you do,
keep in mind that you might encounter deprecation warnings or some new Gradle features might not work.</p>
<p>This version brings the following changes:</p>
<ul>
<li><a href="#新的-gradle-插件版本对齐">新的 Gradle 插件版本对齐</a></li>
<li><a href="#gradle-中默认新版-jvm-增量编译">Gradle 中默认新版 JVM 增量编译</a></li>
<li><a href="#精确备份编译任务的输出">精确备份编译任务的输出</a></li>
<li><a href="#为所有-gradle-版本惰性创建-kotlinjvm-任务">为所有 Gradle 版本惰性创建 Kotlin/JVM 任务</a></li>
<li><a href="#编译任务的-destinationdirectory-支持非默认位置">编译任务的 destinationDirectory 支持非默认位置</a></li>
<li><a href="#能够选择退出向-http-统计服务报告编译器参数">能够选择退出向 HTTP 统计服务报告编译器参数</a></li>
</ul>
<h3 id="新的-gradle-插件版本对齐">新的 Gradle 插件版本对齐</h3>
<p>Gradle provides a way to ensure dependencies that must work together are always <a href="https://docs.gradle.org/current/userguide/dependency_version_alignment.html#aligning_versions_natively_with_gradle" target="_blank">aligned in their versions</a>.
Kotlin 1.8.20 adopted this approach, too. It works by default so that you don't need to change or update your
configuration to enable it. In addition, you no longer need to resort to <a href="whatsnew18.html#解决-kotlin-gradle-插件的传递依赖项">this workaround for resolving Kotlin Gradle plugins' transitive dependencies</a>.</p>
<p>We would appreciate your feedback on this feature in <a href="https://youtrack.jetbrains.com/issue/KT-54691" target="_blank">YouTrack</a>.</p>
<h3 id="gradle-中默认新版-jvm-增量编译">Gradle 中默认新版 JVM 增量编译</h3>
<p>The new approach to incremental compilation, which <a href="whatsnew17.html#增量编译的新方式">has been available since Kotlin 1.7.0</a>,
now works by default. You no longer need to specify <code>kotlin.incremental.useClasspathSnapshot=true</code> in your <code>gradle.properties</code> to
enable it.</p>
<p>We would appreciate your feedback on this. You can <a href="https://kotl.in/issue" target="_blank">file an issue</a> in YouTrack.</p>
<h3 id="精确备份编译任务的输出">精确备份编译任务的输出</h3>
<blockquote>
<p>Precise backup of compilation tasks' outputs is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
To use it, add <code>kotlin.compiler.preciseCompilationResultsBackup=true</code> to <code>gradle.properties</code>.
We would appreciate your feedback on it in <a href="https://kotl.in/issue/experimental-ic-optimizations" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Starting with Kotlin 1.8.20, you can enable precise backup, whereby only those classes that Kotlin recompiles in
the <a href="gradle-compilation-and-caches.html#增量编译">incremental compilation</a> will be backed up.
Both full and precise backups help to run builds incrementally again after compilation errors. Precise backup also saves
build time compared to full backup. Full backup may take <strong>noticeable</strong> build time in large projects or if many tasks are
making backups, especially if a project is located on a slow HDD.</p>
<p>This optimization is Experimental. You can enable it by adding the <code>kotlin.compiler.preciseCompilationResultsBackup</code>
Gradle property to the <code>gradle.properties</code> file:</p>
<pre><code>kotlin.compiler.preciseCompilationResultsBackup=true
</code></pre><h4 id="jetbrains-精确备份使用示例">JetBrains 精确备份使用示例</h4>
<p>In the following charts, you can see examples of using precise backup compared to full backup:</p>
<p><img src="../images/comparison-of-full-and-precise-backups.png" alt="Comparison of full and precise backups"></img></p>
<p>The first and second charts show how precise backup in the Kotlin project affects building the Kotlin Gradle plugin:</p>
<ol>
<li>After making a small <a href="https://en.wikipedia.org/wiki/Application_binary_interface" target="_blank">ABI</a> change – adding a new public
method – to a module that lots of modules depend on.</li>
<li>After making a small non-ABI change – adding a private function – to a module that no other modules depend on.</li>
</ol>
<p>The third chart shows how precise backup in the <a href="https://www.jetbrains.com/space/" target="_blank">Space</a> project affects building a web
frontend after a small non-ABI change – adding a private function – to a Kotlin/JS module that lots of modules depend
on.</p>
<p>These measurements were performed on a computer with the Apple M1 Max CPU; different computers will yield slightly
different results. The factors affecting performance include but are not limited to:</p>
<ul>
<li>How warm the <a href="gradle-compilation-and-caches.html#the-kotlin-daemon-and-how-to-use-it-with-gradle">Kotlin daemon</a> and
the <a href="https://docs.gradle.org/current/userguide/gradle_daemon.html" target="_blank">Gradle daemon</a> are.</li>
<li>How fast or slow the disk is.</li>
<li>The CPU model and how busy it is.</li>
<li>Which modules are affected by the changes and how big these modules are.</li>
<li>Whether the changes are ABI or non-ABI.</li>
</ul>
<h4 id="使用构建报告评估优化">使用构建报告评估优化</h4>
<p>To estimate the impact of the optimization on your computer for your project and your scenarios,
you can use <a href="gradle-compilation-and-caches.html#build-reports">Kotlin build reports</a>.
Enable reports in the text file format by adding the following property to your <code>gradle.properties</code> file:</p>
<pre><code>kotlin.build.report.output=file
</code></pre><p>Here is an example of a relevant part of the report before enabling precise backup:</p>
<pre><code>Task ':kotlin-gradle-plugin:compileCommonKotlin' finished in 0.59 s
&lt;...&gt;
Time metrics:
 Total Gradle task time: 0.59 s
 Task action before worker execution: 0.24 s
  Backup output: 0.22 s // Pay attention to this number 
&lt;...&gt;
</code></pre><p>And here is an example of a relevant part of the report after enabling precise backup:</p>
<pre><code>Task ':kotlin-gradle-plugin:compileCommonKotlin' finished in 0.46 s
&lt;...&gt;
Time metrics:
 Total Gradle task time: 0.46 s
 Task action before worker execution: 0.07 s
  Backup output: 0.05 s // The time has reduced
 Run compilation in Gradle worker: 0.32 s
  Clear jar cache: 0.00 s
  Precise backup output: 0.00 s // Related to precise backup
  Cleaning up the backup stash: 0.00 s // Related to precise backup
&lt;...&gt;
</code></pre><h3 id="为所有-gradle-版本惰性创建-kotlinjvm-任务">为所有 Gradle 版本惰性创建 Kotlin/JVM 任务</h3>
<p>For projects with the <code>org.jetbrains.kotlin.gradle.jvm</code> plugin on Gradle 7.3+, the Kotlin Gradle plugin no longer
creates and configures the task <code>compileKotlin</code> eagerly. On lower Gradle versions, it simply registers all the tasks and
doesn't configure them on a dry run. The same behavior is now in place when using Gradle 7.3+.</p>
<h3 id="编译任务的-destinationdirectory-支持非默认位置">编译任务的 destinationDirectory 支持非默认位置</h3>
<p>Update your build script with some additional code if you do one of the following:</p>
<ul>
<li>Override the Kotlin/JVM <code>KotlinJvmCompile</code>/<code>KotlinCompile</code> task's <code>destinationDirectory</code> location.</li>
<li>Use a deprecated Kotlin/JS/Non-IR <a href="gradle-plugin-variants.html">variant</a> and override the <code>Kotlin2JsCompile</code>
task's <code>destinationDirectory</code>.</li>
</ul>
<p>You need to explicitly add <code>sourceSets.main.kotlin.classesDirectories</code> to <code>sourceSets.main.outputs</code> in your JAR file:</p>
<pre><code class="lang-groovy">tasks.jar(<span class="hljs-attr">type:</span> Jar) {
    from sourceSets.main.outputs
    from sourceSets.main.kotlin.classesDirectories
}
</code></pre>
<h3 id="能够选择退出向-http-统计服务报告编译器参数">能够选择退出向 HTTP 统计服务报告编译器参数</h3>
<p>You can now control whether the Kotlin Gradle plugin should include compiler arguments in HTTP <a href="gradle-compilation-and-caches.html#build-reports">build reports</a>.
Sometimes, you might not need the plugin to report these arguments.  If a project contains many modules,
its compiler arguments in the report can be very heavy and not that helpful. There is now a way to disable it and thus save memory.
In your <code>gradle.properties</code> or <code>local.properties</code>, use the <code>kotlin.build.report.include_compiler_arguments=(true|false)</code> property.</p>
<p>We would appreciate your feedback on this feature on <a href="https://youtrack.jetbrains.com/issue/KT-55323/" target="_blank">YouTrack</a>.</p>
<h2 id="标准库">标准库</h2>
<p>Kotlin 1.8.20 adds a variety of new features, including some that are particularly useful for Kotlin/Native development:</p>
<ul>
<li><a href="#支持-autocloseable-接口">支持 AutoCloseable 接口</a></li>
<li><a href="#支持-base64-编码">支持 Base64 编解码</a></li>
<li><a href="#在-kotlinnative-平台支持-volatile">在 Kotlin/Native 平台支持 @Volatile</a></li>
<li><a href="#修复在-kotlinnative-中使用正则表达式时的栈溢出错误">修复在 Kotlin/Native 中使用正则表达式时的栈溢出错误</a></li>
</ul>
<h3 id="支持-autocloseable-接口">支持 AutoCloseable 接口</h3>
<blockquote>
<p>The new <code>AutoCloseable</code> interface is <a href="components-stability.html#stability-levels-explained">Experimental</a>, and to use it
you need to opt in with <code>@OptIn(ExperimentalStdlibApi::class)</code> or the compiler argument <code>-opt-in=kotlin.ExperimentalStdlibApi</code>.</p>
</blockquote>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

<p>The <code>AutoCloseable</code> interface has been added to the common standard library so that you can use one common interface for
all libraries to close resources. In Kotlin/JVM, the <code>AutoCloseable</code> interface is an alias
for <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" target="_blank"><code>java.lang.AutoClosable</code></a>.</p>
<p>In addition, the extension function <code>use()</code> is now included, which executes a given block function on the selected
resource and then closes it down correctly, whether an exception is thrown or not.</p>
<p>There is no public class in the common standard library that implements the <code>AutoCloseable</code> interface. In the example
below, we define the <code>XMLWriter</code> interface and assume that there is a resource that implements it. For example, this
resource could be a class that opens a file, writes XML content, and then closes it.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">XMLWriter</span> : <span class="hljs-type">AutoCloseable</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">document</span><span class="hljs-params">(encoding: <span class="hljs-type">String</span>, version: <span class="hljs-type">String</span>, content: <span class="hljs-type">XMLWriter</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">element</span><span class="hljs-params">(name: <span class="hljs-type">String</span>, content: <span class="hljs-type">XMLWriter</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">attribute</span><span class="hljs-params">(name: <span class="hljs-type">String</span>, value: <span class="hljs-type">String</span>)</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">text</span><span class="hljs-params">(value: <span class="hljs-type">String</span>)</span></span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">writeBooksTo</span><span class="hljs-params">(writer: <span class="hljs-type">XMLWriter</span>)</span></span> {
    writer.use { xml -&gt;
        xml.document(encoding = <span class="hljs-string">"UTF-8"</span>, version = <span class="hljs-string">"1.0"</span>) {
            element(<span class="hljs-string">"bookstore"</span>) {
                element(<span class="hljs-string">"book"</span>) {
                    attribute(<span class="hljs-string">"category"</span>, <span class="hljs-string">"fiction"</span>)
                    element(<span class="hljs-string">"title"</span>) { text(<span class="hljs-string">"Harry Potter and the Prisoner of Azkaban"</span>) }
                    element(<span class="hljs-string">"author"</span>) { text(<span class="hljs-string">"J. K. Rowling"</span>) }
                    element(<span class="hljs-string">"year"</span>) { text(<span class="hljs-string">"1999"</span>) }
                    element(<span class="hljs-string">"price"</span>) { text(<span class="hljs-string">"29.99"</span>) }
                }
                element(<span class="hljs-string">"book"</span>) {
                    attribute(<span class="hljs-string">"category"</span>, <span class="hljs-string">"programming"</span>)
                    element(<span class="hljs-string">"title"</span>) { text(<span class="hljs-string">"Kotlin in Action"</span>) }
                    element(<span class="hljs-string">"author"</span>) { text(<span class="hljs-string">"Dmitry Jemerov"</span>) }
                    element(<span class="hljs-string">"author"</span>) { text(<span class="hljs-string">"Svetlana Isakova"</span>) }
                    element(<span class="hljs-string">"year"</span>) { text(<span class="hljs-string">"2017"</span>) }
                    element(<span class="hljs-string">"price"</span>) { text(<span class="hljs-string">"25.19"</span>) }
                }
            }
        }
    }
}
</code></pre>
<h3 id="支持-base64-编码">支持 Base64 编码</h3>
<blockquote>
<p>The new encoding and decoding functionality is <a href="components-stability.html#stability-levels-explained">Experimental</a>,
and to use it, you need to opt in with <code>@OptIn(ExperimentalEncodingApi::class)</code> or the
compiler argument <code>-opt-in=kotlin.io.encoding.ExperimentalEncodingApi</code>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>We've added support for Base64 encoding and decoding. We provide 3 class instances, each using different encoding
schemes and displaying different behaviors. Use the <code>Base64.Default</code> instance for the standard <a href="https://www.rfc-editor.org/rfc/rfc4648#section-4" target="_blank">Base64 encoding scheme</a>.</p>
<p>Use the <code>Base64.UrlSafe</code> instance for the <a href="https://www.rfc-editor.org/rfc/rfc4648#section-5" target="_blank">"URL and Filename safe"</a>
encoding scheme.</p>
<p>Use the <code>Base64.Mime</code> instance for the <a href="https://www.rfc-editor.org/rfc/rfc2045#section-6.8" target="_blank">MIME</a> encoding scheme. When
you use the <code>Base64.Mime</code> instance, all encoding functions insert a line separator every 76 characters. In the case of
decoding, any illegal characters are skipped and don't throw an exception.</p>
<blockquote>
<p>The <code>Base64.Default</code> instance is the companion object of the <code>Base64</code> class. As a result, you can call its functions
via <code>Base64.encode()</code> and  <code>Base64.decode()</code> instead of <code>Base64.Default.encode()</code> and <code>Base64.Default.decode()</code>.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> foBytes = <span class="hljs-string">"fo"</span>.map { it.code.toByte() }.toByteArray()
Base64.Default.encode(foBytes) <span class="hljs-comment">// "Zm8="</span>
<span class="hljs-comment">// Alternatively:</span>
<span class="hljs-comment">// Base64.encode(foBytes)</span>

<span class="hljs-keyword">val</span> foobarBytes = <span class="hljs-string">"foobar"</span>.map { it.code.toByte() }.toByteArray()
Base64.UrlSafe.encode(foobarBytes) <span class="hljs-comment">// "Zm9vYmFy"</span>

Base64.Default.decode(<span class="hljs-string">"Zm8="</span>) <span class="hljs-comment">// foBytes</span>
<span class="hljs-comment">// Alternatively:</span>
<span class="hljs-comment">// Base64.decode("Zm8=")</span>

Base64.UrlSafe.decode(<span class="hljs-string">"Zm9vYmFy"</span>) <span class="hljs-comment">// foobarBytes</span>
</code></pre>
<p>You can use additional functions to encode or decode bytes into an existing buffer, as well as to append the encoding
result to a provided <code>Appendable</code> type object.</p>
<p>In Kotlin/JVM, we've also added the extension functions <code>encodingWith()</code> and <code>decodingWith()</code> to enable you to perform
Base64 encoding and decoding with input and output streams.</p>
<h3 id="在-kotlinnative-平台支持-volatile">在 Kotlin/Native 平台支持 @Volatile</h3>
<blockquote>
<p><code>@Volatile</code> in Kotlin/Native is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be dropped or changed at any time. Opt-in is required (see details below).
Use it only for evaluation purposes. We would appreciate your feedback on it in <a href="https://kotl.in/issue" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>If you annotate a <code>var</code> property with <code>@Volatile</code>, then the backing field is marked so that any reads or writes to this
field are atomic, and writes are always made visible to other threads.</p>
<p>Prior to 1.8.20, the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-volatile/" target="_blank"><code>kotlin.jvm.Volatile</code> annotation</a>
was available in the common standard library. However, this annotation is only effective in the JVM.
If you use it in Kotlin/Native, it is ignored, which can lead to errors.</p>
<p>In 1.8.20, we've introduced a common annotation, <code>kotlin.concurrent.Volatile</code>, that you can use in both the JVM and
Kotlin/Native.</p>
<h4 id="如何启用">如何启用</h4>
<p>To try this feature out, opt in with <code>@OptIn(ExperimentalStdlibApi)</code> and enable the <code>-language-version 1.9</code> compiler
option. In a Gradle project, you can do so by adding the following to your <code>build.gradle(.kts)</code> file:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">tasks
    .withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask&lt;*&gt;&gt;()
    .configureEach {
        compilerOptions
            .languageVersion
            .<span class="hljs-keyword">set</span>(
                org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
            )
    }
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">tasks
    .withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompilationTask.<span class="hljs-keyword">class</span>)
    .configureEach {
        compilerOptions.languageVersion =
            org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9
    }
</code></pre>
<hr></hr>
<h3 id="修复在-kotlinnative-中使用正则表达式时的栈溢出错误">修复在 Kotlin/Native 中使用正则表达式时的栈溢出错误</h3>
<p>In previous versions of Kotlin, a crash could occur if your regex input contained a large number of characters,
even when the regex pattern was very simple. In 1.8.20, this issue has been resolved.
For more information, see <a href="https://youtrack.jetbrains.com/issue/KT-46211" target="_blank">KT-46211</a>.</p>
<h2 id="序列化更新">序列化更新</h2>
<p>Kotlin 1.8.20 comes with <a href="#kotlin-k2-编译器的原型序列化编译器插件">Alpha support for the Kotlin K2 compiler</a>
and <a href="#禁止通过伴生对象进行隐式序列化器定制">prohibits serializer customization via companion object</a>.</p>
<h3 id="kotlin-k2-编译器的原型序列化编译器插件">Kotlin K2 编译器的原型序列化编译器插件</h3>
<blockquote>
<p>Support for the serialization compiler plugin for K2 is in
<a href="components-stability.html#stability-levels-explained">Alpha</a>. To use it,
<a href="#如何启用-kotlin-k2-编译器">enable the Kotlin K2 compiler</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Starting with 1.8.20, the serialization compiler plugin works with the Kotlin K2 compiler.
Give it a try and <a href="#反馈你对新版-k2-编译器的意见">share your feedback with us</a>!</p>
<h3 id="禁止通过伴生对象进行隐式序列化器定制">禁止通过伴生对象进行隐式序列化器定制</h3>
<p>Currently, it is possible to declare a class as serializable with the <code>@Serializable</code> annotation and, at the same time,
declare a custom serializer with the <code>@Serializer</code> annotation on its companion object.</p>
<p>For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> kotlinx.serialization.*

<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>(<span class="hljs-keyword">val</span> a: <span class="hljs-built_in">Int</span>) {
    <span class="hljs-meta">@Serializer(Foo::class)</span>
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-comment">// Custom implementation of KSerializer&lt;Foo&gt;</span>
    }
}
</code></pre>
<p>In this case, it's not clear from the <code>@Serializable</code> annotation which serializer is used. In actual fact, class <code>Foo</code>
has a custom serializer.</p>
<p>To prevent this kind of confusion, in Kotlin 1.8.20 we've introduced a compiler warning for when this scenario is
detected. The warning includes a possible migration path to resolve this issue.</p>
<p>If you use such constructs in your code, we recommend updating them to the below:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> kotlinx.serialization.*

<span class="hljs-meta">@Serializable(Foo.Companion::class)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>(<span class="hljs-keyword">val</span> a: <span class="hljs-built_in">Int</span>) {
    <span class="hljs-comment">// Doesn't matter if you use @Serializer(Foo::class) or not</span>
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span>: KSerializer&lt;Foo&gt; {
        <span class="hljs-comment">// Custom implementation of KSerializer&lt;Foo&gt;</span>
    }
}
</code></pre>
<p>With this approach, it is clear that the <code>Foo</code> class uses the custom serializer declared in the companion object. For
more information, see our <a href="https://youtrack.jetbrains.com/issue/KT-54441" target="_blank">YouTrack ticket</a>.</p>
<blockquote>
<p>In Kotlin 2.0, we plan to promote the compile warning to a compiler error. We recommend
that you migrate your code if you see this warning.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<h2 id="文档更新">文档更新</h2>
<p>The Kotlin documentation has received some notable changes:</p>
<ul>
<li><a href="jvm-get-started-spring-boot.html">Get started with Spring Boot and Kotlin</a> – create a simple application with a
database and learn more about the features of Spring Boot and Kotlin.</li>
<li><a href="scope-functions.html">Scope functions</a> – learn how to simplify your code with useful scope functions from the standard
library.</li>
<li><a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-cocoapods-overview.html" target="_blank">CocoaPods integration</a> – set up an environment to work with CocoaPods.</li>
</ul>
<h2 id="安装-kotlin-1820">安装 Kotlin 1.8.20</h2>
<h3 id="核对-ide-版本">核对 IDE 版本</h3>
<p><a href="https://www.jetbrains.com/idea/download/" target="_blank">IntelliJ IDEA</a> 2022.2 and 2022.3 automatically suggest updating the Kotlin
plugin to version 1.8.20. IntelliJ IDEA 2023.1 has the built-in Kotlin plugin 1.8.20.</p>
<p>Android Studio Flamingo (222) and Giraffe (223) will support Kotlin 1.8.20 in the next releases.</p>
<p>The new command-line compiler is available for download on
the <a href="https://github.com/JetBrains/kotlin/releases/tag/v1.8.20" target="_blank">GitHub release page</a>.</p>
<h3 id="配置-gradle-设置">配置 Gradle 设置</h3>
<p>To download Kotlin artifacts and dependencies properly, update your <code>settings.gradle(.kts)</code> file
to use the Maven Central repository:</p>
<pre><code class="lang-kotlin">pluginManagement {
    repositories {
        mavenCentral()
        gradlePluginPortal()
    }
}
</code></pre>
<p>If the repository is not specified, Gradle uses the sunset JCenter repository that could lead to issues with Kotlin artifacts.</p>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="whatsnew19.html" class="navigation navigation-prev " aria-label="Previous page: Kotlin 1.9.0">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="whatsnew18.html" class="navigation navigation-next " aria-label="Next page: Kotlin 1.8.0">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Kotlin 1.8.20","level":"1.5.4.5","depth":3,"next":{"title":"Kotlin 1.8.0","level":"1.5.4.6","depth":3,"path":"text/whatsnew18.md","ref":"text/whatsnew18.md","articles":[]},"previous":{"title":"Kotlin 1.9.0","level":"1.5.4.4","depth":3,"path":"text/whatsnew19.md","ref":"text/whatsnew19.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Kotlin 官方文档 中文版","language":"zh-hans","gitbook":"*"},"file":{"path":"text/whatsnew1820.md","mtime":"2025-06-14T13:15:14.000Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-06-14T13:17:47.927Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

