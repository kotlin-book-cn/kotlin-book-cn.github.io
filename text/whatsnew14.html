
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>Kotlin 1.4.0 · Kotlin 官方文档 中文版</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="whatsnew13.html" />
    
    
    <link rel="prev" href="whatsnew1420.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    关于本书
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="home.html">
            
                <a href="home.html">
            
                    
                    文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="kotlin-tour-welcome.html">
            
                <a href="kotlin-tour-welcome.html">
            
                    
                    Kotlin 之旅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="d-overview.html">
            
                <a href="d-overview.html">
            
                    
                    概述
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="multiplatform.html">
            
                <a href="multiplatform.html">
            
                    
                    Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="server-overview.html">
            
                <a href="server-overview.html">
            
                    
                    Kotlin 用于服务器端开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="android-overview.html">
            
                <a href="android-overview.html">
            
                    
                    Kotlin 用于 Android 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="wasm-overview.html">
            
                <a href="wasm-overview.html">
            
                    
                    Kotlin Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="native-overview.html">
            
                <a href="native-overview.html">
            
                    
                    Kotlin 原生
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="js-overview.html">
            
                <a href="js-overview.html">
            
                    
                    Kotlin 用于 JavaScript 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="data-analysis-overview.html">
            
                <a href="data-analysis-overview.html">
            
                    
                    Kotlin 用于数据分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="kotlin-ai-apps-development-overview.html">
            
                <a href="kotlin-ai-apps-development-overview.html">
            
                    
                    Kotlin 用于 AI 驱动的应用开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="competitive-programming.html">
            
                <a href="competitive-programming.html">
            
                    
                    Kotlin 用于竞技程序设计
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="d-whatsnew.html">
            
                <a href="d-whatsnew.html">
            
                    
                    Kotlin 的新特性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="whatsnew2120.html">
            
                <a href="whatsnew2120.html">
            
                    
                    Kotlin 2.1.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="whatsnew21.html">
            
                <a href="whatsnew21.html">
            
                    
                    Kotlin 2.1.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="whatsnew-eap.html">
            
                <a href="whatsnew-eap.html">
            
                    
                    Kotlin 2.2.0-RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="d-earlier-whatsnew.html">
            
                <a href="d-earlier-whatsnew.html">
            
                    
                    早期版本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="whatsnew2020.html">
            
                <a href="whatsnew2020.html">
            
                    
                    Kotlin 2.0.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="whatsnew20.html">
            
                <a href="whatsnew20.html">
            
                    
                    Kotlin 2.0.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="whatsnew1920.html">
            
                <a href="whatsnew1920.html">
            
                    
                    Kotlin 1.9.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="whatsnew19.html">
            
                <a href="whatsnew19.html">
            
                    
                    Kotlin 1.9.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="whatsnew1820.html">
            
                <a href="whatsnew1820.html">
            
                    
                    Kotlin 1.8.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="whatsnew18.html">
            
                <a href="whatsnew18.html">
            
                    
                    Kotlin 1.8.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="whatsnew1720.html">
            
                <a href="whatsnew1720.html">
            
                    
                    Kotlin 1.7.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.8" data-path="whatsnew17.html">
            
                <a href="whatsnew17.html">
            
                    
                    Kotlin 1.7.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.9" data-path="whatsnew1620.html">
            
                <a href="whatsnew1620.html">
            
                    
                    Kotlin 1.6.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.10" data-path="whatsnew16.html">
            
                <a href="whatsnew16.html">
            
                    
                    Kotlin 1.6.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.11" data-path="whatsnew1530.html">
            
                <a href="whatsnew1530.html">
            
                    
                    Kotlin 1.5.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.12" data-path="whatsnew1520.html">
            
                <a href="whatsnew1520.html">
            
                    
                    Kotlin 1.5.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.13" data-path="whatsnew15.html">
            
                <a href="whatsnew15.html">
            
                    
                    Kotlin 1.5.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.14" data-path="whatsnew1430.html">
            
                <a href="whatsnew1430.html">
            
                    
                    Kotlin 1.4.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.15" data-path="whatsnew1420.html">
            
                <a href="whatsnew1420.html">
            
                    
                    Kotlin 1.4.20
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.4.16" data-path="whatsnew14.html">
            
                <a href="whatsnew14.html">
            
                    
                    Kotlin 1.4.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.17" data-path="whatsnew13.html">
            
                <a href="whatsnew13.html">
            
                    
                    Kotlin 1.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.18" data-path="whatsnew12.html">
            
                <a href="whatsnew12.html">
            
                    
                    Kotlin 1.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.19" data-path="whatsnew11.html">
            
                <a href="whatsnew11.html">
            
                    
                    Kotlin 1.1
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="d-releases-and-roadmap.html">
            
                <a href="d-releases-and-roadmap.html">
            
                    
                    版本发布与路线图
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="roadmap.html">
            
                <a href="roadmap.html">
            
                    
                    Kotlin 路线图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="kotlin-language-features-and-proposals.html">
            
                <a href="kotlin-language-features-and-proposals.html">
            
                    
                    Kotlin 语言特性与提案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="kotlin-evolution-principles.html">
            
                <a href="kotlin-evolution-principles.html">
            
                    
                    Kotlin 演进原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="components-stability.html">
            
                <a href="components-stability.html">
            
                    
                    Kotlin 各组件的稳定性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="releases.html">
            
                <a href="releases.html">
            
                    
                    Kotlin 版本发布
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="d-basics.html">
            
                <a href="d-basics.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="basic-syntax.html">
            
                <a href="basic-syntax.html">
            
                    
                    基本语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="idioms.html">
            
                <a href="idioms.html">
            
                    
                    习惯用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="l-kotlin-by-example1.html">
            
                <a href="l-kotlin-by-example1.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="coding-conventions.html">
            
                <a href="coding-conventions.html">
            
                    
                    编码规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="d-concepts.html">
            
                <a href="d-concepts.html">
            
                    
                    概念
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="d-types.html">
            
                <a href="d-types.html">
            
                    
                    类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="d-basic-types.html">
            
                <a href="d-basic-types.html">
            
                    
                    基本类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1.1" data-path="basic-types.html">
            
                <a href="basic-types.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.2" data-path="numbers.html">
            
                <a href="numbers.html">
            
                    
                    数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.3" data-path="unsigned-integer-types.html">
            
                <a href="unsigned-integer-types.html">
            
                    
                    无符号整型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.4" data-path="booleans.html">
            
                <a href="booleans.html">
            
                    
                    布尔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.5" data-path="characters.html">
            
                <a href="characters.html">
            
                    
                    字符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.6" data-path="strings.html">
            
                <a href="strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.7" data-path="arrays.html">
            
                <a href="arrays.html">
            
                    
                    数组
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="typecasts.html">
            
                <a href="typecasts.html">
            
                    
                    类型检测与类型转换
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="d-control-flow.html">
            
                <a href="d-control-flow.html">
            
                    
                    控制流程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="control-flow.html">
            
                <a href="control-flow.html">
            
                    
                    条件与循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="returns.html">
            
                <a href="returns.html">
            
                    
                    返回与跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="exceptions.html">
            
                <a href="exceptions.html">
            
                    
                    异常
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="packages.html">
            
                <a href="packages.html">
            
                    
                    包与导入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="d-class-and-obj.html">
            
                <a href="d-class-and-obj.html">
            
                    
                    类与对象
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="classes.html">
            
                <a href="classes.html">
            
                    
                    类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="inheritance.html">
            
                <a href="inheritance.html">
            
                    
                    继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="properties.html">
            
                <a href="properties.html">
            
                    
                    属性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="interfaces.html">
            
                <a href="interfaces.html">
            
                    
                    接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.5" data-path="fun-interfaces.html">
            
                <a href="fun-interfaces.html">
            
                    
                    函数式（SAM）接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.6" data-path="visibility-modifiers.html">
            
                <a href="visibility-modifiers.html">
            
                    
                    可见性修饰符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.7" data-path="extensions.html">
            
                <a href="extensions.html">
            
                    
                    扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.8" data-path="data-classes.html">
            
                <a href="data-classes.html">
            
                    
                    数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.9" data-path="sealed-classes.html">
            
                <a href="sealed-classes.html">
            
                    
                    密封类与密封接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.10" data-path="generics.html">
            
                <a href="generics.html">
            
                    
                    泛型：in、out、where
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.11" data-path="nested-classes.html">
            
                <a href="nested-classes.html">
            
                    
                    嵌套类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.12" data-path="enum-classes.html">
            
                <a href="enum-classes.html">
            
                    
                    枚举类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.13" data-path="inline-classes.html">
            
                <a href="inline-classes.html">
            
                    
                    内联类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.14" data-path="object-declarations.html">
            
                <a href="object-declarations.html">
            
                    
                    对象表达式与对象声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.15" data-path="delegation.html">
            
                <a href="delegation.html">
            
                    
                    委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.16" data-path="delegated-properties.html">
            
                <a href="delegated-properties.html">
            
                    
                    属性委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.17" data-path="type-aliases.html">
            
                <a href="type-aliases.html">
            
                    
                    类型别名
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="d-functions.html">
            
                <a href="d-functions.html">
            
                    
                    函数
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="lambdas.html">
            
                <a href="lambdas.html">
            
                    
                    lambda 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="inline-functions.html">
            
                <a href="inline-functions.html">
            
                    
                    内联函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="operator-overloading.html">
            
                <a href="operator-overloading.html">
            
                    
                    操作符重载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="d-builders.html">
            
                <a href="d-builders.html">
            
                    
                    构建器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.5.1" data-path="type-safe-builders.html">
            
                <a href="type-safe-builders.html">
            
                    
                    类型安全的构建器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5.2" data-path="using-builders-with-builder-inference.html">
            
                <a href="using-builders-with-builder-inference.html">
            
                    
                    使用带有构建器类型推断的构建器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="null-safety.html">
            
                <a href="null-safety.html">
            
                    
                    空安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="equality.html">
            
                <a href="equality.html">
            
                    
                    相等性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="this-expressions.html">
            
                <a href="this-expressions.html">
            
                    
                    this 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="async-programming.html">
            
                <a href="async-programming.html">
            
                    
                    异步程序设计技术
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="coroutines-overview.html">
            
                <a href="coroutines-overview.html">
            
                    
                    协程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="annotations.html">
            
                <a href="annotations.html">
            
                    
                    注解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="destructuring-declarations.html">
            
                <a href="destructuring-declarations.html">
            
                    
                    解构声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="reflection.html">
            
                <a href="reflection.html">
            
                    
                    反射
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="d-data-analysis.html">
            
                <a href="d-data-analysis.html">
            
                    
                    数据分析
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="d-notebook-get-started.html">
            
                <a href="d-notebook-get-started.html">
            
                    
                    Kotlin Notebook 入门
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="get-started-with-kotlin-notebooks.html">
            
                <a href="get-started-with-kotlin-notebooks.html">
            
                    
                    Kotlin Notebook 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="kotlin-notebook-set-up-env.html">
            
                <a href="kotlin-notebook-set-up-env.html">
            
                    
                    1、环境搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="kotlin-notebook-create.html">
            
                <a href="kotlin-notebook-create.html">
            
                    
                    2、创建第一个 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="kotlin-notebook-add-dependencies.html">
            
                <a href="kotlin-notebook-add-dependencies.html">
            
                    
                    3、将依赖添加到 Kotlin Notebook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="kotlin-notebook-share.html">
            
                <a href="kotlin-notebook-share.html">
            
                    
                    分享 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="data-analysis-notebooks-output-formats.html">
            
                <a href="data-analysis-notebooks-output-formats.html">
            
                    
                    Kotlin Notebook 的输出格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="d-work-with-data-sources.html">
            
                <a href="d-work-with-data-sources.html">
            
                    
                    使用数据源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.4.1" data-path="data-analysis-work-with-data-sources.html">
            
                <a href="data-analysis-work-with-data-sources.html">
            
                    
                    从文件中取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.2" data-path="data-analysis-work-with-api.html">
            
                <a href="data-analysis-work-with-api.html">
            
                    
                    从 web 源与 API 取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.3" data-path="data-analysis-connect-to-db.html">
            
                <a href="data-analysis-connect-to-db.html">
            
                    
                    链接数据库并从中取数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="data-analysis-visualization.html">
            
                <a href="data-analysis-visualization.html">
            
                    
                    Kotlin Notebook 中数据可视化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="data-analysis-libraries.html">
            
                <a href="data-analysis-libraries.html">
            
                    
                    用于数据分析的库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="d-platforms.html">
            
                <a href="d-platforms.html">
            
                    
                    平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="d-jvm.html">
            
                <a href="d-jvm.html">
            
                    
                    JVM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="jvm-get-started.html">
            
                <a href="jvm-get-started.html">
            
                    
                    Kotlin/JVM 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.2" data-path="comparison-to-java.html">
            
                <a href="comparison-to-java.html">
            
                    
                    与 Java 比较
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.3" data-path="java-interop.html">
            
                <a href="java-interop.html">
            
                    
                    在 Kotlin 中调用 Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.4" data-path="java-to-kotlin-interop.html">
            
                <a href="java-to-kotlin-interop.html">
            
                    
                    在 Java 中调用 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5" data-path="d-spring.html">
            
                <a href="d-spring.html">
            
                    
                    Spring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1" data-path="d-jvm-spring-boot-restful.html">
            
                <a href="d-jvm-spring-boot-restful.html">
            
                    
                    使用 Spring Boot 创建用到数据库的 RESTful web 服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1.1" data-path="jvm-get-started-spring-boot.html">
            
                <a href="jvm-get-started-spring-boot.html">
            
                    
                    Spring Boot 与 Kotlin 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.2" data-path="jvm-create-project-with-spring-boot.html">
            
                <a href="jvm-create-project-with-spring-boot.html">
            
                    
                    创建使用 Kotlin 的 Spring Boot 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.3" data-path="jvm-spring-boot-add-data-class.html">
            
                <a href="jvm-spring-boot-add-data-class.html">
            
                    
                    向 Spring Boot 项目添加数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.4" data-path="jvm-spring-boot-add-db-support.html">
            
                <a href="jvm-spring-boot-add-db-support.html">
            
                    
                    为 Spring Boot 项目添加数据库支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.5" data-path="jvm-spring-boot-using-crudrepository.html">
            
                <a href="jvm-spring-boot-using-crudrepository.html">
            
                    
                    使用 Spring Data CrudRepository 进行数据库访问
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.2" data-path="spring-ai-guide.html">
            
                <a href="spring-ai-guide.html">
            
                    
                    构建一个使用 Spring AI 基于 Qdrant 中存储的文档来回答问题的 Kotlin 应用——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.3" data-path="l-spring-docs-kotlin.html">
            
                <a href="l-spring-docs-kotlin.html">
            
                    
                    Spring 框架 Kotlin 文档↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.4" data-path="l-spring-boot-kotlin.html">
            
                <a href="l-spring-boot-kotlin.html">
            
                    
                    使用 Spring Boot 与 Kotlin 构建 web 应用程序——教程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.5" data-path="l-spring-webflux-kotlin-rsocket.html">
            
                <a href="l-spring-webflux-kotlin-rsocket.html">
            
                    
                    使用 Kotlin 协程与 RSocket 创建聊天应用程序——教程↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.6" data-path="jvm-test-using-junit.html">
            
                <a href="jvm-test-using-junit.html">
            
                    
                    在 JVM 平台中用 JUnit 测试代码——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.7" data-path="mixing-java-kotlin-intellij.html">
            
                <a href="mixing-java-kotlin-intellij.html">
            
                    
                    在项目中混用 Java 与 Kotlin——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.8" data-path="jvm-records.html">
            
                <a href="jvm-records.html">
            
                    
                    在 Kotlin 中使用 Java 记录类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9" data-path="d-java-to-kotlin-migration-guides.html">
            
                <a href="d-java-to-kotlin-migration-guides.html">
            
                    
                    从 Java 到 Kotlin 迁移指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.9.1" data-path="java-to-kotlin-idioms-strings.html">
            
                <a href="java-to-kotlin-idioms-strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.2" data-path="java-to-kotlin-collections-guide.html">
            
                <a href="java-to-kotlin-collections-guide.html">
            
                    
                    集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.3" data-path="java-to-kotlin-nullability-guide.html">
            
                <a href="java-to-kotlin-nullability-guide.html">
            
                    
                    可空性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.4" data-path="standard-input.html">
            
                <a href="standard-input.html">
            
                    
                    标准输入
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="d-native.html">
            
                <a href="d-native.html">
            
                    
                    原生
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="native-get-started.html">
            
                <a href="native-get-started.html">
            
                    
                    Kotlin/Native 入门——在 IntelliJ IDEA 中
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="native-definition-file.html">
            
                <a href="native-definition-file.html">
            
                    
                    定义文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3" data-path="d-c-interop.html">
            
                <a href="d-c-interop.html">
            
                    
                    与 C 语言互操作
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.3.1" data-path="native-c-interop.html">
            
                <a href="native-c-interop.html">
            
                    
                    与 C 语言互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.2" data-path="mapping-primitive-data-types-from-c.html">
            
                <a href="mapping-primitive-data-types-from-c.html">
            
                    
                    映射来自 C 语言的原始数据类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.3" data-path="mapping-struct-union-types-from-c.html">
            
                <a href="mapping-struct-union-types-from-c.html">
            
                    
                    映射来自 C 语言的结构与联合类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.4" data-path="mapping-function-pointers-from-c.html">
            
                <a href="mapping-function-pointers-from-c.html">
            
                    
                    映射来自 C 语言的函数指针——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.5" data-path="mapping-strings-from-c.html">
            
                <a href="mapping-strings-from-c.html">
            
                    
                    映射来自 C 语言的字符串——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.6" data-path="native-dynamic-libraries.html">
            
                <a href="native-dynamic-libraries.html">
            
                    
                    Kotlin/Native 开发动态库——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.7" data-path="native-app-with-c-and-libcurl.html">
            
                <a href="native-app-with-c-and-libcurl.html">
            
                    
                    创建使用 C 语言互操作与 libcurl 的应用——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.4" data-path="d-objc-interop.html">
            
                <a href="d-objc-interop.html">
            
                    
                    与 Objective-C 互操作性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.4.1" data-path="native-objc-interop.html">
            
                <a href="native-objc-interop.html">
            
                    
                    与 Swift/Objective-C 互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.4.2" data-path="apple-framework.html">
            
                <a href="apple-framework.html">
            
                    
                    Kotlin/Native 开发 Apple framework——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.5" data-path="native-libraries.html">
            
                <a href="native-libraries.html">
            
                    
                    Kotlin/Native 库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.6" data-path="native-platform-libs.html">
            
                <a href="native-platform-libs.html">
            
                    
                    平台库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7" data-path="d-mem-mgr.html">
            
                <a href="d-mem-mgr.html">
            
                    
                    内存管理器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.7.1" data-path="native-memory-manager.html">
            
                <a href="native-memory-manager.html">
            
                    
                    Kotlin/Native 内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.2" data-path="native-arc-integration.html">
            
                <a href="native-arc-integration.html">
            
                    
                    与 ARC 集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.3" data-path="native-migration-guide.html">
            
                <a href="native-migration-guide.html">
            
                    
                    迁移到新版内存管理器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.8" data-path="native-debugging.html">
            
                <a href="native-debugging.html">
            
                    
                    调试 Kotlin/Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.9" data-path="native-ios-symbolication.html">
            
                <a href="native-ios-symbolication.html">
            
                    
                    符号化 iOS 崩溃报告
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10" data-path="d-ref-and-tips.html">
            
                <a href="d-ref-and-tips.html">
            
                    
                    参考与提示
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.10.1" data-path="native-target-support.html">
            
                <a href="native-target-support.html">
            
                    
                    目标平台支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.2" data-path="native-improving-compilation-time.html">
            
                <a href="native-improving-compilation-time.html">
            
                    
                    改进编译时间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.3" data-path="native-binary-licenses.html">
            
                <a href="native-binary-licenses.html">
            
                    
                    许可证文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.4" data-path="native-faq.html">
            
                <a href="native-faq.html">
            
                    
                    Kotlin/Native FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="d-wasm.html">
            
                <a href="d-wasm.html">
            
                    
                    WebAssembly（Wasm）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.3.1" data-path="wasm-get-started.html">
            
                <a href="wasm-get-started.html">
            
                    
                    在 IntelliJ IDEA 中入门 Kotlin/Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.2" data-path="wasm-wasi.html">
            
                <a href="wasm-wasi.html">
            
                    
                    Kotlin/Wasm 与 WASI 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.3" data-path="wasm-debugging.html">
            
                <a href="wasm-debugging.html">
            
                    
                    调试 Kotlin/Wasm 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.4" data-path="wasm-js-interop.html">
            
                <a href="wasm-js-interop.html">
            
                    
                    与 JavaScript 的互操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.5" data-path="wasm-troubleshooting.html">
            
                <a href="wasm-troubleshooting.html">
            
                    
                    故障排查
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="d-javascript.html">
            
                <a href="d-javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.1" data-path="js-project-setup.html">
            
                <a href="js-project-setup.html">
            
                    
                    搭建 Kotlin/JS 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.2" data-path="running-kotlin-js.html">
            
                <a href="running-kotlin-js.html">
            
                    
                    运行 Kotlin/JS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.3" data-path="dev-server-continuous-compilation.html">
            
                <a href="dev-server-continuous-compilation.html">
            
                    
                    开发服务器与持续编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.4" data-path="js-debugging.html">
            
                <a href="js-debugging.html">
            
                    
                    调试 Kotlin/JS 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.5" data-path="js-running-tests.html">
            
                <a href="js-running-tests.html">
            
                    
                    在 Kotlin/JS 平台中运行测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.6" data-path="javascript-dce.html">
            
                <a href="javascript-dce.html">
            
                    
                    Kotlin/JS 无用代码消除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.7" data-path="js-ir-compiler.html">
            
                <a href="js-ir-compiler.html">
            
                    
                    Kotlin/JS IR 编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8" data-path="d-kotlin-for-js-platform.html">
            
                <a href="d-kotlin-for-js-platform.html">
            
                    
                    Kotlin 用于 JS 平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.8.1" data-path="browser-api-dom.html">
            
                <a href="browser-api-dom.html">
            
                    
                    浏览器与 DOM API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.2" data-path="js-interop.html">
            
                <a href="js-interop.html">
            
                    
                    在 Kotlin 中使用 JavaScript 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.3" data-path="dynamic-type.html">
            
                <a href="dynamic-type.html">
            
                    
                    动态类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.4" data-path="using-packages-from-npm.html">
            
                <a href="using-packages-from-npm.html">
            
                    
                    使用来自 npm 的依赖
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.5" data-path="js-to-kotlin-interop.html">
            
                <a href="js-to-kotlin-interop.html">
            
                    
                    在 JavaScript 中使用 Kotlin 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.6" data-path="js-modules.html">
            
                <a href="js-modules.html">
            
                    
                    JavaScript 模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.7" data-path="js-reflection.html">
            
                <a href="js-reflection.html">
            
                    
                    Kotlin/JS 反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.8" data-path="typesafe-html-dsl.html">
            
                <a href="typesafe-html-dsl.html">
            
                    
                    类型安全的 HTML DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="d-scripting.html">
            
                <a href="d-scripting.html">
            
                    
                    脚本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.5.1" data-path="custom-script-deps-tutorial.html">
            
                <a href="custom-script-deps-tutorial.html">
            
                    
                    Kotlin 自定义脚本入门——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="l-kotlin-multiplatform-dev.html">
            
                <a href="l-kotlin-multiplatform-dev.html">
            
                    
                    Kotlin 多平台开发↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="d-standard-library.html">
            
                <a href="d-standard-library.html">
            
                    
                    标准库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="d-collections.html">
            
                <a href="d-collections.html">
            
                    
                    集合
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1.1" data-path="collections-overview.html">
            
                <a href="collections-overview.html">
            
                    
                    集合概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.2" data-path="constructing-collections.html">
            
                <a href="constructing-collections.html">
            
                    
                    构造集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.3" data-path="iterators.html">
            
                <a href="iterators.html">
            
                    
                    迭代器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.4" data-path="ranges.html">
            
                <a href="ranges.html">
            
                    
                    区间与数列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.5" data-path="sequences.html">
            
                <a href="sequences.html">
            
                    
                    序列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.6" data-path="collection-operations.html">
            
                <a href="collection-operations.html">
            
                    
                    集合操作概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.7" data-path="collection-transformations.html">
            
                <a href="collection-transformations.html">
            
                    
                    集合转换操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.8" data-path="collection-filtering.html">
            
                <a href="collection-filtering.html">
            
                    
                    过滤集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.9" data-path="collection-plus-minus.html">
            
                <a href="collection-plus-minus.html">
            
                    
                    加减操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.10" data-path="collection-grouping.html">
            
                <a href="collection-grouping.html">
            
                    
                    分组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.11" data-path="collection-parts.html">
            
                <a href="collection-parts.html">
            
                    
                    取集合的一部分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.12" data-path="collection-elements.html">
            
                <a href="collection-elements.html">
            
                    
                    取单个元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.13" data-path="collection-ordering.html">
            
                <a href="collection-ordering.html">
            
                    
                    排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.14" data-path="collection-aggregate.html">
            
                <a href="collection-aggregate.html">
            
                    
                    聚合操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.15" data-path="collection-write.html">
            
                <a href="collection-write.html">
            
                    
                    集合写操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.16" data-path="list-operations.html">
            
                <a href="list-operations.html">
            
                    
                    List 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.17" data-path="set-operations.html">
            
                <a href="set-operations.html">
            
                    
                    Set 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.18" data-path="map-operations.html">
            
                <a href="map-operations.html">
            
                    
                    Map 相关操作
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="read-standard-input.html">
            
                <a href="read-standard-input.html">
            
                    
                    读取标准输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="opt-in-requirements.html">
            
                <a href="opt-in-requirements.html">
            
                    
                    选择加入要求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="scope-functions.html">
            
                <a href="scope-functions.html">
            
                    
                    作用域函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="time-measurement.html">
            
                <a href="time-measurement.html">
            
                    
                    时间度量
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="d-official-library.html">
            
                <a href="d-official-library.html">
            
                    
                    官方库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="d-kotlinx-coroutines.html">
            
                <a href="d-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1.1" data-path="coroutines-guide.html">
            
                <a href="coroutines-guide.html">
            
                    
                    协程指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.2" data-path="coroutines-basics.html">
            
                <a href="coroutines-basics.html">
            
                    
                    协程基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.3" data-path="l-intro-coroutines-and-channels.html">
            
                <a href="l-intro-coroutines-and-channels.html">
            
                    
                    Kotlin 协程与通道介绍↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.4" data-path="cancellation-and-timeouts.html">
            
                <a href="cancellation-and-timeouts.html">
            
                    
                    取消与超时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.5" data-path="composing-suspending-functions.html">
            
                <a href="composing-suspending-functions.html">
            
                    
                    组合挂起函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.6" data-path="coroutine-context-and-dispatchers.html">
            
                <a href="coroutine-context-and-dispatchers.html">
            
                    
                    协程上下文与调度器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.7" data-path="flow.html">
            
                <a href="flow.html">
            
                    
                    异步流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.8" data-path="channels.html">
            
                <a href="channels.html">
            
                    
                    通道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.9" data-path="exception-handling.html">
            
                <a href="exception-handling.html">
            
                    
                    协程异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.10" data-path="shared-mutable-state-and-concurrency.html">
            
                <a href="shared-mutable-state-and-concurrency.html">
            
                    
                    共享的可变状态与并发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.11" data-path="select-expression.html">
            
                <a href="select-expression.html">
            
                    
                    select 表达式（实验性的）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.12" data-path="debug-coroutines-with-idea.html">
            
                <a href="debug-coroutines-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试协程——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.13" data-path="debug-flow-with-idea.html">
            
                <a href="debug-flow-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试 Kotlin Flow——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="serialization.html">
            
                <a href="serialization.html">
            
                    
                    序列化（kotlinx.serialization）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="metadata-jvm.html">
            
                <a href="metadata-jvm.html">
            
                    
                    Kotlin Metadata JVM（kotlin-metadata-jvm）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="d-lincheck.html">
            
                <a href="d-lincheck.html">
            
                    
                    Lincheck（kotlinx.lincheck）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.4.1" data-path="lincheck-guide.html">
            
                <a href="lincheck-guide.html">
            
                    
                    Lincheck 指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.2" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    用 Lincheck 编写第一个测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.3" data-path="testing-strategies.html">
            
                <a href="testing-strategies.html">
            
                    
                    测试策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.4" data-path="operation-arguments.html">
            
                <a href="operation-arguments.html">
            
                    
                    操作参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.5" data-path="constraints.html">
            
                <a href="constraints.html">
            
                    
                    数据结构约束
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.6" data-path="progress-guarantees.html">
            
                <a href="progress-guarantees.html">
            
                    
                    进度保证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.7" data-path="sequential-specification.html">
            
                <a href="sequential-specification.html">
            
                    
                    时序规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="l-ktor1.html">
            
                <a href="l-ktor1.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="d-api-reference.html">
            
                <a href="d-api-reference.html">
            
                    
                    API 参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="l-stdlib.html">
            
                <a href="l-stdlib.html">
            
                    
                    标准库（stdlib）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="l-kotlin-test.html">
            
                <a href="l-kotlin-test.html">
            
                    
                    测试库（kotlin.test）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="l-kotlinx-coroutines.html">
            
                <a href="l-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="l-kotlinx-serialization.html">
            
                <a href="l-kotlinx-serialization.html">
            
                    
                    序列化（kotlinx.serialization）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="l-kotlinx-io.html">
            
                <a href="l-kotlinx-io.html">
            
                    
                    Kotlin I/O 库（kotlinx-io）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="l-kotlinx-datetime.html">
            
                <a href="l-kotlinx-datetime.html">
            
                    
                    日期与时间（kotlinx-datetime）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="l-kotlinx-metadata-jvm.html">
            
                <a href="l-kotlinx-metadata-jvm.html">
            
                    
                    JVM 元数据（kotlinx-metadata-jvm）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8" data-path="l-ktor2.html">
            
                <a href="l-ktor2.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9" data-path="l-kotlin-gradle-plugin.html">
            
                <a href="l-kotlin-gradle-plugin.html">
            
                    
                    Kotlin Gradle 插件（kotlin-gradle-plugin）↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="d-language-reference.html">
            
                <a href="d-language-reference.html">
            
                    
                    语言参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="keyword-reference.html">
            
                <a href="keyword-reference.html">
            
                    
                    关键字与操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="l-grammar.html">
            
                <a href="l-grammar.html">
            
                    
                    语法↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="l-kotlin-spec.html">
            
                <a href="l-kotlin-spec.html">
            
                    
                    语言规范↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="d-tools.html">
            
                <a href="d-tools.html">
            
                    
                    工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="d-build-tools.html">
            
                <a href="d-build-tools.html">
            
                    
                    构建工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1" data-path="d-gradle.html">
            
                <a href="d-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1.1" data-path="gradle.html">
            
                <a href="gradle.html">
            
                    
                    Gradle 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.2" data-path="get-started-with-jvm-gradle-project.html">
            
                <a href="get-started-with-jvm-gradle-project.html">
            
                    
                    Gradle 入门——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.3" data-path="gradle-configure-project.html">
            
                <a href="gradle-configure-project.html">
            
                    
                    配置 Gradle 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.4" data-path="gradle-best-practices.html">
            
                <a href="gradle-best-practices.html">
            
                    
                    Gradle 最佳实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.5" data-path="gradle-compiler-options.html">
            
                <a href="gradle-compiler-options.html">
            
                    
                    Kotlin Gradle 插件中的编译器选项
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.6" data-path="gradle-compilation-and-caches.html">
            
                <a href="gradle-compilation-and-caches.html">
            
                    
                    Kotlin Gradle 插件中的编译项与缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.7" data-path="gradle-plugin-variants.html">
            
                <a href="gradle-plugin-variants.html">
            
                    
                    支持 Gradle 插件变体
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.1.2" data-path="maven.html">
            
                <a href="maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.3" data-path="ant.html">
            
                <a href="ant.html">
            
                    
                    Ant
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="d-dokka.html">
            
                <a href="d-dokka.html">
            
                    
                    Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.1" data-path="dokka-introduction.html">
            
                <a href="dokka-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.2" data-path="dokka-get-started.html">
            
                <a href="dokka-get-started.html">
            
                    
                    Dokka 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3" data-path="d-run-dokka.html">
            
                <a href="d-run-dokka.html">
            
                    
                    运行 Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.3.1" data-path="dokka-gradle.html">
            
                <a href="dokka-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.2" data-path="dokka-maven.html">
            
                <a href="dokka-maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.3" data-path="dokka-cli.html">
            
                <a href="dokka-cli.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.4" data-path="d-output-formats.html">
            
                <a href="d-output-formats.html">
            
                    
                    输出格式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.4.1" data-path="dokka-html.html">
            
                <a href="dokka-html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.2" data-path="dokka-markdown.html">
            
                <a href="dokka-markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.3" data-path="dokka-javadoc.html">
            
                <a href="dokka-javadoc.html">
            
                    
                    Javadoc
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.5" data-path="dokka-plugins.html">
            
                <a href="dokka-plugins.html">
            
                    
                    Dokka 插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.6" data-path="dokka-module-and-package-docs.html">
            
                <a href="dokka-module-and-package-docs.html">
            
                    
                    模块文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="kotlin-ide.html">
            
                <a href="kotlin-ide.html">
            
                    
                    用于 Kotlin 开发的 IDE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="code-style-migration-guide.html">
            
                <a href="code-style-migration-guide.html">
            
                    
                    使用 IntelliJ IDEA 迁移到 Kotlin 代码风格
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="kotlin-notebook-overview.html">
            
                <a href="kotlin-notebook-overview.html">
            
                    
                    Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="lets-plot.html">
            
                <a href="lets-plot.html">
            
                    
                    用于 Kotlin 的 Lets-Plot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="run-code-snippets.html">
            
                <a href="run-code-snippets.html">
            
                    
                    运行代码片段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.8" data-path="kotlin-and-ci.html">
            
                <a href="kotlin-and-ci.html">
            
                    
                    Kotlin 与 TeamCity 的持续集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.9" data-path="kotlin-doc.html">
            
                <a href="kotlin-doc.html">
            
                    
                    编写代码文档：KDoc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.10" data-path="kotlin-osgi.html">
            
                <a href="kotlin-osgi.html">
            
                    
                    Kotlin 与 OSGi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="d-compiler-and-plugin.html">
            
                <a href="d-compiler-and-plugin.html">
            
                    
                    编译器与插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="d-compiler.html">
            
                <a href="d-compiler.html">
            
                    
                    编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1.1" data-path="k2-compiler-migration-guide.html">
            
                <a href="k2-compiler-migration-guide.html">
            
                    
                    K2 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.2" data-path="command-line.html">
            
                <a href="command-line.html">
            
                    
                    Kotlin 命令行编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.3" data-path="compiler-reference.html">
            
                <a href="compiler-reference.html">
            
                    
                    Kotlin 编译器选项
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="d-compiler-plugins.html">
            
                <a href="d-compiler-plugins.html">
            
                    
                    编译器插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.2.1" data-path="all-open-plugin.html">
            
                <a href="all-open-plugin.html">
            
                    
                    全开放编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.2" data-path="no-arg-plugin.html">
            
                <a href="no-arg-plugin.html">
            
                    
                    No-arg 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.3" data-path="sam-with-receiver-plugin.html">
            
                <a href="sam-with-receiver-plugin.html">
            
                    
                    带有接收者的 SAM 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.4" data-path="kapt.html">
            
                <a href="kapt.html">
            
                    
                    kapt 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.5" data-path="lombok.html">
            
                <a href="lombok.html">
            
                    
                    Lombok 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.6" data-path="power-assert.html">
            
                <a href="power-assert.html">
            
                    
                    Power-assert
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="d-compose-compiler.html">
            
                <a href="d-compose-compiler.html">
            
                    
                    Compose 编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.3.1" data-path="compose-compiler-migration-guide.html">
            
                <a href="compose-compiler-migration-guide.html">
            
                    
                    Compose 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.2" data-path="compose-compiler-options.html">
            
                <a href="compose-compiler-options.html">
            
                    
                    Compose 编译器选项 DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="d-ksp.html">
            
                <a href="d-ksp.html">
            
                    
                    Kotlin 符号处理（KSP）API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.4.1" data-path="ksp-overview.html">
            
                <a href="ksp-overview.html">
            
                    
                    KSP 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.2" data-path="ksp-quickstart.html">
            
                <a href="ksp-quickstart.html">
            
                    
                    KSP 快速入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.3" data-path="ksp-why-ksp.html">
            
                <a href="ksp-why-ksp.html">
            
                    
                    为什么选用 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.4" data-path="ksp-examples.html">
            
                <a href="ksp-examples.html">
            
                    
                    KSP 示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.5" data-path="ksp-additional-details.html">
            
                <a href="ksp-additional-details.html">
            
                    
                    KSP 如何为 Kotlin 代码建模
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.6" data-path="ksp-reference.html">
            
                <a href="ksp-reference.html">
            
                    
                    Java 注解处理对应到 KSP 参考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.7" data-path="ksp-incremental.html">
            
                <a href="ksp-incremental.html">
            
                    
                    增量处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.8" data-path="ksp-multi-round.html">
            
                <a href="ksp-multi-round.html">
            
                    
                    多轮次处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.9" data-path="ksp-multiplatform.html">
            
                <a href="ksp-multiplatform.html">
            
                    
                    KSP 与 Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.10" data-path="ksp-command-line.html">
            
                <a href="ksp-command-line.html">
            
                    
                    在命令行运行 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.11" data-path="ksp-faq.html">
            
                <a href="ksp-faq.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="d-learning-materials.html">
            
                <a href="d-learning-materials.html">
            
                    
                    学习资料
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="learning-materials-overview.html">
            
                <a href="learning-materials-overview.html">
            
                    
                    学习资料概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="l-kotlin-by-example2.html">
            
                <a href="l-kotlin-by-example2.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="koans.html">
            
                <a href="koans.html">
            
                    
                    Kotlin 心印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="l-kotlin-core-track.html">
            
                <a href="l-kotlin-core-track.html">
            
                    
                    Kotlin 核心课程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.5" data-path="kotlin-hands-on.html">
            
                <a href="kotlin-hands-on.html">
            
                    
                    Kotlin 动手实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.6" data-path="kotlin-tips.html">
            
                <a href="kotlin-tips.html">
            
                    
                    Kotlin 小窍门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.7" data-path="books.html">
            
                <a href="books.html">
            
                    
                    图书
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.8" data-path="advent-of-code.html">
            
                <a href="advent-of-code.html">
            
                    
                    Advent of Code 谜题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9" data-path="d-edu-tools.html">
            
                <a href="d-edu-tools.html">
            
                    
                    在 IDE 中学习（JetBrains 学院）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.9.1" data-path="edu-tools-learner.html">
            
                <a href="edu-tools-learner.html">
            
                    
                    学习 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9.2" data-path="edu-tools-educator.html">
            
                <a href="edu-tools-educator.html">
            
                    
                    讲授 Kotlin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10" data-path="d-lib-creator-guidelines.html">
            
                <a href="d-lib-creator-guidelines.html">
            
                    
                    库作者指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.1" data-path="api-guidelines-introduction.html">
            
                <a href="api-guidelines-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2" data-path="d-minimize-mental-complexity.html">
            
                <a href="d-minimize-mental-complexity.html">
            
                    
                    最小化心理复杂性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.2.1" data-path="api-guidelines-minimizing-mental-complexity.html">
            
                <a href="api-guidelines-minimizing-mental-complexity.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.2" data-path="api-guidelines-simplicity.html">
            
                <a href="api-guidelines-simplicity.html">
            
                    
                    简单
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.3" data-path="api-guidelines-readability.html">
            
                <a href="api-guidelines-readability.html">
            
                    
                    可读性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.4" data-path="api-guidelines-consistency.html">
            
                <a href="api-guidelines-consistency.html">
            
                    
                    一致性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.5" data-path="api-guidelines-predictability.html">
            
                <a href="api-guidelines-predictability.html">
            
                    
                    可预测性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.6" data-path="api-guidelines-debuggability.html">
            
                <a href="api-guidelines-debuggability.html">
            
                    
                    可调试性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.7" data-path="api-guidelines-testability.html">
            
                <a href="api-guidelines-testability.html">
            
                    
                    可测试性
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10.3" data-path="api-guidelines-backward-compatibility.html">
            
                <a href="api-guidelines-backward-compatibility.html">
            
                    
                    反向兼容性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.4" data-path="api-guidelines-informative-documentation.html">
            
                <a href="api-guidelines-informative-documentation.html">
            
                    
                    内容翔实的文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.5" data-path="api-guidelines-build-for-multiplatform.html">
            
                <a href="api-guidelines-build-for-multiplatform.html">
            
                    
                    构建多平台库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="d-eap.html">
            
                <a href="d-eap.html">
            
                    
                    早期访问计划（EAP）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="eap.html">
            
                <a href="eap.html">
            
                    
                    参与 Kotlin 早期访问计划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="configure-build-for-eap.html">
            
                <a href="configure-build-for-eap.html">
            
                    
                    配置构建采用 EAP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="d-other-resources.html">
            
                <a href="d-other-resources.html">
            
                    
                    其他资源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="d-compatibility.html">
            
                <a href="d-compatibility.html">
            
                    
                    Kotlin 兼容性指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.2.1" data-path="compatibility-guide-21.html">
            
                <a href="compatibility-guide-21.html">
            
                    
                    Kotlin 2.1 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.2" data-path="compatibility-guide-20.html">
            
                <a href="compatibility-guide-20.html">
            
                    
                    Kotlin 2.0 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.3" data-path="compatibility-guide-19.html">
            
                <a href="compatibility-guide-19.html">
            
                    
                    Kotlin 1.9 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.4" data-path="compatibility-guide-18.html">
            
                <a href="compatibility-guide-18.html">
            
                    
                    Kotlin 1.8 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.5" data-path="compatibility-guide-1720.html">
            
                <a href="compatibility-guide-1720.html">
            
                    
                    Kotlin 1.7.20 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.6" data-path="compatibility-guide-17.html">
            
                <a href="compatibility-guide-17.html">
            
                    
                    Kotlin 1.7 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.7" data-path="compatibility-guide-16.html">
            
                <a href="compatibility-guide-16.html">
            
                    
                    Kotlin 1.6 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.8" data-path="compatibility-guide-15.html">
            
                <a href="compatibility-guide-15.html">
            
                    
                    Kotlin 1.5 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.9" data-path="compatibility-guide-14.html">
            
                <a href="compatibility-guide-14.html">
            
                    
                    Kotlin 1.4 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.10" data-path="compatibility-guide-13.html">
            
                <a href="compatibility-guide-13.html">
            
                    
                    Kotlin 1.3 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.11" data-path="compatibility-modes.html">
            
                <a href="compatibility-modes.html">
            
                    
                    兼容模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="d-kotlin-foundation.html">
            
                <a href="d-kotlin-foundation.html">
            
                    
                    Kotlin 基金会
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.3.1" data-path="l-kotlin-foundation.html">
            
                <a href="l-kotlin-foundation.html">
            
                    
                    Kotlin 基金会↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.2" data-path="l-language-committee-guidelines.html">
            
                <a href="l-language-committee-guidelines.html">
            
                    
                    语言委员会准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.3" data-path="l-submitting-incompatible-changes.html">
            
                <a href="l-submitting-incompatible-changes.html">
            
                    
                    提交不兼容变更指南↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.4" data-path="l-guidelines.html">
            
                <a href="l-guidelines.html">
            
                    
                    Kotlin 品牌用途准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.5" data-path="l-foundation-faq.html">
            
                <a href="l-foundation-faq.html">
            
                    
                    Kotlin 基金会 FAQ↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="d-gsoc.html">
            
                <a href="d-gsoc.html">
            
                    
                    Google Summer of Code
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.4.1" data-path="gsoc-overview.html">
            
                <a href="gsoc-overview.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.2" data-path="l-gsoc-2025.html">
            
                <a href="l-gsoc-2025.html">
            
                    
                    Google Summer of Code with Kotlin 2025↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.3" data-path="l-gsoc-2024.html">
            
                <a href="l-gsoc-2024.html">
            
                    
                    Google Summer of Code with Kotlin 2024↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.4" data-path="l-gsoc-2023.html">
            
                <a href="l-gsoc-2023.html">
            
                    
                    Google Summer of Code with Kotlin 2023↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="security.html">
            
                <a href="security.html">
            
                    
                    安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="d-community.html">
            
                <a href="d-community.html">
            
                    
                    社区
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.6.1" data-path="contribute.html">
            
                <a href="contribute.html">
            
                    
                    贡献力量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.2" data-path="kug-guidelines.html">
            
                <a href="kug-guidelines.html">
            
                    
                    KUG 准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.3" data-path="kotlin-night-guidelines.html">
            
                <a href="kotlin-night-guidelines.html">
            
                    
                    Kotlin 之夜准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.4" data-path="slack-code-of-conduct.html">
            
                <a href="slack-code-of-conduct.html">
            
                    
                    Kotlin Slack 的行为准则与指南
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.7" data-path="kotlin-brand-assets.html">
            
                <a href="kotlin-brand-assets.html">
            
                    
                    Kotlin 品牌素材
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.8" data-path="l-press-kit.html">
            
                <a href="l-press-kit.html">
            
                    
                    宣传资料↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            本书使用 HonKit 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Kotlin 1.4.0</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="kotlin-140-的新特性">Kotlin 1.4.0 的新特性</h1>
<p><em><a href="releases.html#版本发布详情">发布于：2020-08-17</a></em></p>
<p>在 Kotlin 1.4.0 中，我们对其所有组件进行了大量改进，其中<a href="https://blog.jetbrains.com/kotlin/2020/08/kotlin-1-4-released-with-a-focus-on-quality-and-performance/" target="_blank">重点是质量与性能</a>。
以下是 Kotlin  1.4.0 中最重要的变更列表。</p>
<h2 id="语言特性与改进">语言特性与改进</h2>
<p>Kotlin 1.4.0 中有各种不同的语言特性与改进。包括：</p>
<ul>
<li><a href="#kotlin-接口的-sam-转换">Kotlin 接口的 SAM 转换</a></li>
<li><a href="#面向库作者的显式-api-模式">面向库作者的显式 API 模式</a></li>
<li><a href="#混用具名与位置参数">混用具名与位置参数</a></li>
<li><a href="#拖尾的逗号">拖尾的逗号</a></li>
<li><a href="#可调用引用改进">可调用引用改进</a></li>
<li><a href="#在循环中的-when-内部使用-break-与-continue">循环中的 when 内部可以 break 及 continue</a></li>
</ul>
<h3 id="kotlin-接口的-sam-转换">Kotlin 接口的 SAM 转换</h3>
<p>Before Kotlin 1.4.0, you could apply SAM (Single Abstract Method) conversions only <a href="java-interop.html#sam-转换">when working with Java methods and Java
interfaces from Kotlin</a>. From now on, you can use SAM conversions for Kotlin interfaces as well.
To do so, mark a Kotlin interface explicitly as functional with the <code>fun</code> modifier.</p>
<p>SAM conversion applies if you pass a lambda as an argument when an interface with only one single abstract method is expected
as a parameter. In this case, the compiler automatically converts the lambda to an instance of the class that implements the abstract member function.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-keyword">interface</span> IntPredicate {</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">accept</span><span class="hljs-params">(i: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Boolean</span>
}

<span class="hljs-keyword">val</span> isEven = IntPredicate { it % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> }

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> { 
    println(<span class="hljs-string">"Is 7 even? - <span class="hljs-subst">${isEven.accept(<span class="hljs-number">7</span>)}</span>"</span>)
}
</code></pre>
<p><a href="fun-interfaces.html">Learn more about Kotlin functional interfaces and SAM conversions</a>.</p>
<h3 id="面向库作者的显式-api-模式">面向库作者的显式 API 模式</h3>
<p>Kotlin compiler offers <em>explicit API mode</em> for library authors. In this mode, the compiler performs additional checks that
help make the library's API clearer and more consistent. It adds the following requirements for declarations exposed
to the library's public API:</p>
<ul>
<li>Visibility modifiers are required for declarations if the default visibility exposes them to the public API.
This helps ensure that no declarations are exposed to the public API unintentionally.</li>
<li>Explicit type specifications are required for properties and functions that are exposed to the public API.
This guarantees that API users are aware of the types of API members they use.</li>
</ul>
<p>Depending on your configuration, these explicit APIs can produce errors (<em>strict</em> mode) or warnings (<em>warning</em> mode).
Certain kinds of declarations are excluded from such checks for the sake of readability and common sense:</p>
<ul>
<li>primary constructors</li>
<li>properties of data classes</li>
<li>property getters and setters</li>
<li><code>override</code> methods</li>
</ul>
<p>Explicit API mode analyzes only the production sources of a module.</p>
<p>To compile your module in the explicit API mode, add the following lines to your Gradle build script:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">kotlin {    
    <span class="hljs-comment">// for strict mode</span>
    explicitApi() 
    <span class="hljs-comment">// or</span>
    explicitApi = ExplicitApiMode.Strict

    <span class="hljs-comment">// for warning mode</span>
    explicitApiWarning()
    <span class="hljs-comment">// or</span>
    explicitApi = ExplicitApiMode.Warning
}
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">kotlin {    
    <span class="hljs-comment">// for strict mode</span>
    explicitApi() 
    <span class="hljs-comment">// or</span>
    explicitApi = <span class="hljs-string">'strict'</span>

    <span class="hljs-comment">// for warning mode</span>
    explicitApiWarning()
    <span class="hljs-comment">// or</span>
    explicitApi = <span class="hljs-string">'warning'</span>
}
</code></pre>
<hr></hr>
<p>When using the command-line compiler, switch to explicit API mode by adding  the <code>-Xexplicit-api</code> compiler option
with the value <code>strict</code> or <code>warning</code>.</p>
<pre><code class="lang-bash">-Xexplicit-api={strict|warning}
</code></pre>
<p><a href="https://github.com/Kotlin/KEEP/blob/master/proposals/explicit-api-mode.md" target="_blank">Find more details about the explicit API mode in the KEEP</a>. </p>
<h3 id="混用具名与位置参数">混用具名与位置参数</h3>
<p>In Kotlin 1.3, when you called a function with <a href="functions.html#具名实参">named arguments</a>, you had to place all the
arguments without names (positional arguments) before the first named argument. For example, you could call <code>f(1, y = 2)</code>, 
but you couldn't call <code>f(x = 1, 2)</code>.</p>
<p>It was really annoying when all the arguments were in their correct positions but you wanted to specify a name for one argument in the middle.
It was especially helpful for making absolutely clear which attribute a boolean or <code>null</code> value belongs to.</p>
<p>In Kotlin 1.4, there is no such limitation – you can now specify a name for an argument in the middle of a set of positional 
arguments. Moreover, you can mix positional and named arguments any way you like, as long as they remain in the correct order.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">reformat</span><span class="hljs-params">(
    str: <span class="hljs-type">String</span>,
    uppercaseFirstLetter: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">true</span>,
    wordSeparator: <span class="hljs-type">Char</span> = <span class="hljs-string">' '</span>
)</span></span> {
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">//Function call with a named argument in the middle</span>
reformat(<span class="hljs-string">"This is a String!"</span>, uppercaseFirstLetter = <span class="hljs-literal">false</span> , <span class="hljs-string">'-'</span>)
</code></pre>
<h3 id="拖尾的逗号">拖尾的逗号</h3>
<p>With Kotlin 1.4 you can now add a trailing comma in enumerations such as argument 
and parameter lists, <code>when</code> entries, and components of destructuring declarations.
With a trailing comma, you can add new items and change their order without adding or removing commas.</p>
<p>This is especially helpful if you use multi-line syntax for parameters or values. After adding a trailing comma, you can 
then easily swap lines with parameters or values.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">reformat</span><span class="hljs-params">(
    str: <span class="hljs-type">String</span>,
    uppercaseFirstLetter: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">true</span>,
    wordSeparator: <span class="hljs-type">Character</span> = <span class="hljs-string">' '</span>, <span class="hljs-comment">//尾部逗号</span>
)</span></span> {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> colors = listOf(
    <span class="hljs-string">"red"</span>,
    <span class="hljs-string">"green"</span>,
    <span class="hljs-string">"blue"</span>, <span class="hljs-comment">//尾部逗号</span>
)
</code></pre>
<h3 id="可调用引用改进">可调用引用改进</h3>
<p>Kotlin 1.4 supports more cases for using callable references:</p>
<ul>
<li>对具有默认实参值的函数的引用</li>
<li>可作为返回 <code>Unit</code>的函数的函数引用</li>
<li>根据函数的参数数量进行调整的引用</li>
<li>可调用引用的挂起转换</li>
</ul>
<h4 id="对具有默认实参值的函数的引用">对具有默认实参值的函数的引用</h4>
<p>Now you can use callable references to functions with default argument values. If the callable reference 
to the function <code>foo</code> takes no arguments, the default value <code>0</code> is used.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">foo</span><span class="hljs-params">(i: <span class="hljs-type">Int</span> = <span class="hljs-number">0</span>)</span></span>: String = <span class="hljs-string">"<span class="hljs-variable">$i</span>!"</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">apply</span><span class="hljs-params">(func: () -&gt; <span class="hljs-type">String</span>)</span></span>: String = func()

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    println(apply(::foo))
}
</code></pre>
<p>Previously, you had to write additional overloads for the function <code>apply</code> to use the default argument values.</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// some new overload</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">applyInt</span><span class="hljs-params">(func: (<span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">String</span>)</span></span>: String = func(<span class="hljs-number">0</span>)
</code></pre>
<h4 id="返回-unit-的函数的函数引用">返回 Unit 的函数的函数引用</h4>
<p>In Kotlin 1.4, you can use callable references to functions returning any type in <code>Unit</code>-returning functions. 
Before Kotlin 1.4, you could only use lambda arguments in this case. Now you can use both lambda arguments and callable references.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">foo</span><span class="hljs-params">(f: () -&gt; <span class="hljs-type">Unit</span>)</span></span> { }
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">returnsInt</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> = <span class="hljs-number">42</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    foo { returnsInt() } <span class="hljs-comment">// this was the only way to do it  before 1.4</span>
    foo(::returnsInt) <span class="hljs-comment">// starting from 1.4, this also works</span>
}
</code></pre>
<h4 id="根据函数的参数数量进行调整的引用">根据函数的参数数量进行调整的引用</h4>
<p>Now you can adapt callable references to functions when passing a variable number of arguments (<code>vararg</code>) . 
You can pass any number of parameters of the same type at the end of the list of passed arguments.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">foo</span><span class="hljs-params">(x: <span class="hljs-type">Int</span>, <span class="hljs-keyword">vararg</span> y: <span class="hljs-type">String</span>)</span></span> {}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">use0</span><span class="hljs-params">(f: (<span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {}
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">use1</span><span class="hljs-params">(f: (<span class="hljs-type">Int</span>, <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {}
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">use2</span><span class="hljs-params">(f: (<span class="hljs-type">Int</span>, <span class="hljs-type">String</span>, <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> {
    use0(::foo) 
    use1(::foo) 
    use2(::foo) 
}
</code></pre>
<h4 id="可调用引用的挂起转换">可调用引用的挂起转换</h4>
<p>In addition to suspend conversion on lambdas, Kotlin now supports suspend conversion on callable references starting from version 1.4.0.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">call</span><span class="hljs-params">()</span></span> {}
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">takeSuspend</span><span class="hljs-params">(f: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">Unit</span>)</span></span> {}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> {
    takeSuspend { call() } <span class="hljs-comment">// OK before 1.4</span>
    takeSuspend(::call) <span class="hljs-comment">// In Kotlin 1.4, it also works</span>
}
</code></pre>
<h3 id="在循环中的-when-内部使用-break-与-continue">在循环中的 when 内部使用 break 与 continue</h3>
<p>In Kotlin 1.3, you could not use unqualified <code>break</code> and <code>continue</code> inside <code>when</code> expressions included in loops. The reason was that these keywords were reserved for possible <a href="https://en.wikipedia.org/wiki/Switch_statement#Fallthrough" target="_blank">fall-through behavior</a> in <code>when</code> expressions. </p>
<p>That's why if you wanted to use <code>break</code> and <code>continue</code> inside <code>when</code> expressions in loops, you had to <a href="returns.html#break-与-continue-标签">label</a> them, which became rather cumbersome.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">(xs: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span> {
    <span class="hljs-symbol">LOOP@</span><span class="hljs-keyword">for</span> (x <span class="hljs-keyword">in</span> xs) {
        <span class="hljs-keyword">when</span> (x) {
            <span class="hljs-number">2</span> -&gt; <span class="hljs-keyword">continue</span><span class="hljs-symbol">@LOOP</span>
            <span class="hljs-number">17</span> -&gt; <span class="hljs-keyword">break</span><span class="hljs-symbol">@LOOP</span>
            <span class="hljs-keyword">else</span> -&gt; println(x)
        }
    }
}
</code></pre>
<p>In Kotlin 1.4, you can use <code>break</code> and <code>continue</code> without labels inside <code>when</code> expressions included in loops. They behave as expected by terminating the nearest enclosing loop or proceeding to its next step.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">(xs: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span> {
    <span class="hljs-keyword">for</span> (x <span class="hljs-keyword">in</span> xs) {
        <span class="hljs-keyword">when</span> (x) {
            <span class="hljs-number">2</span> -&gt; <span class="hljs-keyword">continue</span>
            <span class="hljs-number">17</span> -&gt; <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">else</span> -&gt; println(x)
        }
    }
}
</code></pre>
<p>The fall-through behavior inside <code>when</code> is subject to further design.</p>
<h2 id="ide-中的新工具">IDE 中的新工具</h2>
<p>With Kotlin 1.4, you can use the new tools in IntelliJ IDEA to simplify Kotlin development:</p>
<ul>
<li><a href="#新的灵活项目向导">新的灵活项目向导</a></li>
<li><a href="#协程调试器">协程调试器</a></li>
</ul>
<h3 id="新的灵活项目向导">新的灵活项目向导</h3>
<p>With the flexible new Kotlin Project Wizard, you have a place to easily create and configure different types of Kotlin 
projects, including multiplatform projects, which can be difficult to configure without a UI.</p>
<p><img src="../images/multiplatform-project-1-wn.png" alt="Kotlin Project Wizard – Multiplatform project"></img></p>
<p>The new Kotlin Project Wizard is both simple and flexible:</p>
<ol>
<li><em>Select the project template</em>, depending on what you're trying to do. More templates will be added in the future.</li>
<li><em>Select the build system</em> – Gradle (Kotlin or Groovy DSL), Maven, or IntelliJ IDEA.<br></br> The Kotlin Project Wizard will only show the build systems supported on the selected project template.</li>
<li><em>Preview the project structure</em> directly on the main screen.</li>
</ol>
<p>Then you can finish creating your project or, optionally, <em>configure the project</em> on the next screen:</p>
<ol>
<li><em>Add/remove modules and targets</em> supported for this project template.</li>
<li><em>Configure module and target settings</em>, for example, the target JVM version, target template, and test framework.</li>
</ol>
<p><img src="../images/multiplatform-project-2-wn.png" alt="Kotlin Project Wizard - Configure targets"></img></p>
<p>In the future, we are going to make the Kotlin Project Wizard even more flexible by adding more configuration options and templates.</p>
<p>You can try out the new Kotlin Project Wizard by working through these tutorials:</p>
<ul>
<li><a href="jvm-get-started.html">Create a console application based on Kotlin/JVM</a></li>
<li><a href="js-react.md">Create a Kotlin/JS application for React</a></li>
<li><a href="native-get-started.html">Create a Kotlin/Native application</a></li>
</ul>
<h3 id="协程调试器">协程调试器</h3>
<p>Many people already use <a href="coroutines-guide.html">coroutines</a> for asynchronous programming.
But when it came to debugging, working with coroutines before Kotlin 1.4, could be a real pain. Since coroutines jumped between threads, 
it was difficult to understand what a specific coroutine was doing and check its context. In some cases, tracking steps 
over breakpoints simply didn't work. As a result, you had to rely on logging or mental effort to debug code that used coroutines. </p>
<p>In Kotlin 1.4, debugging coroutines is now much more convenient with the new functionality shipped with the Kotlin plugin.</p>
<blockquote>
<p>Debugging works for versions 1.3.8 or later of <code>kotlinx-coroutines-core</code>.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>The <strong>Debug Tool Window</strong> now contains a new <strong>Coroutines</strong> tab. In this tab, you can find information about both currently 
running and suspended coroutines. The coroutines are grouped by the dispatcher they are running on. </p>
<p><img src="../images/coroutine-debugger-wn.png" alt="Debugging coroutines"></img></p>
<p>Now you can:</p>
<ul>
<li>Easily check the state of each coroutine.</li>
<li>See the values of local and captured variables for both running and suspended coroutines.</li>
<li>See a full coroutine creation stack, as well as a call stack inside the coroutine. The stack includes all frames with 
variable values, even those that would be lost during standard debugging.</li>
</ul>
<p>If you need a full report containing the state of each coroutine and its stack, right-click inside the <strong>Coroutines</strong> tab, and then
click <strong>Get Coroutines Dump</strong>. Currently, the coroutines dump is rather simple, but we're going to make it more readable 
and helpful in future versions of Kotlin.</p>
<p><img src="../images/coroutines-dump-wn.png" alt="Coroutines Dump"></img></p>
<p>Learn more about debugging coroutines in <a href="https://blog.jetbrains.com/kotlin/2020/07/kotlin-1-4-rc-debugging-coroutines/" target="_blank">this blog post</a>
and <a href="https://www.jetbrains.com/help/idea/debug-kotlin-coroutines.html" target="_blank">IntelliJ IDEA documentation</a>.</p>
<h2 id="新编译器">新编译器</h2>
<p>The new Kotlin compiler is going to be really fast; it will unify all the supported platforms and provide 
an API for compiler extensions. It's a long-term project, and we've already completed several steps in Kotlin 1.4.0:</p>
<ul>
<li><a href="#新的更强大的类型推断算法">新的、更强大的类型推断算法</a> is enabled by default. </li>
<li><a href="#统一的后端与可扩展性">新的 JVM 与 JS IR 后端</a>. They will become the default once we stabilize them.</li>
</ul>
<h3 id="新的更强大的类型推断算法">新的更强大的类型推断算法</h3>
<p>Kotlin 1.4 uses a new, more powerful type inference algorithm. This new algorithm was already available to try in 
Kotlin 1.3 by specifying a compiler option, and now it's used by default. You can find the full list of issues fixed in 
the new algorithm in <a href="https://youtrack.jetbrains.com/issues/KT?q=Tag:%20fixed-in-new-inference%20" target="_blank">YouTrack</a>. Here
you can find some of the most noticeable improvements:</p>
<ul>
<li><a href="#会自动推断类型的更多情况">会自动推断类型的更多情况</a></li>
<li><a href="#lambda-表达式最后一个表达式的智能转换">lambda 表达式最后一个表达式的智能转换</a></li>
<li><a href="#可调用引用的智能转换">可调用引用的智能转换</a></li>
<li><a href="#属性委托的更佳推断">属性委托的更佳推断</a></li>
<li><a href="#具有不同参数的-java-接口的-sam-转换">具有不同参数的 Java 接口的 SAM 转换</a></li>
<li><a href="#kotlin-中的-java-sam-接口">Kotlin 中的 Java SAM 接口</a></li>
</ul>
<h4 id="会自动推断类型的更多情况">会自动推断类型的更多情况</h4>
<p>The new inference algorithm infers types for many cases where the old algorithm required you to specify them explicitly. 
For instance, in the following example the type of the lambda parameter <code>it</code> is correctly inferred to <code>String?</code>:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">//sampleStart</span>
<span class="hljs-keyword">val</span> rulesMap: Map&lt;String, (String?) -&gt; <span class="hljs-built_in">Boolean</span>&gt; = mapOf(
    <span class="hljs-string">"weak"</span> to { it != <span class="hljs-literal">null</span> },
    <span class="hljs-string">"medium"</span> to { !it.isNullOrBlank() },
    <span class="hljs-string">"strong"</span> to { it != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-string">"^[a-zA-Z0-9]+$"</span>.toRegex().matches(it) }
)
<span class="hljs-comment">//sampleEnd</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    println(rulesMap.getValue(<span class="hljs-string">"weak"</span>)(<span class="hljs-string">"abc!"</span>))
    println(rulesMap.getValue(<span class="hljs-string">"strong"</span>)(<span class="hljs-string">"abc"</span>))
    println(rulesMap.getValue(<span class="hljs-string">"strong"</span>)(<span class="hljs-string">"abc!"</span>))
}
</code></pre>
<p>In Kotlin 1.3, you needed to introduce an explicit lambda parameter or replace <code>to</code> with a <code>Pair</code> constructor with 
explicit generic arguments to make it work.</p>
<h4 id="lambda-表达式最后一个表达式的智能转换">lambda 表达式最后一个表达式的智能转换</h4>
<p>In Kotlin 1.3, the last expression inside a lambda wasn't  smart cast unless you specified the expected type. Thus, in the 
following example, Kotlin 1.3 infers <code>String?</code> as the type of the <code>result</code> variable:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> result = run {
    <span class="hljs-keyword">var</span> str = currentValue()
    <span class="hljs-keyword">if</span> (str == <span class="hljs-literal">null</span>) {
        str = <span class="hljs-string">"test"</span>
    }
    str <span class="hljs-comment">// the Kotlin compiler knows that str is not null here</span>
}
<span class="hljs-comment">// The type of 'result' is String? in Kotlin 1.3 and String in Kotlin 1.4</span>
</code></pre>
<p>In Kotlin 1.4, thanks to the new inference algorithm, the last expression inside a lambda gets smart cast, and this new, 
more precise type is used to infer the resulting lambda type. Thus, the type of the <code>result</code> variable becomes <code>String</code>.</p>
<p>In Kotlin 1.3, you often needed to add explicit casts (either <code>!!</code> or type casts like <code>as String</code>) to make such cases work, 
and now these casts have become unnecessary.</p>
<h4 id="可调用引用的智能转换">可调用引用的智能转换</h4>
<p>In Kotlin 1.3, you couldn't access a member reference of a smart cast type. Now in Kotlin 1.4 you can:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> kotlin.reflect.KFunction

<span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> : <span class="hljs-type">Animal</span>() {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">meow</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"meow"</span>)
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> : <span class="hljs-type">Animal</span>() {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">woof</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"woof"</span>)
    }
}

<span class="hljs-comment">//sampleStart</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">perform</span><span class="hljs-params">(animal: <span class="hljs-type">Animal</span>)</span></span> {
    <span class="hljs-keyword">val</span> kFunction: KFunction&lt;*&gt; = <span class="hljs-keyword">when</span> (animal) {
        <span class="hljs-keyword">is</span> Cat -&gt; animal::meow
        <span class="hljs-keyword">is</span> Dog -&gt; animal::woof
    }
    kFunction.call()
}
<span class="hljs-comment">//sampleEnd</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    perform(Cat())
}
</code></pre>
<p>You can use different member references <code>animal::meow</code> and <code>animal::woof</code> after the animal variable has been smart cast 
to specific types <code>Cat</code> and <code>Dog</code>. After type checks, you can access member references corresponding to subtypes.</p>
<h4 id="属性委托的更佳推断">属性委托的更佳推断</h4>
<p>The type of a delegated property wasn't taken into account while analyzing the delegate expression which follows the <code>by</code> 
keyword. For instance, the following code didn't compile before, but now the compiler correctly infers the types of the 
<code>old</code> and <code>new</code> parameters as <code>String?</code>:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> kotlin.properties.Delegates

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> prop: String? <span class="hljs-keyword">by</span> Delegates.observable(<span class="hljs-literal">null</span>) { p, old, new -&gt;
        println(<span class="hljs-string">"<span class="hljs-variable">$old</span> → <span class="hljs-variable">$new</span>"</span>)
    }
    prop = <span class="hljs-string">"abc"</span>
    prop = <span class="hljs-string">"xyz"</span>
}
</code></pre>
<h4 id="具有不同参数的-java-接口的-sam-转换">具有不同参数的 Java 接口的 SAM 转换</h4>
<p>Kotlin has supported SAM conversions for Java interfaces from the beginning, but there was one case that wasn't supported, 
which was sometimes annoying when working with existing Java libraries. If you called a Java method that took two SAM interfaces 
as parameters, both arguments needed to be either lambdas or regular objects. You couldn't pass one argument as a lambda and 
another as an object. </p>
<p>The new algorithm fixes this issue, and you can pass a lambda instead of a SAM interface in any case, 
which is the way you'd naturally expect it to work.</p>
<pre><code class="lang-java"><span class="hljs-comment">// FILE: A.java</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">foo</span><span class="hljs-params">(Runnable r1, Runnable r2)</span> {}
}
</code></pre>
<pre><code class="lang-kotlin"><span class="hljs-comment">// FILE: test.kt</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">(r1: <span class="hljs-type">Runnable</span>)</span></span> {
    A.foo(r1) {}  <span class="hljs-comment">// Works in Kotlin 1.4</span>
}
</code></pre>
<h4 id="kotlin-中的-java-sam-接口">Kotlin 中的 Java SAM 接口</h4>
<p>In Kotlin 1.4, you can use Kotlin 中的 Java SAM 接口 and apply SAM conversions to them.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> java.lang.Runnable

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">foo</span><span class="hljs-params">(r: <span class="hljs-type">Runnable</span>)</span></span> {}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> { 
    foo { } <span class="hljs-comment">// OK</span>
}
</code></pre>
<p>In Kotlin 1.3, you would have had to declare the function <code>foo</code> above in Java code to perform a SAM conversion.</p>
<h3 id="统一的后端与可扩展性">统一的后端与可扩展性</h3>
<p>In Kotlin, we have three backends that generate executables: Kotlin/JVM, Kotlin/JS, and Kotlin/Native. Kotlin/JVM and Kotlin/JS 
don't share much code since they were developed independently of each other. Kotlin/Native is based on a new 
infrastructure built around an intermediate representation (IR) for Kotlin code. </p>
<p>We are now migrating Kotlin/JVM and Kotlin/JS to the same IR. As a result, all three backends
share a lot of logic and have a unified pipeline. This allows us to implement most features, optimizations, and bug fixes 
only once for all platforms. Both new IR-based back-ends are in <a href="components-stability.html">Alpha</a>.</p>
<p>A common backend infrastructure also opens the door for multiplatform compiler extensions. You will be able to plug into the 
pipeline and add custom processing and transformations that will automatically work for all platforms.</p>
<p>We encourage you to use our new <a href="#新的-jvm-ir-后端">JVM IR</a> and <a href="#新的-js-ir-后端">JS IR</a> backends, which are currently in Alpha, and
share your feedback with us.</p>
<h2 id="kotlinjvm">Kotlin/JVM</h2>
<p>Kotlin 1.4.0 includes a number of JVM-specific improvements, such as:</p>
<ul>
<li><a href="#新的-jvm-ir-后端">新的 JVM IR 后端</a></li>
<li><a href="#生成默认方法的新模式">在接口中生成默认方法的新模式</a></li>
<li><a href="#统一用于空检测的异常类型">统一用于空检测的异常类型</a></li>
<li><a href="#在-jvm-字节码中的类型注解">在 JVM 字节码中的类型注解</a></li>
</ul>
<h3 id="新的-jvm-ir-后端">新的 JVM IR 后端</h3>
<p>Along with Kotlin/JS, we are migrating Kotlin/JVM to the <a href="#统一的后端与可扩展性">unified IR backend</a>,
which allows us to implement most features and bug fixes once for all platforms. You will also be able to benefit from this 
by creating multiplatform extensions that will work for all platforms.</p>
<p>Kotlin 1.4.0 does not provide a public API for such extensions yet, but we are working closely with our partners, 
including <a href="https://developer.android.com/jetpack/compose" target="_blank">Jetpack Compose</a>, who are already building their compiler plugins 
using our new backend.</p>
<p>We encourage you to try out the new Kotlin/JVM backend, which is currently in Alpha, and to file any issues and feature requests to our <a href="https://youtrack.jetbrains.com/issues/KT" target="_blank">issue tracker</a>. 
This will help us to unify the compiler pipelines and bring compiler extensions like Jetpack Compose to the Kotlin community more quickly.</p>
<p>To enable the new JVM IR backend, specify an additional compiler option in your Gradle build script:</p>
<pre><code class="lang-kotlin">kotlinOptions.useIR = <span class="hljs-literal">true</span>
</code></pre>
<blockquote>
<p>If you <a href="https://developer.android.com/jetpack/compose/setup?hl=en" target="_blank">enable Jetpack Compose</a>, you will automatically be 
opted in to the new JVM backend without needing to specify the compiler option in <code>kotlinOptions</code>.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>When using the command-line compiler, add the compiler option <code>-Xuse-ir</code>.</p>
<blockquote>
<p>You can use code compiled by the new JVM IR backend only if you've enabled the new backend. Otherwise, you will get an error.
Considering this, we don't recommend that library authors switch to the new backend in production.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h3 id="生成默认方法的新模式">生成默认方法的新模式</h3>
<p>When compiling Kotlin code to targets JVM 1.8 and above, you could compile non-abstract methods of Kotlin interfaces into
Java's <code>default</code> methods. For this purpose, there was a mechanism that includes the <code>@JvmDefault</code> annotation for marking
such methods and the <code>-Xjvm-default</code> compiler option that enables processing of this annotation.</p>
<p>In 1.4.0, we've added a new mode for generating default methods: <code>-Xjvm-default=all</code> compiles <em>all</em> non-abstract methods of Kotlin
interfaces to <code>default</code> Java methods. For compatibility with the code that uses the interfaces compiled without <code>default</code>, 
we also added <code>all-compatibility</code> mode. </p>
<p>For more information about default methods in the Java interop, see the <a href="java-to-kotlin-interop.html#接口中的默认方法">interoperability documentation</a> and 
<a href="https://blog.jetbrains.com/kotlin/2020/07/kotlin-1-4-m3-generating-default-methods-in-interfaces/" target="_blank">this blog post</a>. </p>
<h3 id="统一用于空检测的异常类型">统一用于空检测的异常类型</h3>
<p>Starting from Kotlin 1.4.0, all runtime null checks will throw a <code>java.lang.NullPointerException</code> instead of <code>KotlinNullPointerException</code>,
<code>IllegalStateException</code>, <code>IllegalArgumentException</code>, and <code>TypeCastException</code>. This applies to: the <code>!!</code> operator, parameter
null checks in the method preamble, platform-typed expression null checks, and the <code>as</code> operator with a non-nullable type.
This doesn't apply to <code>lateinit</code> null checks and explicit library function calls like <code>checkNotNull</code> or <code>requireNotNull</code>.</p>
<p>This change increases the number of possible null check optimizations that can be performed either by the Kotlin compiler
or by various kinds of bytecode processing tools, such as the Android <a href="https://developer.android.com/studio/build/shrink-code" target="_blank">R8 optimizer</a>.</p>
<p>Note that from a developer's perspective, things won't change that much: the Kotlin code will throw exceptions with the
same error messages as before. The type of exception changes, but the information passed stays the same.</p>
<h3 id="在-jvm-字节码中的类型注解">在 JVM 字节码中的类型注解</h3>
<p>Kotlin can now generate type annotations in the JVM bytecode (target version 1.8+), so that they become available in Java reflection at runtime.
To emit the type annotation in the bytecode, follow these steps:</p>
<ol>
<li>Make sure that your declared annotation has a proper annotation target (Java's <code>ElementType.TYPE_USE</code> or Kotlin's
<code>AnnotationTarget.TYPE</code>) and retention (<code>AnnotationRetention.RUNTIME</code>).</li>
<li>Compile the annotation class declaration to JVM bytecode target version 1.8+. You can specify it with <code>-jvm-target=1.8</code>
compiler option.</li>
<li>Compile the code that uses the annotation to JVM bytecode target version 1.8+ (<code>-jvm-target=1.8</code>) and add the
<code>-Xemit-jvm-type-annotations</code> compiler option.</li>
</ol>
<p>Note that the type annotations from the standard library aren't emitted in the bytecode for now because the standard library is compiled
with the target version 1.6.</p>
<p>So far, only the basic cases are supported:</p>
<ul>
<li>Type annotations on method parameters, method return types and property types;</li>
<li>Invariant projections of type arguments, such as <code>Smth&lt;@Ann Foo&gt;</code>, <code>Array&lt;@Ann Foo&gt;</code>.</li>
</ul>
<p>In the following example, the <code>@Foo</code> annotation on the <code>String</code> type can be emitted to the bytecode and then used by the
library code:</p>
<pre><code class="lang-kotlin"><span class="hljs-meta">@Target(AnnotationTarget.TYPE)</span>
<span class="hljs-keyword">annotation</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>: <span class="hljs-meta">@Foo</span> String = <span class="hljs-string">"OK"</span>
}
</code></pre>
<h2 id="kotlinjs">Kotlin/JS</h2>
<p>On the JS platform, Kotlin 1.4.0 provides the following improvements:</p>
<ul>
<li><a href="#新的-gradle-dsl">新的 Gradle DSL</a></li>
<li><a href="#新的-js-ir-后端">新的 JS IR 后端</a></li>
</ul>
<h3 id="新的-gradle-dsl">新的 Gradle DSL</h3>
<p>The <code>kotlin.js</code> Gradle plugin comes with an adjusted Gradle DSL, which provides a number of new configuration options and is more closely aligned to the DSL used by the <code>kotlin-multiplatform</code> plugin. Some of the most impactful changes include:</p>
<ul>
<li>Explicit toggles for the creation of executable files via <code>binaries.executable()</code>. Read more about the <a href="js-project-setup.html#执行环境">executing Kotlin/JS and its environment here</a>.</li>
<li>Configuration of webpack's CSS and style loaders from within the Gradle configuration via <code>cssSupport</code>. Read more about <a href="js-project-setup.html#css">using CSS and style loaders here</a>.</li>
<li>Improved management for npm dependencies, with mandatory version numbers or <a href="https://docs.npmjs.com/about-semantic-versioning" target="_blank">semver</a> version ranges, as well as support for <em>development</em>, <em>peer</em>, and <em>optional</em> npm dependencies using <code>devNpm</code>, <code>optionalNpm</code> and <code>peerNpm</code>. <a href="js-project-setup.html#npm-依赖">Read more about dependency management for npm packages directly from Gradle here</a>.</li>
<li>Stronger integrations for <a href="https://github.com/Kotlin/dukat" target="_blank">Dukat</a>, the generator for Kotlin external declarations. External declarations can now be generated at build time, or can be manually generated via a Gradle task.</li>
</ul>
<h3 id="新的-js-ir-后端">新的 JS IR 后端</h3>
<p>The <a href="js-ir-compiler.html">IR backend for Kotlin/JS</a>, which currently has <a href="components-stability.html">Alpha</a> stability, provides some new functionality specific to the Kotlin/JS target which is focused around the generated code size through dead code elimination, and improved interoperation with JavaScript and TypeScript, among others.</p>
<p>To enable the Kotlin/JS IR backend, set the key <code>kotlin.js.compiler=ir</code> in your <code>gradle.properties</code>, or pass the <code>IR</code> compiler type to the <code>js</code> function of your Gradle build script:</p>
<!--suppress ALL -->
<pre><code class="lang-groovy">kotlin {
    js(IR) { <span class="hljs-comment">// or: LEGACY, BOTH</span>
        <span class="hljs-comment">// ...</span>
    }
    binaries.executable()
}
</code></pre>
<p>For more detailed information about how to configure the new backend, check out the <a href="js-ir-compiler.html">Kotlin/JS IR compiler documentation</a>.</p>
<p>With the new <a href="js-to-kotlin-interop.html#jsexport-注解">@JsExport</a> annotation and the ability to <strong><a href="js-ir-compiler.html#预览：typescript-声明文件（dts）的生成">generate TypeScript definitions</a> from Kotlin code</strong>, the Kotlin/JS IR compiler backend improves JavaScript &amp; TypeScript interoperability. This also makes it easier to integrate Kotlin/JS code with existing tooling, to create <strong>hybrid applications</strong> and leverage code-sharing functionality in multiplatform projects.</p>
<p><a href="js-ir-compiler.html">Learn more about the available features in the Kotlin/JS IR compiler backend</a>.</p>
<h2 id="kotlinnative">Kotlin/Native</h2>
<p>In 1.4.0, Kotlin/Native got a significant number of new features and improvements, including: </p>
<ul>
<li><a href="#在-swift-与-objective-c-中支持-kotlin-的挂起函数">在 Swift 与 Objective-C 中支持挂起函数</a></li>
<li><a href="#默认支持-objective-c-泛型">默认支持 Objective-C 泛型</a></li>
<li><a href="#objective-cswift-互操作中的异常处理">Objective-C/Swift 互操作中的异常处理</a></li>
<li><a href="#默认在苹果目标平台生成-release-版-dsym">默认在苹果目标平台生成 release 版 .dSYM</a></li>
<li><a href="#性能提升">性能提升</a></li>
<li><a href="#简化了-cocoapods-依赖项的管理">简化了 CocoaPods 依赖项的管理</a></li>
</ul>
<h3 id="在-swift-与-objective-c-中支持-kotlin-的挂起函数">在 Swift 与 Objective-C 中支持 kotlin 的挂起函数</h3>
<p>In 1.4.0, we add the basic support for suspending functions in Swift and Objective-C. Now, when you compile a Kotlin module
into an Apple framework, suspending functions are available in it as functions with callbacks (<code>completionHandler</code> in 
the Swift/Objective-C terminology). When you have such functions in the generated framework's header, you can call them
from your Swift or Objective-C code and even override them.</p>
<p>For example, if you write this Kotlin function:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">queryData</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: String = ...
</code></pre>
<p>...then you can call it from Swift like so:</p>
<pre><code class="lang-swift">queryData(id: <span class="hljs-number">17</span>) { result, error <span class="hljs-keyword">in</span>
   <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> e <span class="hljs-operator">=</span> error {
       <span class="hljs-built_in">print</span>(<span class="hljs-string">"ERROR: <span class="hljs-subst">\(e)</span>"</span>)
   } <span class="hljs-keyword">else</span> {
       <span class="hljs-built_in">print</span>(result<span class="hljs-operator">!</span>)
   }
}
</code></pre>
<p><a href="native-objc-interop.html">Learn more about using suspending functions in Swift and Objective-C</a>.</p>
<h3 id="默认支持-objective-c-泛型">默认支持 Objective-C 泛型</h3>
<p>Previous versions of Kotlin provided experimental support for generics in Objective-C interop. Since 1.4.0, Kotlin/Native 
generates Apple frameworks with generics from Kotlin code by default. In some cases, this may break existing Objective-C
or Swift code calling Kotlin frameworks. To have the framework header written without generics, add the <code>-Xno-objc-generics</code> compiler option.</p>
<pre><code class="lang-kotlin">kotlin {
    targets.withType&lt;org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget&gt; {
        binaries.all {
            freeCompilerArgs += <span class="hljs-string">"-Xno-objc-generics"</span>
        }
    }
}
</code></pre>
<p>Please note that all specifics and limitations listed in the <a href="native-objc-interop.html#generics">documentation on interoperability with Objective-C</a> are still valid.</p>
<h3 id="objective-cswift-互操作中的异常处理">Objective-C/Swift 互操作中的异常处理</h3>
<p>In 1.4.0, we slightly change the Swift API generated from Kotlin with respect to the way exceptions are translated. There is
a fundamental difference in error handling between Kotlin and Swift. All Kotlin exceptions are unchecked, while Swift has
only checked errors. Thus, to make Swift code aware of expected exceptions, Kotlin functions should be marked with a <code>@Throws</code>
annotation specifying a list of potential exception classes.</p>
<p>When compiling to Swift or the Objective-C framework, functions that have or are inheriting <code>@Throws</code> annotation are represented
as <code>NSError*</code>-producing methods in Objective-C and as <code>throws</code> methods in Swift.</p>
<p>Previously, any exceptions other than <code>RuntimeException</code> and <code>Error</code> were propagated as <code>NSError</code>. Now this behavior changes: 
now <code>NSError</code> is thrown only for exceptions that are instances of classes specified as parameters of <code>@Throws</code> annotation 
(or their subclasses). Other Kotlin exceptions that reach Swift/Objective-C are considered unhandled and cause program termination.</p>
<h3 id="默认在苹果目标平台生成-release-版-dsym">默认在苹果目标平台生成 release 版 .dSYM</h3>
<p>Starting with 1.4.0, the Kotlin/Native compiler produces <a href="https://developer.apple.com/documentation/xcode/building_your_app_to_include_debugging_information" target="_blank">debug symbol files</a>
(<code>.dSYM</code>s) for release binaries on Darwin platforms by default. This can be disabled with the <code>-Xadd-light-debug=disable</code>
compiler option. On other platforms, this option is disabled by default. To toggle this option in Gradle, use:</p>
<pre><code class="lang-kotlin">kotlin {
    targets.withType&lt;org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget&gt; {
        binaries.all {
            freeCompilerArgs += <span class="hljs-string">"-Xadd-light-debug={enable|disable}"</span>
        }
    }
}
</code></pre>
<p><a href="native-ios-symbolication.html">Learn more about crash report symbolication</a>.</p>
<h3 id="性能提升">性能提升</h3>
<p>Kotlin/Native has received a number of performance improvements that speed up both the development process and execution.
Here are some examples:</p>
<ul>
<li><p>To improve the speed of object allocation, we now offer the <a href="https://github.com/microsoft/mimalloc" target="_blank">mimalloc</a>
memory allocator as an alternative to the system allocator. mimalloc works up to two times faster on some benchmarks.
Currently, the usage of mimalloc in Kotlin/Native is experimental; you can switch to it using the <code>-Xallocator=mimalloc</code> compiler option.</p>
</li>
<li><p>We've reworked how C interop libraries are built. With the new tooling, Kotlin/Native produces interop libraries up to
4 times as fast as before, and artifacts are 25% to 30% the size they used to be.</p>
</li>
<li><p>Overall runtime performance has improved because of optimizations in GC. This improvement will be especially apparent
in projects with a large number of long-lived objects. <code>HashMap</code> and <code>HashSet</code> collections now work faster by escaping redundant boxing.</p>
</li>
<li><p>In 1.3.70 we introduced two new features for improving the performance of Kotlin/Native compilation:
<a href="https://blog.jetbrains.com/kotlin/2020/03/kotlin-1-3-70-released/#kotlinnative" target="_blank">caching project dependencies and running the compiler from the Gradle daemon</a>.
Since that time, we've managed to fix numerous issues and improve the overall stability of these features.</p>
</li>
</ul>
<h3 id="简化了-cocoapods-依赖项的管理">简化了 CocoaPods 依赖项的管理</h3>
<p>Previously, once you integrated your project with the dependency manager CocoaPods, you could build an iOS, macOS, watchOS, 
or tvOS part of your project only in Xcode, separate from other parts of your multiplatform project. These other parts could 
be built in IntelliJ IDEA. </p>
<p>Moreover, every time you added a dependency on an Objective-C library stored in CocoaPods (Pod library), you had to switch 
from IntelliJ IDEA to Xcode, call <code>pod install</code>, and run the Xcode build there. </p>
<p>Now you can manage Pod dependencies right in IntelliJ IDEA while enjoying the benefits it provides for working with code, 
such as code highlighting and completion. You can also build the whole Kotlin project with Gradle, without having to 
switch to Xcode. This means you only have to go to Xcode when you need to write Swift/Objective-C code or run your application 
on a simulator or device.</p>
<p>Now you can also work with Pod libraries stored locally.</p>
<p>Depending on your needs, you can add dependencies between:</p>
<ul>
<li>A Kotlin project and Pod libraries stored remotely in the CocoaPods repository or stored locally on your machine.</li>
<li>A Kotlin Pod (Kotlin project used as a CocoaPods dependency) and an Xcode project with one or more targets.</li>
</ul>
<p>Complete the initial configuration, and when you add a new dependency to <code>cocoapods</code>, just re-import the project in IntelliJ IDEA. 
The new dependency will be added automatically. No additional steps are required.</p>
<p><a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-cocoapods-libraries.html" target="_blank">Learn how to add dependencies</a>.</p>
<h2 id="kotlin-多平台">Kotlin 多平台</h2>
<blockquote>
<p>Support for multiplatform projects is in <a href="components-stability.html">Alpha</a>. It may change incompatibly and require manual migration in the future.
We appreciate your feedback on it in <a href="https://youtrack.jetbrains.com/issues/KT" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p><a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/get-started.html" target="_blank">Kotlin 多平台</a> reduces time spent writing and maintaining the same code for <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-dsl-reference.html#目标" target="_blank">different platforms</a> 
while retaining the flexibility and benefits of native programming. We continue investing our effort in multiplatform features
and improvements:</p>
<ul>
<li><a href="#使用分层项目结构在多个目标中共享代码">使用分层项目结构在多个目标中共享代码</a></li>
<li><a href="#在分层结构中利用原生库">在分层结构中利用原生库</a></li>
<li><a href="#只需指定一次依赖项">只需指定一次 kotlinx 依赖项</a></li>
</ul>
<blockquote>
<p>Multiplatform projects require Gradle 6.0 or later.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h3 id="使用分层项目结构在多个目标中共享代码">使用分层项目结构在多个目标中共享代码</h3>
<p>With the new hierarchical project structure support, you can share code among <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-dsl-reference.html#目标" target="_blank">several platforms</a>
 in a <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-discover-project.html" target="_blank">multiplatform project</a>.</p>
<p>Previously, any code added to a multiplatform project could be placed either in a platform-specific source set, which is 
limited to one target and can't be reused by any other platform, or in a common source set, like <code>commonMain</code> or <code>commonTest</code>, 
which is shared across all the platforms in the project. In the common source set, you could only call a platform-specific 
API by using an <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-expect-actual.html" target="_blank"><code>expect</code> declaration that needs platform-specific <code>actual</code> implementations</a>.</p>
<p>This made it easy to <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-share-on-platforms.html#对所有平台共享代码" target="_blank">share code on all platforms</a>, but it was
not so easy to <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-share-on-platforms.html#对相似平台共享代码" target="_blank">share between only some of the targets</a>, 
especially similar ones that could potentially reuse a lot of the common logic and third-party APIs.</p>
<p>For example, in a typical multiplatform project targeting iOS, there are two iOS-related targets: one for iOS ARM64 devices, 
and the other for the x64 simulator. They have separate platform-specific source sets, but in practice, there is rarely 
a need for different code for the device and simulator, and their dependencies are much alike. So iOS-specific code could 
be shared between them.</p>
<p>Apparently, in this setup, it would be desirable to have a <em>shared source set for two iOS targets</em>, with Kotlin/Native 
code that could still directly call any of the APIs that are common to both the iOS device and the simulator.</p>
<p><img src="../images/iosmain-hierarchy.png" alt="Code shared for iOS targets"></img></p>
<p>Now you can do this with the <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-share-on-platforms.html#对相似平台共享代码" target="_blank">hierarchical project structure support</a>, which infers and adapts the API and language features 
available in each source set based on which targets consume them.</p>
<p>For common combinations of targets, you can create a hierarchical structure with target shortcuts.
For example, create two iOS targets and the shared source set shown above with the <code>ios()</code> shortcut:</p>
<pre><code class="lang-kotlin">kotlin {
    ios() <span class="hljs-comment">// iOS device and simulator targets; iosMain and iosTest source sets</span>
}
</code></pre>
<p>For other combinations of targets, <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-hierarchy.html#manual-configuration" target="_blank">create a hierarchy manually</a>
by connecting the source sets with the <code>dependsOn</code> relation.</p>
<p><img src="../images/manual-hierarchical-structure.svg" alt="Hierarchical structure"></img></p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">kotlin{
    sourceSets {
        <span class="hljs-keyword">val</span> desktopMain <span class="hljs-keyword">by</span> creating {
            dependsOn(commonMain)
        }
        <span class="hljs-keyword">val</span> linuxX64Main <span class="hljs-keyword">by</span> getting {
            dependsOn(desktopMain)
        }
        <span class="hljs-keyword">val</span> mingwX64Main <span class="hljs-keyword">by</span> getting {
            dependsOn(desktopMain)
        }
        <span class="hljs-keyword">val</span> macosX64Main <span class="hljs-keyword">by</span> getting {
            dependsOn(desktopMain)
        }
    }
}
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">kotlin {
    sourceSets {
        desktopMain {
            dependsOn(commonMain)
        }
        linuxX64Main {
            dependsOn(desktopMain)
        }
        mingwX64Main {
            dependsOn(desktopMain)
        }
        macosX64Main {
            dependsOn(desktopMain)
        }
    }
}
</code></pre>
<hr></hr>
<p>Thanks to the hierarchical project structure, libraries can also provide common APIs for a subset of targets. Learn more
about <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-share-on-platforms.html#在库中共享代码" target="_blank">sharing code in libraries</a>.</p>
<h3 id="在分层结构中利用原生库">在分层结构中利用原生库</h3>
<p>You can use platform-dependent libraries, such as Foundation, UIKit, and POSIX, in source sets shared among several 
native targets. This can help you share more native code without being limited by platform-specific dependencies. </p>
<p>No additional steps are required – everything is done automatically. IntelliJ IDEA will help you detect common declarations 
that you can use in the shared code.</p>
<p><a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-share-on-platforms.html#connect-platform-specific-libraries" target="_blank">Learn more about usage of platform-dependent libraries</a>.</p>
<h3 id="只需指定一次依赖项">只需指定一次依赖项</h3>
<p>From now on, instead of specifying dependencies on different variants of the same library in shared and platform-specific 
source sets where it is used, you should specify a dependency only once in the shared source set.</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">kotlin {
    sourceSets {
        <span class="hljs-keyword">val</span> commonMain <span class="hljs-keyword">by</span> getting {
            dependencies {
                implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2"</span>)
            }
        }
    }
}
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">kotlin {
    sourceSets {
        commonMain {
            dependencies {
                implementation <span class="hljs-string">'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2'</span>
            }
        }
    }
}
</code></pre>
<hr></hr>
<p>Don't use kotlinx library artifact names with suffixes specifying the platform, such as  <code>-common</code>, <code>-native</code>, or similar, 
as they are NOT supported anymore. Instead, use the library base artifact name, which in the example above is <code>kotlinx-coroutines-core</code>. </p>
<p>However, the change doesn't currently affect:</p>
<ul>
<li>The <code>stdlib</code> library – starting from Kotlin 1.4.0, <a href="#默认添加了对标准库的依赖">the stdlib dependency is added automatically</a>.</li>
<li>The <code>kotlin.test</code> library – you should still use <code>test-common</code> and <code>test-annotations-common</code>. These dependencies will be
addressed later.</li>
</ul>
<p>If you need a dependency only for a specific platform, you can still use platform-specific variants of standard and kotlinx 
libraries with such suffixes as <code>-jvm</code> or<code>-js</code>, for example <code>kotlinx-coroutines-core-jvm</code>. </p>
<p><a href="gradle-configure-project.html#configure-dependencies">Learn more about configuring dependencies</a>.</p>
<h2 id="gradle-项目改进">Gradle 项目改进</h2>
<p>Besides Gradle project features and improvements that are specific to <a href="#kotlin-多平台">Kotlin 多平台</a>, <a href="#kotlinjvm">Kotlin/JVM</a>, 
<a href="#kotlinnative">Kotlin/Native</a>, and <a href="#kotlinjs">Kotlin/JS</a>, there are several changes applicable to all Kotlin Gradle projects:</p>
<ul>
<li><a href="#默认添加了对标准库的依赖">现在默认添加了对标准库的依赖</a></li>
<li><a href="#kotlin-项目的最低-gradle-版本">Kotlin 项目需要最近版本的 Gradle</a></li>
<li><a href="#改进了-ide-对-gradlekts-的支持">改进了 IDE 对 Kotlin Gradle DSL 的支持</a></li>
</ul>
<h3 id="默认添加了对标准库的依赖">默认添加了对标准库的依赖</h3>
<p>You no longer need to declare a dependency on the <code>stdlib</code> library in any Kotlin Gradle project, including a multiplatform one.
The dependency is added by default. </p>
<p>The automatically added standard library will be the same version of the Kotlin Gradle plugin, 
since they have the same versioning.</p>
<p>For platform-specific source sets, the corresponding platform-specific variant of the library is used, while a common standard 
library is added to the rest. The Kotlin Gradle plugin will select the appropriate JVM standard library depending on 
the <code>kotlinOptions.jvmTarget</code> <a href="gradle-compiler-options.html">compiler option</a> of your Gradle build script.</p>
<p><a href="gradle-configure-project.html#对标准库的依赖">Learn how to change the default behavior</a>.</p>
<h3 id="kotlin-项目的最低-gradle-版本">Kotlin 项目的最低 Gradle 版本</h3>
<p>To enjoy the new features in your Kotlin projects, update Gradle to the <a href="https://gradle.org/releases/" target="_blank">latest version</a>. 
Multiplatform projects require Gradle 6.0 or later, while other Kotlin projects work with Gradle 5.4 or later.</p>
<h3 id="改进了-ide-对-gradlekts-的支持">改进了 IDE 对 *.gradle.kts 的支持</h3>
<p>In 1.4.0, we continued improving the IDE support for Gradle Kotlin DSL scripts (<code>*.gradle.kts</code> files). Here is what the new
version brings:</p>
<ul>
<li><p><em>Explicit loading of script configurations</em> for better performance. Previously, the changes you make to the build script
were loaded automatically in the background. To improve the performance, we've disabled the automatic loading of build script
configuration in 1.4.0. Now the IDE loads the changes only when you explicitly apply them.</p>
<p>In Gradle versions earlier than 6.0, you need to manually load the script configuration by clicking <strong>Load Configuration</strong> in the editor.</p>
<p><img src="../images/gradle-kts-load-config.png" alt="*.gradle.kts – Load Configuration"></img></p>
<p>In Gradle 6.0 and above, you can explicitly apply changes by clicking <strong>Load Gradle Changes</strong> or by reimporting the
Gradle project.</p>
<p>We've added one more action in IntelliJ IDEA 2020.1 with Gradle 6.0 and above – <strong>Load Script Configurations</strong>, which loads changes
to the script configurations without updating the whole project. This takes much less time than reimporting the whole project.</p>
<p><img src="../images/gradle-kts.png" alt="*.gradle.kts – Load Script Changes and Load Gradle Changes"></img></p>
<p>You should also <strong>Load Script Configurations</strong> for newly created scripts or when you open a project with new Kotlin plugin for the first time.</p>
<p>With Gradle 6.0 and above, you are now able to load all scripts at once as opposed to the previous implementation where
they were loaded individually. Since each request requires the Gradle configuration phase to be executed, this could be
resource-intensive for large Gradle projects. </p>
<p>Currently, such loading is limited to <code>build.gradle.kts</code> and <code>settings.gradle.kts</code> files (please vote for the related <a href="https://github.com/gradle/gradle/issues/12640" target="_blank">issue</a>).
To enable highlighting for <code>init.gradle.kts</code> or applied <a href="https://docs.gradle.org/current/userguide/plugins.html#sec:script_plugins" target="_blank">script plugins</a>,
use the old mechanism – adding them to standalone scripts. Configuration for that scripts will be loaded separately when you need it.
You can also enable auto-reload for such scripts.</p>
<p><img src="../images/gradle-kts-standalone.png" alt="*.gradle.kts – Add to standalone scripts"></img></p>
</li>
<li><p><em>Better error reporting</em>. Previously you could only see errors from the Gradle Daemon in separate log files. Now the
Gradle Daemon returns all the information about errors directly and shows it in the Build tool window. This saves you both
time and effort.</p>
</li>
</ul>
<h2 id="标准库">标准库</h2>
<p>Here is the list of the most significant changes to the Kotlin standard library in 1.4.0: </p>
<ul>
<li><a href="#公共异常处理-api">公共异常处理 API</a></li>
<li><a href="#数组与集合的新函数">数组与集合的新函数</a></li>
<li><a href="#一些字符串操作函数">一些字符串操作函数</a></li>
<li><a href="#一些位操作">一些位操作</a></li>
<li><a href="#属性委托改进">属性委托改进</a></li>
<li><a href="#由-ktype-转换为-java-type">由 KType 转换为 Java Type</a></li>
<li><a href="#kotlin-反射的-proguard-配置">Kotlin 反射的 Proguard 配置</a></li>
<li><a href="#现有-api-改进">现有 API 改进</a></li>
<li><a href="#stdlib-构件的-module-info-描述符">stdlib 构件的 module-info 描述符</a></li>
<li><a href="#弃用项">弃用项</a></li>
<li><a href="#排除弃用的实验性协程">排除弃用的实验性协程</a></li>
</ul>
<h3 id="公共异常处理-api">公共异常处理 API</h3>
<p>The following API elements have been moved to the common library:</p>
<ul>
<li><code>Throwable.stackTraceToString()</code> extension function, which returns the detailed description of this throwable with its
stack trace, and <code>Throwable.printStackTrace()</code>, which prints this description to the standard error output.</li>
<li><code>Throwable.addSuppressed()</code> function, which lets you specify the exceptions that were suppressed in order to deliver
the exception, and the <code>Throwable.suppressedExceptions</code> property, which returns a list of all the suppressed exceptions.</li>
<li><code>@Throws</code> annotation, which lists exception types that will be checked when the function is compiled to a platform method
(on JVM or native platforms). </li>
</ul>
<h3 id="数组与集合的新函数">数组与集合的新函数</h3>
<h4 id="集合">集合</h4>
<p>In 1.4.0, the standard library includes a number of useful functions for working with <strong>collections</strong>:</p>
<ul>
<li><p><code>setOfNotNull()</code>, which makes a set consisting of all the non-null items among the provided arguments.</p>
<pre><code class="lang-kotlin">  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">//sampleStart</span>
      <span class="hljs-keyword">val</span> <span class="hljs-keyword">set</span> = setOfNotNull(<span class="hljs-literal">null</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>)
      println(<span class="hljs-keyword">set</span>)
  <span class="hljs-comment">//sampleEnd</span>
  }
</code></pre>
</li>
</ul>
<ul>
<li><p><code>shuffled()</code> for sequences.</p>
<pre><code class="lang-kotlin">  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">//sampleStart</span>
      <span class="hljs-keyword">val</span> numbers = (<span class="hljs-number">0</span> until <span class="hljs-number">50</span>).asSequence()
      <span class="hljs-keyword">val</span> result = numbers.map { it * <span class="hljs-number">2</span> }.shuffled().take(<span class="hljs-number">5</span>)
      println(result.toList()) <span class="hljs-comment">//five random even numbers below 100</span>
  <span class="hljs-comment">//sampleEnd</span>
  }
</code></pre>
</li>
</ul>
<ul>
<li><p><code>*Indexed()</code> counterparts for <code>onEach()</code> and <code>flatMap()</code>.
The operation that they apply to the collection elements has the element index as a parameter.</p>
<pre><code class="lang-kotlin">  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">//sampleStart</span>
      listOf(<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>, <span class="hljs-string">"d"</span>).onEachIndexed {
          index, item -&gt; println(index.toString() + <span class="hljs-string">":"</span> + item)
      }

     <span class="hljs-keyword">val</span> list = listOf(<span class="hljs-string">"hello"</span>, <span class="hljs-string">"kot"</span>, <span class="hljs-string">"lin"</span>, <span class="hljs-string">"world"</span>)
            <span class="hljs-keyword">val</span> kotlin = list.flatMapIndexed { index, item -&gt;
                <span class="hljs-keyword">if</span> (index <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.2</span>) item.toList() <span class="hljs-keyword">else</span> emptyList() 
            }
  <span class="hljs-comment">//sampleEnd</span>
            println(kotlin)
  }
</code></pre>
</li>
</ul>
<ul>
<li><p><code>*OrNull()</code> counterparts <code>randomOrNull()</code>, <code>reduceOrNull()</code>, and <code>reduceIndexedOrNull()</code>. 
They return <code>null</code> on empty collections.</p>
<pre><code class="lang-kotlin">  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">//sampleStart</span>
       <span class="hljs-keyword">val</span> empty = emptyList&lt;<span class="hljs-built_in">Int</span>&gt;()
       empty.reduceOrNull { a, b -&gt; a + b }
       <span class="hljs-comment">//empty.reduce { a, b -&gt; a + b } // Exception: Empty collection can't be reduced.</span>
  <span class="hljs-comment">//sampleEnd</span>
  }
</code></pre>
</li>
</ul>
<ul>
<li><p><code>runningFold()</code>, its synonym <code>scan()</code>, and <code>runningReduce()</code> apply the given operation to the collection elements sequentially,
similarly to<code>fold()</code> and <code>reduce()</code>; the difference is that these new functions return the whole sequence of intermediate results.</p>
<pre><code class="lang-kotlin">  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">//sampleStart</span>
      <span class="hljs-keyword">val</span> numbers = mutableListOf(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)
      <span class="hljs-keyword">val</span> runningReduceSum = numbers.runningReduce { sum, item -&gt; sum + item }
      <span class="hljs-keyword">val</span> runningFoldSum = numbers.runningFold(<span class="hljs-number">10</span>) { sum, item -&gt; sum + item }
  <span class="hljs-comment">//sampleEnd</span>
      println(runningReduceSum.toString())
      println(runningFoldSum.toString())
  }
</code></pre>
</li>
</ul>
<ul>
<li><p><code>sumOf()</code> takes a selector function and returns a sum of its values for all elements of a collection.
<code>sumOf()</code> can produce sums of the types <code>Int</code>, <code>Long</code>, <code>Double</code>, <code>UInt</code>, and <code>ULong</code>. On the JVM, <code>BigInteger</code> and <code>BigDecimal</code> are also available.</p>
<pre><code class="lang-kotlin">  <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderItem</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> price: <span class="hljs-built_in">Double</span>, <span class="hljs-keyword">val</span> count: <span class="hljs-built_in">Int</span>)

  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">//sampleStart</span>
      <span class="hljs-keyword">val</span> order = listOf&lt;OrderItem&gt;(
          OrderItem(<span class="hljs-string">"Cake"</span>, price = <span class="hljs-number">10.0</span>, count = <span class="hljs-number">1</span>),
          OrderItem(<span class="hljs-string">"Coffee"</span>, price = <span class="hljs-number">2.5</span>, count = <span class="hljs-number">3</span>),
          OrderItem(<span class="hljs-string">"Tea"</span>, price = <span class="hljs-number">1.5</span>, count = <span class="hljs-number">2</span>))

      <span class="hljs-keyword">val</span> total = order.sumOf { it.price * it.count } <span class="hljs-comment">// Double</span>
      <span class="hljs-keyword">val</span> count = order.sumOf { it.count } <span class="hljs-comment">// Int</span>
  <span class="hljs-comment">//sampleEnd</span>
      println(<span class="hljs-string">"You've ordered <span class="hljs-variable">$count</span> items that cost <span class="hljs-variable">$total</span> in total"</span>)
  }
</code></pre>
</li>
</ul>
<ul>
<li>The <code>min()</code> and <code>max()</code> functions have been renamed to <code>minOrNull()</code> and <code>maxOrNull()</code> to comply with the naming
convention used across the Kotlin collections API. An <code>*OrNull</code> suffix in the function name means that it returns <code>null</code>
if the receiver collection is empty. The same applies to <code>minBy()</code>, <code>maxBy()</code>, <code>minWith()</code>, <code>maxWith()</code> – in 1.4, 
they have <code>*OrNull()</code> synonyms.</li>
<li><p>The new <code>minOf()</code> and <code>maxOf()</code> extension functions return the minimum and the maximum value of the given selector function
on the collection items.</p>
<pre><code class="lang-kotlin">  <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderItem</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> price: <span class="hljs-built_in">Double</span>, <span class="hljs-keyword">val</span> count: <span class="hljs-built_in">Int</span>)

  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">//sampleStart</span>
      <span class="hljs-keyword">val</span> order = listOf&lt;OrderItem&gt;(
          OrderItem(<span class="hljs-string">"Cake"</span>, price = <span class="hljs-number">10.0</span>, count = <span class="hljs-number">1</span>),
          OrderItem(<span class="hljs-string">"Coffee"</span>, price = <span class="hljs-number">2.5</span>, count = <span class="hljs-number">3</span>),
          OrderItem(<span class="hljs-string">"Tea"</span>, price = <span class="hljs-number">1.5</span>, count = <span class="hljs-number">2</span>))
      <span class="hljs-keyword">val</span> highestPrice = order.maxOf { it.price }
  <span class="hljs-comment">//sampleEnd</span>
      println(<span class="hljs-string">"The most expensive item in the order costs <span class="hljs-variable">$highestPrice</span>"</span>)
  }
</code></pre>
</li>
</ul>
<pre><code>There are also `minOfWith()` and `maxOfWith()`, which take a `Comparator` as an argument, and `*OrNull()` versions
</code></pre><p>of all four functions that return <code>null</code> on empty collections.</p>
<ul>
<li><p>New overloads for <code>flatMap</code> and <code>flatMapTo</code> let you use transformations with return types that don't match the receiver type, namely:</p>
<ul>
<li>Transformations to <code>Sequence</code> on <code>Iterable</code>, <code>Array</code>, and <code>Map</code></li>
<li><p>Transformations to <code>Iterable</code> on <code>Sequence</code></p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
<span class="hljs-comment">//sampleStart</span>
  <span class="hljs-keyword">val</span> list = listOf(<span class="hljs-string">"kot"</span>, <span class="hljs-string">"lin"</span>)
  <span class="hljs-keyword">val</span> lettersList = list.flatMap { it.asSequence() }
  <span class="hljs-keyword">val</span> lettersSeq = list.asSequence().flatMap { it.toList() }    
<span class="hljs-comment">//sampleEnd</span>
  println(lettersList)
  println(lettersSeq.toList())
}
</code></pre>
</li>
</ul>
</li>
</ul>
<ul>
<li><code>removeFirst()</code> and <code>removeLast()</code> shortcuts for removing elements from mutable lists, and <code>*orNull()</code> counterparts
of these functions.</li>
</ul>
<h4 id="数组">数组</h4>
<p>To provide a consistent experience when working with different container types, we've also added new functions for <strong>arrays</strong>:</p>
<ul>
<li><code>shuffle()</code> puts the array elements in a random order.</li>
<li><code>onEach()</code> performs the given action on each array element and returns the array itself.</li>
<li><code>associateWith()</code> and <code>associateWithTo()</code> build maps with the array elements as keys.</li>
<li><code>reverse()</code> for array subranges reverses the order of the elements in the subrange.</li>
<li><code>sortDescending()</code> for array subranges sorts the elements in the subrange in descending order.</li>
<li><code>sort()</code> and <code>sortWith()</code> for array subranges are now available in the common library.</li>
</ul>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
<span class="hljs-comment">//sampleStart</span>
    <span class="hljs-keyword">var</span> language = <span class="hljs-string">""</span>
    <span class="hljs-keyword">val</span> letters = arrayOf(<span class="hljs-string">"k"</span>, <span class="hljs-string">"o"</span>, <span class="hljs-string">"t"</span>, <span class="hljs-string">"l"</span>, <span class="hljs-string">"i"</span>, <span class="hljs-string">"n"</span>)
    <span class="hljs-keyword">val</span> fileExt = letters.onEach { language += it }
       .filterNot { it <span class="hljs-keyword">in</span> <span class="hljs-string">"aeuio"</span> }.take(<span class="hljs-number">2</span>)
       .joinToString(prefix = <span class="hljs-string">"."</span>, separator = <span class="hljs-string">""</span>)
    println(language) <span class="hljs-comment">// "kotlin"</span>
    println(fileExt) <span class="hljs-comment">// ".kt"</span>

    letters.shuffle()
    letters.reverse(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)
    letters.sortDescending(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>)
    println(letters.contentToString()) <span class="hljs-comment">// [k, o, t, l, i, n]</span>
<span class="hljs-comment">//sampleEnd</span>
}
</code></pre>
<p>Additionally, there are new functions for conversions between <code>CharArray</code>/<code>ByteArray</code> and <code>String</code>:</p>
<ul>
<li><code>ByteArray.decodeToString()</code> and <code>String.encodeToByteArray()</code></li>
<li><code>CharArray.concatToString()</code> and <code>String.toCharArray()</code></li>
</ul>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
<span class="hljs-comment">//sampleStart</span>
    <span class="hljs-keyword">val</span> str = <span class="hljs-string">"kotlin"</span>
    <span class="hljs-keyword">val</span> array = str.toCharArray()
    println(array.concatToString())
<span class="hljs-comment">//sampleEnd</span>
}
</code></pre>
<h4 id="arraydeque">ArrayDeque</h4>
<p>We've also added the <code>ArrayDeque</code> class – an implementation of a double-ended queue.
A double-ended queue lets you add or remove elements both at the beginning or end of the queue in an amortized
constant time. You can use a double-ended queue by default when you need a queue or a stack in your code.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> deque = ArrayDeque(listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))

    deque.addFirst(<span class="hljs-number">0</span>)
    deque.addLast(<span class="hljs-number">4</span>)
    println(deque) <span class="hljs-comment">// [0, 1, 2, 3, 4]</span>

    println(deque.first()) <span class="hljs-comment">// 0</span>
    println(deque.last()) <span class="hljs-comment">// 4</span>

    deque.removeFirst()
    deque.removeLast()
    println(deque) <span class="hljs-comment">// [1, 2, 3]</span>
}
</code></pre>
<p>The <code>ArrayDeque</code> implementation uses a resizable array underneath: it stores the contents in a circular buffer, an <code>Array</code>,
and resizes this <code>Array</code> only when it becomes full.</p>
<h3 id="一些字符串操作函数">一些字符串操作函数</h3>
<p>The standard library in 1.4.0 includes a number of improvements in the API for string manipulation:</p>
<ul>
<li><p><code>StringBuilder</code> has useful new extension functions: <code>set()</code>, <code>setRange()</code>, <code>deleteAt()</code>, <code>deleteRange()</code>, <code>appendRange()</code>,
and others.</p>
<pre><code class="lang-kotlin">      <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
      <span class="hljs-comment">//sampleStart</span>
          <span class="hljs-keyword">val</span> sb = StringBuilder(<span class="hljs-string">"Bye Kotlin 1.3.72"</span>)
          sb.deleteRange(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)
          sb.insertRange(<span class="hljs-number">0</span>, <span class="hljs-string">"Hello"</span>, <span class="hljs-number">0</span> ,<span class="hljs-number">5</span>)
          sb.<span class="hljs-keyword">set</span>(<span class="hljs-number">15</span>, <span class="hljs-string">'4'</span>)
          sb.setRange(<span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-string">"0"</span>)
          print(sb.toString())
      <span class="hljs-comment">//sampleEnd</span>
      }
</code></pre>
</li>
</ul>
<ul>
<li>Some existing functions of <code>StringBuilder</code> are available in the common library. Among them are <code>append()</code>, <code>insert()</code>,
<code>substring()</code>, <code>setLength()</code>, and more. </li>
<li><p>New functions <code>Appendable.appendLine()</code> and <code>StringBuilder.appendLine()</code> have been added to the common library. They
replace the JVM-only <code>appendln()</code> functions of these classes.</p>
<pre><code class="lang-kotlin">  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">//sampleStart</span>
      println(buildString {
          appendLine(<span class="hljs-string">"Hello,"</span>)
          appendLine(<span class="hljs-string">"world"</span>)
      })
  <span class="hljs-comment">//sampleEnd</span>
  }
</code></pre>
</li>
</ul>
<h3 id="一些位操作">一些位操作</h3>
<p>New functions for bit manipulations:</p>
<ul>
<li><code>countOneBits()</code> </li>
<li><code>countLeadingZeroBits()</code></li>
<li><code>countTrailingZeroBits()</code></li>
<li><code>takeHighestOneBit()</code></li>
<li><code>takeLowestOneBit()</code> </li>
<li><code>rotateLeft()</code> and <code>rotateRight()</code> (experimental)</li>
</ul>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
<span class="hljs-comment">//sampleStart</span>
    <span class="hljs-keyword">val</span> number = <span class="hljs-string">"1010000"</span>.toInt(radix = <span class="hljs-number">2</span>)
    println(number.countOneBits())
    println(number.countTrailingZeroBits())
    println(number.takeHighestOneBit().toString(<span class="hljs-number">2</span>))
<span class="hljs-comment">//sampleEnd</span>
}
</code></pre>
<h3 id="属性委托改进">属性委托改进</h3>
<p>In 1.4.0, we have added new features to improve your experience with delegated properties in Kotlin:</p>
<ul>
<li>Now a property can be delegated to another property.</li>
<li>A new interface <code>PropertyDelegateProvider</code> helps create delegate providers in a single declaration.</li>
<li><code>ReadWriteProperty</code> now extends <code>ReadOnlyProperty</code> so you can use both of them for read-only properties.</li>
</ul>
<p>Aside from the new API, we've made some optimizations that reduce the resulting bytecode size. These optimizations are
described in <a href="https://blog.jetbrains.com/kotlin/2019/12/what-to-expect-in-kotlin-1-4-and-beyond/#delegated-properties" target="_blank">this blog post</a>. </p>
<p><a href="delegated-properties.html">Learn more about delegated properties</a>.</p>
<h3 id="由-ktype-转换为-java-type">由 KType 转换为 Java Type</h3>
<p>A new extension property <code>KType.javaType</code> (currently experimental) in the stdlib helps you obtain a <code>java.lang.reflect.Type</code>
from a Kotlin type without using the whole <code>kotlin-reflect</code> dependency.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> kotlin.reflect.javaType
<span class="hljs-keyword">import</span> kotlin.reflect.typeOf

<span class="hljs-meta">@OptIn(ExperimentalStdlibApi::class)</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;<span class="hljs-keyword">reified</span> T&gt;</span> <span class="hljs-title">accessReifiedTypeArg</span><span class="hljs-params">()</span></span> {
   <span class="hljs-keyword">val</span> kType = typeOf&lt;T&gt;()
   println(<span class="hljs-string">"Kotlin type: <span class="hljs-variable">$kType</span>"</span>)
   println(<span class="hljs-string">"Java type: <span class="hljs-subst">${kType.javaType}</span>"</span>)
}

<span class="hljs-meta">@OptIn(ExperimentalStdlibApi::class)</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
   accessReifiedTypeArg&lt;String&gt;()
   <span class="hljs-comment">// Kotlin type: kotlin.String</span>
   <span class="hljs-comment">// Java type: class java.lang.String</span>

   accessReifiedTypeArg&lt;List&lt;String&gt;&gt;()
   <span class="hljs-comment">// Kotlin type: kotlin.collections.List&lt;kotlin.String&gt;</span>
   <span class="hljs-comment">// Java type: java.util.List&lt;java.lang.String&gt;</span>
}
</code></pre>
<h3 id="kotlin-反射的-proguard-配置">Kotlin 反射的 Proguard 配置</h3>
<p>Starting from 1.4.0, we have embedded Proguard/R8 configurations for Kotlin Reflection in <code>kotlin-reflect.jar</code>. With this
in place, most Android projects using R8 or Proguard should work with kotlin-reflect without needing any additional configuration.
You no longer need to copy-paste the Proguard rules for kotlin-reflect internals. But note that you still need to explicitly 
list all the APIs you're going to reflect on.</p>
<h3 id="现有-api-改进">现有 API 改进</h3>
<ul>
<li><p>Several functions now work on null receivers, for example:</p>
<ul>
<li><code>toBoolean()</code> on strings</li>
<li><code>contentEquals()</code>, <code>contentHashcode()</code>, <code>contentToString()</code> on arrays</li>
</ul>
</li>
<li><p><code>NaN</code>, <code>NEGATIVE_INFINITY</code>, and <code>POSITIVE_INFINITY</code> in <code>Double</code> and <code>Float</code> are now defined as <code>const</code>, so you can use
them as annotation arguments.</p>
</li>
<li><p>New constants <code>SIZE_BITS</code> and <code>SIZE_BYTES</code> in <code>Double</code> and <code>Float</code> contain the number of bits and bytes used
to represent an instance of the type in binary form.</p>
</li>
<li><p>The <code>maxOf()</code> and <code>minOf()</code> top-level functions can accept a variable number of arguments (<code>vararg</code>).</p>
</li>
</ul>
<h3 id="stdlib-构件的-module-info-描述符">stdlib 构件的 module-info 描述符</h3>
<p>Kotlin 1.4.0 adds <code>module-info.java</code> module information to default standard library artifacts. This lets you use them with 
<a href="https://docs.oracle.com/en/java/javase/11/tools/jlink.html" target="_blank">jlink tool</a>, which generates custom Java runtime images
containing only the platform modules that are required for your app.
You could already use jlink with Kotlin standard library artifacts, but you had to use separate artifacts to do so – the
ones with the "modular" classifier – and the whole setup wasn't straightforward.<br></br>In Android, make sure you use the Android Gradle plugin version 3.2 or higher, which can correctly process jar files with module-info.</p>
<h3 id="弃用项">弃用项</h3>
<h4 id="double-与-float-的-toshort-与-tobyte">Double 与 Float 的 toShort() 与 toByte()</h4>
<p>We've deprecated the functions <code>toShort()</code> and <code>toByte()</code> on <code>Double</code> and <code>Float</code> because they could lead to unexpected results
because of the narrow value range and smaller variable size.</p>
<p>To convert floating-point numbers to <code>Byte</code> or <code>Short</code>, use the two-step conversion: first, convert them to <code>Int</code>, and then 
convert them again to the target type.</p>
<h4 id="浮点数组的-contains、-indexof-与-lastindexof">浮点数组的 contains()、 indexOf() 与 lastIndexOf()</h4>
<p>We've deprecated the <code>contains()</code>, <code>indexOf()</code>, and <code>lastIndexOf()</code> extension functions of <code>FloatArray</code> and <code>DoubleArray</code>
because they use the <a href="https://en.wikipedia.org/wiki/IEEE_754" target="_blank">IEEE 754</a> standard equality, which contradicts the total
order equality in some corner cases. See <a href="https://youtrack.jetbrains.com/issue/KT-28753" target="_blank">this issue</a> for details.</p>
<h4 id="min-与-max-集合函数">min() 与 max() 集合函数</h4>
<p>We've deprecated the <code>min()</code> and <code>max()</code> collection functions in favor of <code>minOrNull()</code> and <code>maxOrNull()</code>, which more
properly reflect their behavior – returning <code>null</code> on empty collections.
See <a href="https://youtrack.jetbrains.com/issue/KT-38854" target="_blank">this issue</a> for details. </p>
<h3 id="排除弃用的实验性协程">排除弃用的实验性协程</h3>
<p>The <code>kotlin.coroutines.experimental</code> API was deprecated in favor of kotlin.coroutines in 1.3.0. In 1.4.0, we're completing
the deprecation cycle for <code>kotlin.coroutines.experimental</code> by removing it from the standard library. For those who still
use it on the JVM, we've provided a compatibility artifact <code>kotlin-coroutines-experimental-compat.jar</code> with all the experimental
coroutines APIs. We've published it to Maven, and we include it in the Kotlin distribution alongside the standard library.</p>
<h2 id="稳定版-json-序列化">稳定版 JSON 序列化</h2>
<p>With Kotlin 1.4.0, we are shipping the first stable version of <a href="https://github.com/Kotlin/kotlinx.serialization" target="_blank">kotlinx.serialization</a> -
1.0.0-RC. Now we are pleased to declare the JSON serialization API in <code>kotlinx-serialization-core</code> (previously known as <code>kotlinx-serialization-runtime</code>)
stable. Libraries for other serialization formats remain experimental, along with some advanced parts of the core library.</p>
<p>We have significantly reworked the API for JSON serialization to make it more consistent and easier to use. From now on,
we'll continue developing the JSON serialization API in a backward-compatible manner.
However, if you have used previous versions of it, you'll need to rewrite some of your code when migrating to 1.0.0-RC.
To help you with this, we also offer the <strong><a href="https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/serialization-guide.md" target="_blank">Kotlin Serialization Guide</a></strong> –
the complete set of documentation for <code>kotlinx.serialization</code>. It will guide you through the process of using the most
important features and it can help you address any issues that you might face.</p>
<blockquote>
<p><strong>Note</strong>: <code>kotlinx-serialization</code> 1.0.0-RC only works with Kotlin compiler 1.4. Earlier compiler versions are not compatible.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h2 id="脚本与-repl">脚本与 REPL</h2>
<p>In 1.4.0, scripting in Kotlin benefits from a number of functional and performance improvements along with other updates.
Here are some of the key changes:</p>
<ul>
<li><a href="#新的依赖项解析-api">新的依赖项解析 API</a></li>
<li><a href="#新的-repl-api">新的 REPL API</a></li>
<li><a href="#已编译脚本缓存">已编译脚本缓存</a></li>
<li><a href="#构件重命名">构件重命名</a></li>
</ul>
<p>To help you become more familiar with scripting in Kotlin, we've prepared a <a href="https://github.com/Kotlin/kotlin-script-examples" target="_blank">project with examples</a>.
It contains examples of the standard scripts (<code>*.main.kts</code>) and examples of uses of the Kotlin Scripting API and custom
script definitions. Please give it a try and share your feedback using our <a href="https://youtrack.jetbrains.com/issues/KT" target="_blank">issue tracker</a>.</p>
<h3 id="新的依赖项解析-api">新的依赖项解析 API</h3>
<p>In 1.4.0, we've introduced a new API for resolving external dependencies (such as Maven artifacts), along with implementations
for it. This API is published in the new artifacts <code>kotlin-scripting-dependencies</code> and <code>kotlin-scripting-dependencies-maven</code>.
The previous dependency resolution functionality in <code>kotlin-script-util</code> library is now deprecated.</p>
<h3 id="新的-repl-api">新的 REPL API</h3>
<p>The new experimental REPL API is now a part of the Kotlin Scripting API. There are also several implementations of it in
the published artifacts, and some have advanced functionality, such as code completion. We use this API in the 
<a href="https://blog.jetbrains.com/kotlin/2020/05/kotlin-kernel-for-jupyter-notebook-v0-8/" target="_blank">Kotlin Jupyter kernel</a>
and now you can try it in your own custom shells and REPLs.</p>
<h3 id="已编译脚本缓存">已编译脚本缓存</h3>
<p>The Kotlin Scripting API now provides the ability to implement a compiled scripts cache, significantly speeding up subsequent
executions of unchanged scripts. Our default advanced script implementation <code>kotlin-main-kts</code> already has its own cache.</p>
<h3 id="构件重命名">构件重命名</h3>
<p>In order to avoid confusion about artifact names, we've renamed <code>kotlin-scripting-jsr223-embeddable</code> and <code>kotlin-scripting-jvm-host-embeddable</code>
to just <code>kotlin-scripting-jsr223</code> and <code>kotlin-scripting-jvm-host</code>. These artifacts depend on the <code>kotlin-compiler-embeddable</code>
artifact, which shades the bundled third-party libraries to avoid usage conflicts. With this renaming, we're making the usage of
<code>kotlin-compiler-embeddable</code> (which is safer in general) the default for scripting artifacts.
If, for some reason, you need artifacts that depend on the unshaded <code>kotlin-compiler</code>, use the artifact versions with the 
<code>-unshaded</code> suffix, such as <code>kotlin-scripting-jsr223-unshaded</code>. Note that this renaming affects only the scripting artifacts
that are supposed to be used directly; names of other artifacts remain unchanged.</p>
<h2 id="迁移到-kotlin-140">迁移到 Kotlin 1.4.0</h2>
<p>The Kotlin plugin's migration tools help you migrate your projects from earlier versions of Kotlin to 1.4.0.</p>
<p>Just change the Kotlin version to <code>1.4.0</code> and re-import your Gradle or Maven project. The IDE will then ask you about migration.</p>
<p>If you agree, it will run migration code inspections that will check your code and suggest corrections for anything that doesn't work 
or that is not recommended in 1.4.0. </p>
<p><img src="../images/run-migration-wn.png" alt="Run migration"></img></p>
<p>Code inspections have different <a href="https://www.jetbrains.com/help/idea/configuring-inspection-severities.html" target="_blank">severity levels</a>, 
to help you decide which suggestions to accept and which to ignore.</p>
<p><img src="../images/migration-inspection-wn.png" alt="Migration inspections"></img></p>
<p>Kotlin 1.4.0 is a <a href="kotlin-evolution-principles.html#language-and-tooling-releases">feature release</a> and therefore can 
bring incompatible changes to the language. Find the detailed list of such changes in the <strong><a href="compatibility-guide-14.html">Compatibility Guide for Kotlin 1.4</a></strong>.</p>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="whatsnew1420.html" class="navigation navigation-prev " aria-label="Previous page: Kotlin 1.4.20">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="whatsnew13.html" class="navigation navigation-next " aria-label="Next page: Kotlin 1.3">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Kotlin 1.4.0","level":"1.5.4.16","depth":3,"next":{"title":"Kotlin 1.3","level":"1.5.4.17","depth":3,"path":"text/whatsnew13.md","ref":"text/whatsnew13.md","articles":[]},"previous":{"title":"Kotlin 1.4.20","level":"1.5.4.15","depth":3,"path":"text/whatsnew1420.md","ref":"text/whatsnew1420.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Kotlin 官方文档 中文版","language":"zh-hans","gitbook":"*"},"file":{"path":"text/whatsnew14.md","mtime":"2025-06-14T13:15:15.000Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-06-14T13:17:47.927Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

