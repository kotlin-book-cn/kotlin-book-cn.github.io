
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>Kotlin 1.7.0 · Kotlin 官方文档 中文版</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="whatsnew1620.html" />
    
    
    <link rel="prev" href="whatsnew1720.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    关于本书
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="home.html">
            
                <a href="home.html">
            
                    
                    文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="kotlin-tour-welcome.html">
            
                <a href="kotlin-tour-welcome.html">
            
                    
                    Kotlin 之旅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="d-overview.html">
            
                <a href="d-overview.html">
            
                    
                    概述
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="multiplatform.html">
            
                <a href="multiplatform.html">
            
                    
                    Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="server-overview.html">
            
                <a href="server-overview.html">
            
                    
                    Kotlin 用于服务器端开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="android-overview.html">
            
                <a href="android-overview.html">
            
                    
                    Kotlin 用于 Android 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="wasm-overview.html">
            
                <a href="wasm-overview.html">
            
                    
                    Kotlin Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="native-overview.html">
            
                <a href="native-overview.html">
            
                    
                    Kotlin 原生
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="js-overview.html">
            
                <a href="js-overview.html">
            
                    
                    Kotlin 用于 JavaScript 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="data-analysis-overview.html">
            
                <a href="data-analysis-overview.html">
            
                    
                    Kotlin 用于数据分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="kotlin-ai-apps-development-overview.html">
            
                <a href="kotlin-ai-apps-development-overview.html">
            
                    
                    Kotlin 用于 AI 驱动的应用开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="competitive-programming.html">
            
                <a href="competitive-programming.html">
            
                    
                    Kotlin 用于竞技程序设计
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="d-whatsnew.html">
            
                <a href="d-whatsnew.html">
            
                    
                    Kotlin 的新特性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="whatsnew2120.html">
            
                <a href="whatsnew2120.html">
            
                    
                    Kotlin 2.1.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="whatsnew21.html">
            
                <a href="whatsnew21.html">
            
                    
                    Kotlin 2.1.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="whatsnew-eap.html">
            
                <a href="whatsnew-eap.html">
            
                    
                    Kotlin 2.2.0-RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="d-earlier-whatsnew.html">
            
                <a href="d-earlier-whatsnew.html">
            
                    
                    早期版本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="whatsnew2020.html">
            
                <a href="whatsnew2020.html">
            
                    
                    Kotlin 2.0.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="whatsnew20.html">
            
                <a href="whatsnew20.html">
            
                    
                    Kotlin 2.0.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="whatsnew1920.html">
            
                <a href="whatsnew1920.html">
            
                    
                    Kotlin 1.9.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="whatsnew19.html">
            
                <a href="whatsnew19.html">
            
                    
                    Kotlin 1.9.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="whatsnew1820.html">
            
                <a href="whatsnew1820.html">
            
                    
                    Kotlin 1.8.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="whatsnew18.html">
            
                <a href="whatsnew18.html">
            
                    
                    Kotlin 1.8.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="whatsnew1720.html">
            
                <a href="whatsnew1720.html">
            
                    
                    Kotlin 1.7.20
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.4.8" data-path="whatsnew17.html">
            
                <a href="whatsnew17.html">
            
                    
                    Kotlin 1.7.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.9" data-path="whatsnew1620.html">
            
                <a href="whatsnew1620.html">
            
                    
                    Kotlin 1.6.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.10" data-path="whatsnew16.html">
            
                <a href="whatsnew16.html">
            
                    
                    Kotlin 1.6.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.11" data-path="whatsnew1530.html">
            
                <a href="whatsnew1530.html">
            
                    
                    Kotlin 1.5.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.12" data-path="whatsnew1520.html">
            
                <a href="whatsnew1520.html">
            
                    
                    Kotlin 1.5.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.13" data-path="whatsnew15.html">
            
                <a href="whatsnew15.html">
            
                    
                    Kotlin 1.5.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.14" data-path="whatsnew1430.html">
            
                <a href="whatsnew1430.html">
            
                    
                    Kotlin 1.4.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.15" data-path="whatsnew1420.html">
            
                <a href="whatsnew1420.html">
            
                    
                    Kotlin 1.4.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.16" data-path="whatsnew14.html">
            
                <a href="whatsnew14.html">
            
                    
                    Kotlin 1.4.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.17" data-path="whatsnew13.html">
            
                <a href="whatsnew13.html">
            
                    
                    Kotlin 1.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.18" data-path="whatsnew12.html">
            
                <a href="whatsnew12.html">
            
                    
                    Kotlin 1.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.19" data-path="whatsnew11.html">
            
                <a href="whatsnew11.html">
            
                    
                    Kotlin 1.1
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="d-releases-and-roadmap.html">
            
                <a href="d-releases-and-roadmap.html">
            
                    
                    版本发布与路线图
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="roadmap.html">
            
                <a href="roadmap.html">
            
                    
                    Kotlin 路线图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="kotlin-language-features-and-proposals.html">
            
                <a href="kotlin-language-features-and-proposals.html">
            
                    
                    Kotlin 语言特性与提案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="kotlin-evolution-principles.html">
            
                <a href="kotlin-evolution-principles.html">
            
                    
                    Kotlin 演进原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="components-stability.html">
            
                <a href="components-stability.html">
            
                    
                    Kotlin 各组件的稳定性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="releases.html">
            
                <a href="releases.html">
            
                    
                    Kotlin 版本发布
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="d-basics.html">
            
                <a href="d-basics.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="basic-syntax.html">
            
                <a href="basic-syntax.html">
            
                    
                    基本语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="idioms.html">
            
                <a href="idioms.html">
            
                    
                    习惯用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="l-kotlin-by-example1.html">
            
                <a href="l-kotlin-by-example1.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="coding-conventions.html">
            
                <a href="coding-conventions.html">
            
                    
                    编码规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="d-concepts.html">
            
                <a href="d-concepts.html">
            
                    
                    概念
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="d-types.html">
            
                <a href="d-types.html">
            
                    
                    类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="d-basic-types.html">
            
                <a href="d-basic-types.html">
            
                    
                    基本类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1.1" data-path="basic-types.html">
            
                <a href="basic-types.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.2" data-path="numbers.html">
            
                <a href="numbers.html">
            
                    
                    数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.3" data-path="unsigned-integer-types.html">
            
                <a href="unsigned-integer-types.html">
            
                    
                    无符号整型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.4" data-path="booleans.html">
            
                <a href="booleans.html">
            
                    
                    布尔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.5" data-path="characters.html">
            
                <a href="characters.html">
            
                    
                    字符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.6" data-path="strings.html">
            
                <a href="strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.7" data-path="arrays.html">
            
                <a href="arrays.html">
            
                    
                    数组
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="typecasts.html">
            
                <a href="typecasts.html">
            
                    
                    类型检测与类型转换
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="d-control-flow.html">
            
                <a href="d-control-flow.html">
            
                    
                    控制流程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="control-flow.html">
            
                <a href="control-flow.html">
            
                    
                    条件与循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="returns.html">
            
                <a href="returns.html">
            
                    
                    返回与跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="exceptions.html">
            
                <a href="exceptions.html">
            
                    
                    异常
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="packages.html">
            
                <a href="packages.html">
            
                    
                    包与导入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="d-class-and-obj.html">
            
                <a href="d-class-and-obj.html">
            
                    
                    类与对象
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="classes.html">
            
                <a href="classes.html">
            
                    
                    类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="inheritance.html">
            
                <a href="inheritance.html">
            
                    
                    继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="properties.html">
            
                <a href="properties.html">
            
                    
                    属性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="interfaces.html">
            
                <a href="interfaces.html">
            
                    
                    接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.5" data-path="fun-interfaces.html">
            
                <a href="fun-interfaces.html">
            
                    
                    函数式（SAM）接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.6" data-path="visibility-modifiers.html">
            
                <a href="visibility-modifiers.html">
            
                    
                    可见性修饰符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.7" data-path="extensions.html">
            
                <a href="extensions.html">
            
                    
                    扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.8" data-path="data-classes.html">
            
                <a href="data-classes.html">
            
                    
                    数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.9" data-path="sealed-classes.html">
            
                <a href="sealed-classes.html">
            
                    
                    密封类与密封接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.10" data-path="generics.html">
            
                <a href="generics.html">
            
                    
                    泛型：in、out、where
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.11" data-path="nested-classes.html">
            
                <a href="nested-classes.html">
            
                    
                    嵌套类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.12" data-path="enum-classes.html">
            
                <a href="enum-classes.html">
            
                    
                    枚举类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.13" data-path="inline-classes.html">
            
                <a href="inline-classes.html">
            
                    
                    内联类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.14" data-path="object-declarations.html">
            
                <a href="object-declarations.html">
            
                    
                    对象表达式与对象声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.15" data-path="delegation.html">
            
                <a href="delegation.html">
            
                    
                    委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.16" data-path="delegated-properties.html">
            
                <a href="delegated-properties.html">
            
                    
                    属性委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.17" data-path="type-aliases.html">
            
                <a href="type-aliases.html">
            
                    
                    类型别名
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="d-functions.html">
            
                <a href="d-functions.html">
            
                    
                    函数
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="lambdas.html">
            
                <a href="lambdas.html">
            
                    
                    lambda 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="inline-functions.html">
            
                <a href="inline-functions.html">
            
                    
                    内联函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="operator-overloading.html">
            
                <a href="operator-overloading.html">
            
                    
                    操作符重载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="d-builders.html">
            
                <a href="d-builders.html">
            
                    
                    构建器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.5.1" data-path="type-safe-builders.html">
            
                <a href="type-safe-builders.html">
            
                    
                    类型安全的构建器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5.2" data-path="using-builders-with-builder-inference.html">
            
                <a href="using-builders-with-builder-inference.html">
            
                    
                    使用带有构建器类型推断的构建器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="null-safety.html">
            
                <a href="null-safety.html">
            
                    
                    空安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="equality.html">
            
                <a href="equality.html">
            
                    
                    相等性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="this-expressions.html">
            
                <a href="this-expressions.html">
            
                    
                    this 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="async-programming.html">
            
                <a href="async-programming.html">
            
                    
                    异步程序设计技术
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="coroutines-overview.html">
            
                <a href="coroutines-overview.html">
            
                    
                    协程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="annotations.html">
            
                <a href="annotations.html">
            
                    
                    注解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="destructuring-declarations.html">
            
                <a href="destructuring-declarations.html">
            
                    
                    解构声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="reflection.html">
            
                <a href="reflection.html">
            
                    
                    反射
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="d-data-analysis.html">
            
                <a href="d-data-analysis.html">
            
                    
                    数据分析
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="d-notebook-get-started.html">
            
                <a href="d-notebook-get-started.html">
            
                    
                    Kotlin Notebook 入门
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="get-started-with-kotlin-notebooks.html">
            
                <a href="get-started-with-kotlin-notebooks.html">
            
                    
                    Kotlin Notebook 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="kotlin-notebook-set-up-env.html">
            
                <a href="kotlin-notebook-set-up-env.html">
            
                    
                    1、环境搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="kotlin-notebook-create.html">
            
                <a href="kotlin-notebook-create.html">
            
                    
                    2、创建第一个 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="kotlin-notebook-add-dependencies.html">
            
                <a href="kotlin-notebook-add-dependencies.html">
            
                    
                    3、将依赖添加到 Kotlin Notebook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="kotlin-notebook-share.html">
            
                <a href="kotlin-notebook-share.html">
            
                    
                    分享 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="data-analysis-notebooks-output-formats.html">
            
                <a href="data-analysis-notebooks-output-formats.html">
            
                    
                    Kotlin Notebook 的输出格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="d-work-with-data-sources.html">
            
                <a href="d-work-with-data-sources.html">
            
                    
                    使用数据源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.4.1" data-path="data-analysis-work-with-data-sources.html">
            
                <a href="data-analysis-work-with-data-sources.html">
            
                    
                    从文件中取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.2" data-path="data-analysis-work-with-api.html">
            
                <a href="data-analysis-work-with-api.html">
            
                    
                    从 web 源与 API 取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.3" data-path="data-analysis-connect-to-db.html">
            
                <a href="data-analysis-connect-to-db.html">
            
                    
                    链接数据库并从中取数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="data-analysis-visualization.html">
            
                <a href="data-analysis-visualization.html">
            
                    
                    Kotlin Notebook 中数据可视化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="data-analysis-libraries.html">
            
                <a href="data-analysis-libraries.html">
            
                    
                    用于数据分析的库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="d-platforms.html">
            
                <a href="d-platforms.html">
            
                    
                    平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="d-jvm.html">
            
                <a href="d-jvm.html">
            
                    
                    JVM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="jvm-get-started.html">
            
                <a href="jvm-get-started.html">
            
                    
                    Kotlin/JVM 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.2" data-path="comparison-to-java.html">
            
                <a href="comparison-to-java.html">
            
                    
                    与 Java 比较
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.3" data-path="java-interop.html">
            
                <a href="java-interop.html">
            
                    
                    在 Kotlin 中调用 Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.4" data-path="java-to-kotlin-interop.html">
            
                <a href="java-to-kotlin-interop.html">
            
                    
                    在 Java 中调用 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5" data-path="d-spring.html">
            
                <a href="d-spring.html">
            
                    
                    Spring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1" data-path="d-jvm-spring-boot-restful.html">
            
                <a href="d-jvm-spring-boot-restful.html">
            
                    
                    使用 Spring Boot 创建用到数据库的 RESTful web 服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1.1" data-path="jvm-get-started-spring-boot.html">
            
                <a href="jvm-get-started-spring-boot.html">
            
                    
                    Spring Boot 与 Kotlin 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.2" data-path="jvm-create-project-with-spring-boot.html">
            
                <a href="jvm-create-project-with-spring-boot.html">
            
                    
                    创建使用 Kotlin 的 Spring Boot 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.3" data-path="jvm-spring-boot-add-data-class.html">
            
                <a href="jvm-spring-boot-add-data-class.html">
            
                    
                    向 Spring Boot 项目添加数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.4" data-path="jvm-spring-boot-add-db-support.html">
            
                <a href="jvm-spring-boot-add-db-support.html">
            
                    
                    为 Spring Boot 项目添加数据库支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.5" data-path="jvm-spring-boot-using-crudrepository.html">
            
                <a href="jvm-spring-boot-using-crudrepository.html">
            
                    
                    使用 Spring Data CrudRepository 进行数据库访问
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.2" data-path="spring-ai-guide.html">
            
                <a href="spring-ai-guide.html">
            
                    
                    构建一个使用 Spring AI 基于 Qdrant 中存储的文档来回答问题的 Kotlin 应用——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.3" data-path="l-spring-docs-kotlin.html">
            
                <a href="l-spring-docs-kotlin.html">
            
                    
                    Spring 框架 Kotlin 文档↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.4" data-path="l-spring-boot-kotlin.html">
            
                <a href="l-spring-boot-kotlin.html">
            
                    
                    使用 Spring Boot 与 Kotlin 构建 web 应用程序——教程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.5" data-path="l-spring-webflux-kotlin-rsocket.html">
            
                <a href="l-spring-webflux-kotlin-rsocket.html">
            
                    
                    使用 Kotlin 协程与 RSocket 创建聊天应用程序——教程↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.6" data-path="jvm-test-using-junit.html">
            
                <a href="jvm-test-using-junit.html">
            
                    
                    在 JVM 平台中用 JUnit 测试代码——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.7" data-path="mixing-java-kotlin-intellij.html">
            
                <a href="mixing-java-kotlin-intellij.html">
            
                    
                    在项目中混用 Java 与 Kotlin——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.8" data-path="jvm-records.html">
            
                <a href="jvm-records.html">
            
                    
                    在 Kotlin 中使用 Java 记录类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9" data-path="d-java-to-kotlin-migration-guides.html">
            
                <a href="d-java-to-kotlin-migration-guides.html">
            
                    
                    从 Java 到 Kotlin 迁移指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.9.1" data-path="java-to-kotlin-idioms-strings.html">
            
                <a href="java-to-kotlin-idioms-strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.2" data-path="java-to-kotlin-collections-guide.html">
            
                <a href="java-to-kotlin-collections-guide.html">
            
                    
                    集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.3" data-path="java-to-kotlin-nullability-guide.html">
            
                <a href="java-to-kotlin-nullability-guide.html">
            
                    
                    可空性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.4" data-path="standard-input.html">
            
                <a href="standard-input.html">
            
                    
                    标准输入
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="d-native.html">
            
                <a href="d-native.html">
            
                    
                    原生
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="native-get-started.html">
            
                <a href="native-get-started.html">
            
                    
                    Kotlin/Native 入门——在 IntelliJ IDEA 中
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="native-definition-file.html">
            
                <a href="native-definition-file.html">
            
                    
                    定义文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3" data-path="d-c-interop.html">
            
                <a href="d-c-interop.html">
            
                    
                    与 C 语言互操作
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.3.1" data-path="native-c-interop.html">
            
                <a href="native-c-interop.html">
            
                    
                    与 C 语言互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.2" data-path="mapping-primitive-data-types-from-c.html">
            
                <a href="mapping-primitive-data-types-from-c.html">
            
                    
                    映射来自 C 语言的原始数据类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.3" data-path="mapping-struct-union-types-from-c.html">
            
                <a href="mapping-struct-union-types-from-c.html">
            
                    
                    映射来自 C 语言的结构与联合类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.4" data-path="mapping-function-pointers-from-c.html">
            
                <a href="mapping-function-pointers-from-c.html">
            
                    
                    映射来自 C 语言的函数指针——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.5" data-path="mapping-strings-from-c.html">
            
                <a href="mapping-strings-from-c.html">
            
                    
                    映射来自 C 语言的字符串——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.6" data-path="native-dynamic-libraries.html">
            
                <a href="native-dynamic-libraries.html">
            
                    
                    Kotlin/Native 开发动态库——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.7" data-path="native-app-with-c-and-libcurl.html">
            
                <a href="native-app-with-c-and-libcurl.html">
            
                    
                    创建使用 C 语言互操作与 libcurl 的应用——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.4" data-path="d-objc-interop.html">
            
                <a href="d-objc-interop.html">
            
                    
                    与 Objective-C 互操作性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.4.1" data-path="native-objc-interop.html">
            
                <a href="native-objc-interop.html">
            
                    
                    与 Swift/Objective-C 互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.4.2" data-path="apple-framework.html">
            
                <a href="apple-framework.html">
            
                    
                    Kotlin/Native 开发 Apple framework——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.5" data-path="native-libraries.html">
            
                <a href="native-libraries.html">
            
                    
                    Kotlin/Native 库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.6" data-path="native-platform-libs.html">
            
                <a href="native-platform-libs.html">
            
                    
                    平台库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7" data-path="d-mem-mgr.html">
            
                <a href="d-mem-mgr.html">
            
                    
                    内存管理器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.7.1" data-path="native-memory-manager.html">
            
                <a href="native-memory-manager.html">
            
                    
                    Kotlin/Native 内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.2" data-path="native-arc-integration.html">
            
                <a href="native-arc-integration.html">
            
                    
                    与 ARC 集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.3" data-path="native-migration-guide.html">
            
                <a href="native-migration-guide.html">
            
                    
                    迁移到新版内存管理器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.8" data-path="native-debugging.html">
            
                <a href="native-debugging.html">
            
                    
                    调试 Kotlin/Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.9" data-path="native-ios-symbolication.html">
            
                <a href="native-ios-symbolication.html">
            
                    
                    符号化 iOS 崩溃报告
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10" data-path="d-ref-and-tips.html">
            
                <a href="d-ref-and-tips.html">
            
                    
                    参考与提示
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.10.1" data-path="native-target-support.html">
            
                <a href="native-target-support.html">
            
                    
                    目标平台支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.2" data-path="native-improving-compilation-time.html">
            
                <a href="native-improving-compilation-time.html">
            
                    
                    改进编译时间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.3" data-path="native-binary-licenses.html">
            
                <a href="native-binary-licenses.html">
            
                    
                    许可证文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.4" data-path="native-faq.html">
            
                <a href="native-faq.html">
            
                    
                    Kotlin/Native FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="d-wasm.html">
            
                <a href="d-wasm.html">
            
                    
                    WebAssembly（Wasm）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.3.1" data-path="wasm-get-started.html">
            
                <a href="wasm-get-started.html">
            
                    
                    在 IntelliJ IDEA 中入门 Kotlin/Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.2" data-path="wasm-wasi.html">
            
                <a href="wasm-wasi.html">
            
                    
                    Kotlin/Wasm 与 WASI 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.3" data-path="wasm-debugging.html">
            
                <a href="wasm-debugging.html">
            
                    
                    调试 Kotlin/Wasm 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.4" data-path="wasm-js-interop.html">
            
                <a href="wasm-js-interop.html">
            
                    
                    与 JavaScript 的互操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.5" data-path="wasm-troubleshooting.html">
            
                <a href="wasm-troubleshooting.html">
            
                    
                    故障排查
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="d-javascript.html">
            
                <a href="d-javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.1" data-path="js-project-setup.html">
            
                <a href="js-project-setup.html">
            
                    
                    搭建 Kotlin/JS 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.2" data-path="running-kotlin-js.html">
            
                <a href="running-kotlin-js.html">
            
                    
                    运行 Kotlin/JS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.3" data-path="dev-server-continuous-compilation.html">
            
                <a href="dev-server-continuous-compilation.html">
            
                    
                    开发服务器与持续编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.4" data-path="js-debugging.html">
            
                <a href="js-debugging.html">
            
                    
                    调试 Kotlin/JS 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.5" data-path="js-running-tests.html">
            
                <a href="js-running-tests.html">
            
                    
                    在 Kotlin/JS 平台中运行测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.6" data-path="javascript-dce.html">
            
                <a href="javascript-dce.html">
            
                    
                    Kotlin/JS 无用代码消除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.7" data-path="js-ir-compiler.html">
            
                <a href="js-ir-compiler.html">
            
                    
                    Kotlin/JS IR 编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8" data-path="d-kotlin-for-js-platform.html">
            
                <a href="d-kotlin-for-js-platform.html">
            
                    
                    Kotlin 用于 JS 平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.8.1" data-path="browser-api-dom.html">
            
                <a href="browser-api-dom.html">
            
                    
                    浏览器与 DOM API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.2" data-path="js-interop.html">
            
                <a href="js-interop.html">
            
                    
                    在 Kotlin 中使用 JavaScript 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.3" data-path="dynamic-type.html">
            
                <a href="dynamic-type.html">
            
                    
                    动态类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.4" data-path="using-packages-from-npm.html">
            
                <a href="using-packages-from-npm.html">
            
                    
                    使用来自 npm 的依赖
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.5" data-path="js-to-kotlin-interop.html">
            
                <a href="js-to-kotlin-interop.html">
            
                    
                    在 JavaScript 中使用 Kotlin 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.6" data-path="js-modules.html">
            
                <a href="js-modules.html">
            
                    
                    JavaScript 模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.7" data-path="js-reflection.html">
            
                <a href="js-reflection.html">
            
                    
                    Kotlin/JS 反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.8" data-path="typesafe-html-dsl.html">
            
                <a href="typesafe-html-dsl.html">
            
                    
                    类型安全的 HTML DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="d-scripting.html">
            
                <a href="d-scripting.html">
            
                    
                    脚本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.5.1" data-path="custom-script-deps-tutorial.html">
            
                <a href="custom-script-deps-tutorial.html">
            
                    
                    Kotlin 自定义脚本入门——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="l-kotlin-multiplatform-dev.html">
            
                <a href="l-kotlin-multiplatform-dev.html">
            
                    
                    Kotlin 多平台开发↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="d-standard-library.html">
            
                <a href="d-standard-library.html">
            
                    
                    标准库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="d-collections.html">
            
                <a href="d-collections.html">
            
                    
                    集合
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1.1" data-path="collections-overview.html">
            
                <a href="collections-overview.html">
            
                    
                    集合概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.2" data-path="constructing-collections.html">
            
                <a href="constructing-collections.html">
            
                    
                    构造集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.3" data-path="iterators.html">
            
                <a href="iterators.html">
            
                    
                    迭代器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.4" data-path="ranges.html">
            
                <a href="ranges.html">
            
                    
                    区间与数列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.5" data-path="sequences.html">
            
                <a href="sequences.html">
            
                    
                    序列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.6" data-path="collection-operations.html">
            
                <a href="collection-operations.html">
            
                    
                    集合操作概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.7" data-path="collection-transformations.html">
            
                <a href="collection-transformations.html">
            
                    
                    集合转换操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.8" data-path="collection-filtering.html">
            
                <a href="collection-filtering.html">
            
                    
                    过滤集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.9" data-path="collection-plus-minus.html">
            
                <a href="collection-plus-minus.html">
            
                    
                    加减操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.10" data-path="collection-grouping.html">
            
                <a href="collection-grouping.html">
            
                    
                    分组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.11" data-path="collection-parts.html">
            
                <a href="collection-parts.html">
            
                    
                    取集合的一部分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.12" data-path="collection-elements.html">
            
                <a href="collection-elements.html">
            
                    
                    取单个元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.13" data-path="collection-ordering.html">
            
                <a href="collection-ordering.html">
            
                    
                    排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.14" data-path="collection-aggregate.html">
            
                <a href="collection-aggregate.html">
            
                    
                    聚合操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.15" data-path="collection-write.html">
            
                <a href="collection-write.html">
            
                    
                    集合写操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.16" data-path="list-operations.html">
            
                <a href="list-operations.html">
            
                    
                    List 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.17" data-path="set-operations.html">
            
                <a href="set-operations.html">
            
                    
                    Set 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.18" data-path="map-operations.html">
            
                <a href="map-operations.html">
            
                    
                    Map 相关操作
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="read-standard-input.html">
            
                <a href="read-standard-input.html">
            
                    
                    读取标准输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="opt-in-requirements.html">
            
                <a href="opt-in-requirements.html">
            
                    
                    选择加入要求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="scope-functions.html">
            
                <a href="scope-functions.html">
            
                    
                    作用域函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="time-measurement.html">
            
                <a href="time-measurement.html">
            
                    
                    时间度量
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="d-official-library.html">
            
                <a href="d-official-library.html">
            
                    
                    官方库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="d-kotlinx-coroutines.html">
            
                <a href="d-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1.1" data-path="coroutines-guide.html">
            
                <a href="coroutines-guide.html">
            
                    
                    协程指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.2" data-path="coroutines-basics.html">
            
                <a href="coroutines-basics.html">
            
                    
                    协程基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.3" data-path="l-intro-coroutines-and-channels.html">
            
                <a href="l-intro-coroutines-and-channels.html">
            
                    
                    Kotlin 协程与通道介绍↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.4" data-path="cancellation-and-timeouts.html">
            
                <a href="cancellation-and-timeouts.html">
            
                    
                    取消与超时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.5" data-path="composing-suspending-functions.html">
            
                <a href="composing-suspending-functions.html">
            
                    
                    组合挂起函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.6" data-path="coroutine-context-and-dispatchers.html">
            
                <a href="coroutine-context-and-dispatchers.html">
            
                    
                    协程上下文与调度器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.7" data-path="flow.html">
            
                <a href="flow.html">
            
                    
                    异步流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.8" data-path="channels.html">
            
                <a href="channels.html">
            
                    
                    通道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.9" data-path="exception-handling.html">
            
                <a href="exception-handling.html">
            
                    
                    协程异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.10" data-path="shared-mutable-state-and-concurrency.html">
            
                <a href="shared-mutable-state-and-concurrency.html">
            
                    
                    共享的可变状态与并发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.11" data-path="select-expression.html">
            
                <a href="select-expression.html">
            
                    
                    select 表达式（实验性的）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.12" data-path="debug-coroutines-with-idea.html">
            
                <a href="debug-coroutines-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试协程——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.13" data-path="debug-flow-with-idea.html">
            
                <a href="debug-flow-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试 Kotlin Flow——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="serialization.html">
            
                <a href="serialization.html">
            
                    
                    序列化（kotlinx.serialization）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="metadata-jvm.html">
            
                <a href="metadata-jvm.html">
            
                    
                    Kotlin Metadata JVM（kotlin-metadata-jvm）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="d-lincheck.html">
            
                <a href="d-lincheck.html">
            
                    
                    Lincheck（kotlinx.lincheck）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.4.1" data-path="lincheck-guide.html">
            
                <a href="lincheck-guide.html">
            
                    
                    Lincheck 指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.2" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    用 Lincheck 编写第一个测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.3" data-path="testing-strategies.html">
            
                <a href="testing-strategies.html">
            
                    
                    测试策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.4" data-path="operation-arguments.html">
            
                <a href="operation-arguments.html">
            
                    
                    操作参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.5" data-path="constraints.html">
            
                <a href="constraints.html">
            
                    
                    数据结构约束
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.6" data-path="progress-guarantees.html">
            
                <a href="progress-guarantees.html">
            
                    
                    进度保证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.7" data-path="sequential-specification.html">
            
                <a href="sequential-specification.html">
            
                    
                    时序规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="l-ktor1.html">
            
                <a href="l-ktor1.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="d-api-reference.html">
            
                <a href="d-api-reference.html">
            
                    
                    API 参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="l-stdlib.html">
            
                <a href="l-stdlib.html">
            
                    
                    标准库（stdlib）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="l-kotlin-test.html">
            
                <a href="l-kotlin-test.html">
            
                    
                    测试库（kotlin.test）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="l-kotlinx-coroutines.html">
            
                <a href="l-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="l-kotlinx-serialization.html">
            
                <a href="l-kotlinx-serialization.html">
            
                    
                    序列化（kotlinx.serialization）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="l-kotlinx-io.html">
            
                <a href="l-kotlinx-io.html">
            
                    
                    Kotlin I/O 库（kotlinx-io）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="l-kotlinx-datetime.html">
            
                <a href="l-kotlinx-datetime.html">
            
                    
                    日期与时间（kotlinx-datetime）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="l-kotlinx-metadata-jvm.html">
            
                <a href="l-kotlinx-metadata-jvm.html">
            
                    
                    JVM 元数据（kotlinx-metadata-jvm）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8" data-path="l-ktor2.html">
            
                <a href="l-ktor2.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9" data-path="l-kotlin-gradle-plugin.html">
            
                <a href="l-kotlin-gradle-plugin.html">
            
                    
                    Kotlin Gradle 插件（kotlin-gradle-plugin）↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="d-language-reference.html">
            
                <a href="d-language-reference.html">
            
                    
                    语言参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="keyword-reference.html">
            
                <a href="keyword-reference.html">
            
                    
                    关键字与操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="l-grammar.html">
            
                <a href="l-grammar.html">
            
                    
                    语法↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="l-kotlin-spec.html">
            
                <a href="l-kotlin-spec.html">
            
                    
                    语言规范↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="d-tools.html">
            
                <a href="d-tools.html">
            
                    
                    工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="d-build-tools.html">
            
                <a href="d-build-tools.html">
            
                    
                    构建工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1" data-path="d-gradle.html">
            
                <a href="d-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1.1" data-path="gradle.html">
            
                <a href="gradle.html">
            
                    
                    Gradle 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.2" data-path="get-started-with-jvm-gradle-project.html">
            
                <a href="get-started-with-jvm-gradle-project.html">
            
                    
                    Gradle 入门——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.3" data-path="gradle-configure-project.html">
            
                <a href="gradle-configure-project.html">
            
                    
                    配置 Gradle 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.4" data-path="gradle-best-practices.html">
            
                <a href="gradle-best-practices.html">
            
                    
                    Gradle 最佳实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.5" data-path="gradle-compiler-options.html">
            
                <a href="gradle-compiler-options.html">
            
                    
                    Kotlin Gradle 插件中的编译器选项
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.6" data-path="gradle-compilation-and-caches.html">
            
                <a href="gradle-compilation-and-caches.html">
            
                    
                    Kotlin Gradle 插件中的编译项与缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.7" data-path="gradle-plugin-variants.html">
            
                <a href="gradle-plugin-variants.html">
            
                    
                    支持 Gradle 插件变体
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.1.2" data-path="maven.html">
            
                <a href="maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.3" data-path="ant.html">
            
                <a href="ant.html">
            
                    
                    Ant
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="d-dokka.html">
            
                <a href="d-dokka.html">
            
                    
                    Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.1" data-path="dokka-introduction.html">
            
                <a href="dokka-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.2" data-path="dokka-get-started.html">
            
                <a href="dokka-get-started.html">
            
                    
                    Dokka 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3" data-path="d-run-dokka.html">
            
                <a href="d-run-dokka.html">
            
                    
                    运行 Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.3.1" data-path="dokka-gradle.html">
            
                <a href="dokka-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.2" data-path="dokka-maven.html">
            
                <a href="dokka-maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.3" data-path="dokka-cli.html">
            
                <a href="dokka-cli.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.4" data-path="d-output-formats.html">
            
                <a href="d-output-formats.html">
            
                    
                    输出格式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.4.1" data-path="dokka-html.html">
            
                <a href="dokka-html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.2" data-path="dokka-markdown.html">
            
                <a href="dokka-markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.3" data-path="dokka-javadoc.html">
            
                <a href="dokka-javadoc.html">
            
                    
                    Javadoc
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.5" data-path="dokka-plugins.html">
            
                <a href="dokka-plugins.html">
            
                    
                    Dokka 插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.6" data-path="dokka-module-and-package-docs.html">
            
                <a href="dokka-module-and-package-docs.html">
            
                    
                    模块文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="kotlin-ide.html">
            
                <a href="kotlin-ide.html">
            
                    
                    用于 Kotlin 开发的 IDE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="code-style-migration-guide.html">
            
                <a href="code-style-migration-guide.html">
            
                    
                    使用 IntelliJ IDEA 迁移到 Kotlin 代码风格
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="kotlin-notebook-overview.html">
            
                <a href="kotlin-notebook-overview.html">
            
                    
                    Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="lets-plot.html">
            
                <a href="lets-plot.html">
            
                    
                    用于 Kotlin 的 Lets-Plot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="run-code-snippets.html">
            
                <a href="run-code-snippets.html">
            
                    
                    运行代码片段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.8" data-path="kotlin-and-ci.html">
            
                <a href="kotlin-and-ci.html">
            
                    
                    Kotlin 与 TeamCity 的持续集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.9" data-path="kotlin-doc.html">
            
                <a href="kotlin-doc.html">
            
                    
                    编写代码文档：KDoc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.10" data-path="kotlin-osgi.html">
            
                <a href="kotlin-osgi.html">
            
                    
                    Kotlin 与 OSGi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="d-compiler-and-plugin.html">
            
                <a href="d-compiler-and-plugin.html">
            
                    
                    编译器与插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="d-compiler.html">
            
                <a href="d-compiler.html">
            
                    
                    编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1.1" data-path="k2-compiler-migration-guide.html">
            
                <a href="k2-compiler-migration-guide.html">
            
                    
                    K2 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.2" data-path="command-line.html">
            
                <a href="command-line.html">
            
                    
                    Kotlin 命令行编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.3" data-path="compiler-reference.html">
            
                <a href="compiler-reference.html">
            
                    
                    Kotlin 编译器选项
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="d-compiler-plugins.html">
            
                <a href="d-compiler-plugins.html">
            
                    
                    编译器插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.2.1" data-path="all-open-plugin.html">
            
                <a href="all-open-plugin.html">
            
                    
                    全开放编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.2" data-path="no-arg-plugin.html">
            
                <a href="no-arg-plugin.html">
            
                    
                    No-arg 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.3" data-path="sam-with-receiver-plugin.html">
            
                <a href="sam-with-receiver-plugin.html">
            
                    
                    带有接收者的 SAM 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.4" data-path="kapt.html">
            
                <a href="kapt.html">
            
                    
                    kapt 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.5" data-path="lombok.html">
            
                <a href="lombok.html">
            
                    
                    Lombok 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.6" data-path="power-assert.html">
            
                <a href="power-assert.html">
            
                    
                    Power-assert
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="d-compose-compiler.html">
            
                <a href="d-compose-compiler.html">
            
                    
                    Compose 编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.3.1" data-path="compose-compiler-migration-guide.html">
            
                <a href="compose-compiler-migration-guide.html">
            
                    
                    Compose 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.2" data-path="compose-compiler-options.html">
            
                <a href="compose-compiler-options.html">
            
                    
                    Compose 编译器选项 DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="d-ksp.html">
            
                <a href="d-ksp.html">
            
                    
                    Kotlin 符号处理（KSP）API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.4.1" data-path="ksp-overview.html">
            
                <a href="ksp-overview.html">
            
                    
                    KSP 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.2" data-path="ksp-quickstart.html">
            
                <a href="ksp-quickstart.html">
            
                    
                    KSP 快速入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.3" data-path="ksp-why-ksp.html">
            
                <a href="ksp-why-ksp.html">
            
                    
                    为什么选用 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.4" data-path="ksp-examples.html">
            
                <a href="ksp-examples.html">
            
                    
                    KSP 示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.5" data-path="ksp-additional-details.html">
            
                <a href="ksp-additional-details.html">
            
                    
                    KSP 如何为 Kotlin 代码建模
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.6" data-path="ksp-reference.html">
            
                <a href="ksp-reference.html">
            
                    
                    Java 注解处理对应到 KSP 参考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.7" data-path="ksp-incremental.html">
            
                <a href="ksp-incremental.html">
            
                    
                    增量处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.8" data-path="ksp-multi-round.html">
            
                <a href="ksp-multi-round.html">
            
                    
                    多轮次处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.9" data-path="ksp-multiplatform.html">
            
                <a href="ksp-multiplatform.html">
            
                    
                    KSP 与 Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.10" data-path="ksp-command-line.html">
            
                <a href="ksp-command-line.html">
            
                    
                    在命令行运行 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.11" data-path="ksp-faq.html">
            
                <a href="ksp-faq.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="d-learning-materials.html">
            
                <a href="d-learning-materials.html">
            
                    
                    学习资料
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="learning-materials-overview.html">
            
                <a href="learning-materials-overview.html">
            
                    
                    学习资料概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="l-kotlin-by-example2.html">
            
                <a href="l-kotlin-by-example2.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="koans.html">
            
                <a href="koans.html">
            
                    
                    Kotlin 心印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="l-kotlin-core-track.html">
            
                <a href="l-kotlin-core-track.html">
            
                    
                    Kotlin 核心课程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.5" data-path="kotlin-hands-on.html">
            
                <a href="kotlin-hands-on.html">
            
                    
                    Kotlin 动手实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.6" data-path="kotlin-tips.html">
            
                <a href="kotlin-tips.html">
            
                    
                    Kotlin 小窍门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.7" data-path="books.html">
            
                <a href="books.html">
            
                    
                    图书
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.8" data-path="advent-of-code.html">
            
                <a href="advent-of-code.html">
            
                    
                    Advent of Code 谜题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9" data-path="d-edu-tools.html">
            
                <a href="d-edu-tools.html">
            
                    
                    在 IDE 中学习（JetBrains 学院）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.9.1" data-path="edu-tools-learner.html">
            
                <a href="edu-tools-learner.html">
            
                    
                    学习 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9.2" data-path="edu-tools-educator.html">
            
                <a href="edu-tools-educator.html">
            
                    
                    讲授 Kotlin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10" data-path="d-lib-creator-guidelines.html">
            
                <a href="d-lib-creator-guidelines.html">
            
                    
                    库作者指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.1" data-path="api-guidelines-introduction.html">
            
                <a href="api-guidelines-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2" data-path="d-minimize-mental-complexity.html">
            
                <a href="d-minimize-mental-complexity.html">
            
                    
                    最小化心理复杂性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.2.1" data-path="api-guidelines-minimizing-mental-complexity.html">
            
                <a href="api-guidelines-minimizing-mental-complexity.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.2" data-path="api-guidelines-simplicity.html">
            
                <a href="api-guidelines-simplicity.html">
            
                    
                    简单
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.3" data-path="api-guidelines-readability.html">
            
                <a href="api-guidelines-readability.html">
            
                    
                    可读性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.4" data-path="api-guidelines-consistency.html">
            
                <a href="api-guidelines-consistency.html">
            
                    
                    一致性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.5" data-path="api-guidelines-predictability.html">
            
                <a href="api-guidelines-predictability.html">
            
                    
                    可预测性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.6" data-path="api-guidelines-debuggability.html">
            
                <a href="api-guidelines-debuggability.html">
            
                    
                    可调试性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.7" data-path="api-guidelines-testability.html">
            
                <a href="api-guidelines-testability.html">
            
                    
                    可测试性
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10.3" data-path="api-guidelines-backward-compatibility.html">
            
                <a href="api-guidelines-backward-compatibility.html">
            
                    
                    反向兼容性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.4" data-path="api-guidelines-informative-documentation.html">
            
                <a href="api-guidelines-informative-documentation.html">
            
                    
                    内容翔实的文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.5" data-path="api-guidelines-build-for-multiplatform.html">
            
                <a href="api-guidelines-build-for-multiplatform.html">
            
                    
                    构建多平台库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="d-eap.html">
            
                <a href="d-eap.html">
            
                    
                    早期访问计划（EAP）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="eap.html">
            
                <a href="eap.html">
            
                    
                    参与 Kotlin 早期访问计划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="configure-build-for-eap.html">
            
                <a href="configure-build-for-eap.html">
            
                    
                    配置构建采用 EAP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="d-other-resources.html">
            
                <a href="d-other-resources.html">
            
                    
                    其他资源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="d-compatibility.html">
            
                <a href="d-compatibility.html">
            
                    
                    Kotlin 兼容性指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.2.1" data-path="compatibility-guide-21.html">
            
                <a href="compatibility-guide-21.html">
            
                    
                    Kotlin 2.1 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.2" data-path="compatibility-guide-20.html">
            
                <a href="compatibility-guide-20.html">
            
                    
                    Kotlin 2.0 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.3" data-path="compatibility-guide-19.html">
            
                <a href="compatibility-guide-19.html">
            
                    
                    Kotlin 1.9 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.4" data-path="compatibility-guide-18.html">
            
                <a href="compatibility-guide-18.html">
            
                    
                    Kotlin 1.8 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.5" data-path="compatibility-guide-1720.html">
            
                <a href="compatibility-guide-1720.html">
            
                    
                    Kotlin 1.7.20 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.6" data-path="compatibility-guide-17.html">
            
                <a href="compatibility-guide-17.html">
            
                    
                    Kotlin 1.7 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.7" data-path="compatibility-guide-16.html">
            
                <a href="compatibility-guide-16.html">
            
                    
                    Kotlin 1.6 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.8" data-path="compatibility-guide-15.html">
            
                <a href="compatibility-guide-15.html">
            
                    
                    Kotlin 1.5 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.9" data-path="compatibility-guide-14.html">
            
                <a href="compatibility-guide-14.html">
            
                    
                    Kotlin 1.4 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.10" data-path="compatibility-guide-13.html">
            
                <a href="compatibility-guide-13.html">
            
                    
                    Kotlin 1.3 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.11" data-path="compatibility-modes.html">
            
                <a href="compatibility-modes.html">
            
                    
                    兼容模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="d-kotlin-foundation.html">
            
                <a href="d-kotlin-foundation.html">
            
                    
                    Kotlin 基金会
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.3.1" data-path="l-kotlin-foundation.html">
            
                <a href="l-kotlin-foundation.html">
            
                    
                    Kotlin 基金会↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.2" data-path="l-language-committee-guidelines.html">
            
                <a href="l-language-committee-guidelines.html">
            
                    
                    语言委员会准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.3" data-path="l-submitting-incompatible-changes.html">
            
                <a href="l-submitting-incompatible-changes.html">
            
                    
                    提交不兼容变更指南↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.4" data-path="l-guidelines.html">
            
                <a href="l-guidelines.html">
            
                    
                    Kotlin 品牌用途准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.5" data-path="l-foundation-faq.html">
            
                <a href="l-foundation-faq.html">
            
                    
                    Kotlin 基金会 FAQ↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="d-gsoc.html">
            
                <a href="d-gsoc.html">
            
                    
                    Google Summer of Code
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.4.1" data-path="gsoc-overview.html">
            
                <a href="gsoc-overview.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.2" data-path="l-gsoc-2025.html">
            
                <a href="l-gsoc-2025.html">
            
                    
                    Google Summer of Code with Kotlin 2025↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.3" data-path="l-gsoc-2024.html">
            
                <a href="l-gsoc-2024.html">
            
                    
                    Google Summer of Code with Kotlin 2024↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.4" data-path="l-gsoc-2023.html">
            
                <a href="l-gsoc-2023.html">
            
                    
                    Google Summer of Code with Kotlin 2023↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="security.html">
            
                <a href="security.html">
            
                    
                    安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="d-community.html">
            
                <a href="d-community.html">
            
                    
                    社区
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.6.1" data-path="contribute.html">
            
                <a href="contribute.html">
            
                    
                    贡献力量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.2" data-path="kug-guidelines.html">
            
                <a href="kug-guidelines.html">
            
                    
                    KUG 准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.3" data-path="kotlin-night-guidelines.html">
            
                <a href="kotlin-night-guidelines.html">
            
                    
                    Kotlin 之夜准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.4" data-path="slack-code-of-conduct.html">
            
                <a href="slack-code-of-conduct.html">
            
                    
                    Kotlin Slack 的行为准则与指南
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.7" data-path="kotlin-brand-assets.html">
            
                <a href="kotlin-brand-assets.html">
            
                    
                    Kotlin 品牌素材
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.8" data-path="l-press-kit.html">
            
                <a href="l-press-kit.html">
            
                    
                    宣传资料↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            本书使用 HonKit 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Kotlin 1.7.0</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="kotlin-170-的新特性">Kotlin 1.7.0 的新特性</h1>
<tldr>
   <p>The IDE support for Kotlin 1.7.0 is available for IntelliJ IDEA 2021.2, 2021.3, and 2022.1.</p>
</tldr>

<p><em><a href="releases.html#版本发布详情">发布于：2022-07-09</a></em></p>
<p>Kotlin 1.7.0 has been released. It unveils the Alpha version of the new Kotlin/JVM K2 compiler, stabilizes language
features, and brings performance improvements for the JVM, JS, and Native platforms.</p>
<p>Here is a list of the major updates in this version:</p>
<ul>
<li><a href="#用于-jvm-的新版-kotlin-k2-编译器进入-alpha-阶段">The new Kotlin K2 compiler is in Alpha now</a>, and it offers serious
performance improvements. It is available only for the JVM, and none of the compiler plugins, including kapt, work with it.</li>
<li><a href="#增量编译的新方式">A new approach to the incremental compilation in Gradle</a>. Incremental
compilation is now also supported for changes made inside dependent non-Kotlin modules and is compatible with Gradle.</li>
<li>We've stabilized <a href="#稳定版选择加入要求">opt-in requirement annotations</a>, <a href="#稳定版绝对不可空类型">definitely non-nullable types</a>,
and <a href="#稳定版构建器推断">builder inference</a>.</li>
<li><a href="#下划线操作符用于类型参数">There's now an underscore operator for type args</a>. You can use it to
automatically infer a type of argument when other types are specified.</li>
<li><a href="#内联类的内联值可以通过委托来实现">This release allows implementation by delegation to an inlined value of an inline class</a>. You can now create
lightweight wrappers that do not allocate memory in most cases.</li>
</ul>
<p>You can also find a short overview of the changes in this video:</p>
<p>YouTube 视频：<a href="https://www.youtube.com/watch?v=https://www.youtube.com/v/54WEfLKtCGk" target="_blank">What's new in Kotlin 1.7.0</a> <br></br> <iframe width="560" height="315" src="https://www.youtube.com/embed/https://www.youtube.com/v/54WEfLKtCGk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" title="What's new in Kotlin 1.7.0" allowfullscreen=""></iframe><br></br></p>
<h2 id="用于-jvm-的新版-kotlin-k2-编译器进入-alpha-阶段">用于 JVM 的新版 Kotlin K2 编译器进入 Alpha 阶段</h2>
<p>This Kotlin release introduces the <strong>Alpha</strong> version of the new Kotlin K2 compiler. The new compiler aims to speed up
the development of new language features, unify all of the platforms Kotlin supports, bring performance improvements, and
provide an API for compiler extensions.</p>
<p>We've already published some detailed explanations of our new compiler and its benefits:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=iTdJJq_LyoY" target="_blank">The Road to the New Kotlin Compiler</a></li>
<li><a href="https://www.youtube.com/watch?v=db19VFLZqJM" target="_blank">K2 Compiler: a Top-Down View</a></li>
</ul>
<p>It's important to point out that with the Alpha version of the new K2 compiler we were primarily focused on performance
improvements, and it only works with JVM projects. It doesn't support Kotlin/JS, Kotlin/Native, or other multi-platform
projects, and none of compiler plugins, including <a href="kapt.html">kapt</a>, work with it.</p>
<p>Our benchmarks show some outstanding results on our internal projects:</p>
<table>
<thead>
<tr>
<th>Project</th>
<th>Current Kotlin compiler performance</th>
<th>New K2 Kotlin compiler performance</th>
<th>Performance boost</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kotlin</td>
<td>2.2 KLOC/s</td>
<td>4.8 KLOC/s</td>
<td>~ x2.2</td>
</tr>
<tr>
<td>YouTrack</td>
<td>1.8 KLOC/s</td>
<td>4.2 KLOC/s</td>
<td>~ x2.3</td>
</tr>
<tr>
<td>IntelliJ IDEA</td>
<td>1.8 KLOC/s</td>
<td>3.9 KLOC/s</td>
<td>~ x2.2</td>
</tr>
<tr>
<td>Space</td>
<td>1.2 KLOC/s</td>
<td>2.8 KLOC/s</td>
<td>~ x2.3</td>
</tr>
</tbody>
</table>
<blockquote>
<p>The KLOC/s performance numbers stand for the number of thousands of lines of code that the compiler processes per
second.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<p>You can check out the performance boost on your JVM projects and compare it with the results of the old compiler. To
enable the Kotlin K2 compiler, use the following compiler option:</p>
<pre><code class="lang-bash">-Xuse-k2
</code></pre>
<p>Also, the K2 compiler <a href="https://youtrack.jetbrains.com/issues/KT?q=tag:%20FIR-preview-qa%20%23Resolved" target="_blank">includes a number of bugfixes</a>.
Please note that even issues with <strong>State: Open</strong> from this list are in fact fixed in K2.</p>
<p>The next Kotlin releases will improve the stability of the K2 compiler and provide more features, so stay tuned!</p>
<p>If you face any performance issues with the Kotlin K2 compiler, please <a href="https://kotl.in/issue" target="_blank">report them to our issue tracker</a>.</p>
<h2 id="语言">语言</h2>
<p>Kotlin 1.7.0 introduces support for implementation by delegation and a new underscore operator for type arguments. It
also stabilizes several language features introduced as previews in previous releases:</p>
<ul>
<li><a href="#内联类的内联值可以通过委托来实现">用委托实现内联类的内联值</a></li>
<li><a href="#下划线操作符用于类型参数">下划线操作符用于类型参数</a></li>
<li><a href="#稳定版构建器推断">稳定版构建器推断</a></li>
<li><a href="#稳定版选择加入要求">稳定版选择加入要求</a></li>
<li><a href="#稳定版绝对不可空类型">稳定版绝对不可空类型</a></li>
</ul>
<h3 id="内联类的内联值可以通过委托来实现">内联类的内联值可以通过委托来实现</h3>
<p>If you want to create a lightweight wrapper for a value or class instance, it's necessary to implement all interface
methods by hand. Implementation by delegation solves this issue, but it did not work with inline classes before 1.7.0.
This restriction has been removed, so you can now create lightweight wrappers that do not allocate memory in most cases.</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Bar</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span> = <span class="hljs-string">"foo"</span>
}

<span class="hljs-meta">@JvmInline</span>
value <span class="hljs-keyword">class</span> <span class="hljs-title class_">BarWrapper</span>(<span class="hljs-keyword">val</span> bar: Bar): Bar <span class="hljs-keyword">by</span> bar

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> bw = BarWrapper(<span class="hljs-keyword">object</span>: Bar {})
    println(bw.foo())
}
</code></pre>
<h3 id="下划线操作符用于类型参数">下划线操作符用于类型参数</h3>
<p>Kotlin 1.7.0 introduces an underscore operator, <code>_</code>, for type arguments. You can use it to automatically infer a type
argument when other types are specified:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SomeClass</span>&lt;<span class="hljs-type">T</span>&gt; {
    <span class="hljs-keyword">abstract</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span>: T
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">SomeImplementation</span> : <span class="hljs-type">SomeClass</span>&lt;<span class="hljs-type">String</span>&gt;() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span>: String = <span class="hljs-string">"Test"</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">OtherImplementation</span> : <span class="hljs-type">SomeClass</span>&lt;<span class="hljs-type">Int</span>&gt;() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> = <span class="hljs-number">42</span>
}

<span class="hljs-keyword">object</span> Runner {
    <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;<span class="hljs-keyword">reified</span> S: SomeClass&lt;T&gt;</span>, T&gt; <span class="hljs-title">run</span><span class="hljs-params">()</span></span>: T {
        <span class="hljs-keyword">return</span> S::<span class="hljs-keyword">class</span>.java.getDeclaredConstructor().newInstance().execute()
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// T is inferred as String because SomeImplementation derives from SomeClass&lt;String&gt;</span>
    <span class="hljs-keyword">val</span> s = Runner.run&lt;SomeImplementation, _&gt;()
    assert(s == <span class="hljs-string">"Test"</span>)

    <span class="hljs-comment">// T is inferred as Int because OtherImplementation derives from SomeClass&lt;Int&gt;</span>
    <span class="hljs-keyword">val</span> n = Runner.run&lt;OtherImplementation, _&gt;()
    assert(n == <span class="hljs-number">42</span>)
}
</code></pre>
<blockquote>
<p>You can use the underscore operator in any position in the variables list to infer a type argument.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h3 id="稳定版构建器推断">稳定版构建器推断</h3>
<p>Builder inference is a special kind of type inference that is useful when calling generic builder functions. It helps
the compiler infer the type arguments of a call using the type information about other calls inside its lambda argument.</p>
<p>Starting with 1.7.0, builder inference is automatically activated if a regular type inference cannot get enough
information about a type without specifying the <code>-Xenable-builder-inference</code> compiler option, which
was <a href="whatsnew16.html#构建器类型推断变更">introduced in 1.6.0</a>.</p>
<p><a href="using-builders-with-builder-inference.html">Learn how to write custom generic builders</a>.</p>
<h3 id="稳定版选择加入要求">稳定版选择加入要求</h3>
<p><a href="opt-in-requirements.html">Opt-in requirements</a> are now <a href="components-stability.html">Stable</a> and do not require
additional compiler configuration.</p>
<p>Before 1.7.0, the opt-in feature itself required the argument <code>-opt-in=kotlin.RequiresOptIn</code> to avoid a warning. It no
longer requires this; however, you can still use the compiler argument <code>-opt-in</code> to opt-in for other
annotations, <a href="opt-in-requirements.html#opt-in-a-module">a module</a>.</p>
<h3 id="稳定版绝对不可空类型">稳定版绝对不可空类型</h3>
<p>In Kotlin 1.7.0, definitely non-nullable types have been promoted to <a href="components-stability.html">Stable</a>. They provide
better interoperability when extending generic Java classes and interfaces.</p>
<p>You can mark a generic type parameter as definitely non-nullable at the use site with the new syntax <code>T &amp; Any</code>. The
syntactic form comes from the notation for <a href="https://en.wikipedia.org/wiki/Intersection_type" target="_blank">intersection types</a> and is
now limited to a type parameter with nullable upper bounds on the left side of <code>&amp;</code> and a non-nullable <code>Any</code> on the right
side:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">elvisLike</span><span class="hljs-params">(x: <span class="hljs-type">T</span>, y: <span class="hljs-type">T</span> &amp; <span class="hljs-type">Any</span>)</span></span>: T &amp; Any = x ?: y

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// OK</span>
    elvisLike&lt;String&gt;(<span class="hljs-string">""</span>, <span class="hljs-string">""</span>).length
    <span class="hljs-comment">// Error: 'null' cannot be a value of a non-null type</span>
    elvisLike&lt;String&gt;(<span class="hljs-string">""</span>, <span class="hljs-literal">null</span>).length

    <span class="hljs-comment">// OK</span>
    elvisLike&lt;String?&gt;(<span class="hljs-literal">null</span>, <span class="hljs-string">""</span>).length
    <span class="hljs-comment">// Error: 'null' cannot be a value of a non-null type</span>
    elvisLike&lt;String?&gt;(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>).length
}
</code></pre>
<p>Learn more about definitely non-nullable types
in <a href="https://github.com/Kotlin/KEEP/blob/master/proposals/definitely-non-nullable-types.md" target="_blank">this KEEP</a>.</p>
<h2 id="kotlinjvm">Kotlin/JVM</h2>
<p>This release brings performance improvements for the Kotlin/JVM compiler and a new compiler option. Additionally,
callable references to functional interface constructors have become Stable. Note that since 1.7.0, the default target
version for Kotlin/JVM compilations is <code>1.8</code>.</p>
<ul>
<li><a href="#编译器性能优化">编译器性能优化</a></li>
<li><a href="#新增编译器选项：-xjdk-release">新增编译器选项 <code>-Xjdk-release</code></a></li>
<li><a href="#稳定版函数式接口构造函数的可调用引用">稳定版函数式接口构造函数的可调用引用</a></li>
<li><a href="#删除了-jvm-目标平台版本-16">删除了 JVM 目标平台版本 1.6</a></li>
</ul>
<h3 id="编译器性能优化">编译器性能优化</h3>
<p>Kotlin 1.7.0 introduces performance improvements for the Kotlin/JVM compiler. According to our benchmarks, compilation
time has been <a href="https://youtrack.jetbrains.com/issue/KT-48233/Switching-to-JVM-IR-backend-increases-compilation-time-by-more-t#focus=Comments-27-6114542.0-0" target="_blank">reduced by 10% on average</a>
compared to Kotlin 1.6.0. Projects with lots of usages of inline functions, for
example, <a href="https://youtrack.jetbrains.com/issue/KT-51416/Compilation-of-kotlinx-html-DSL-should-still-be-faster" target="_blank">projects using <code>kotlinx.html</code></a>,
will compile faster thanks to the improvements to the bytecode postprocessing.</p>
<h3 id="新增编译器选项：-xjdk-release">新增编译器选项：-Xjdk-release</h3>
<p>Kotlin 1.7.0 presents a new compiler option, <code>-Xjdk-release</code>. This option is similar to
the <a href="http://openjdk.java.net/jeps/247" target="_blank">javac's command-line <code>--release</code> option</a>. The <code>-Xjdk-release</code> option controls the
target bytecode version and limits the API of the JDK in the classpath to the specified Java version. For
example, <code>kotlinc -Xjdk-release=1.8</code> won't allow referencing <code>java.lang.Module</code> even if the JDK in the dependencies is
version 9 or higher.</p>
<blockquote>
<p>This option is <a href="https://youtrack.jetbrains.com/issue/KT-29974" target="_blank">not guaranteed</a> to be effective for each JDK distribution.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>Please leave your feedback
on <a href="https://youtrack.jetbrains.com/issue/KT-29974/Add-a-compiler-option-Xjdk-release-similar-to-javac-s-release-to" target="_blank">this YouTrack ticket</a>.</p>
<h3 id="稳定版函数式接口构造函数的可调用引用">稳定版函数式接口构造函数的可调用引用</h3>
<p><a href="reflection.html#可调用引用">Callable references</a> to functional interface constructors are
now <a href="components-stability.html">Stable</a>. Learn how
to <a href="fun-interfaces.html#migration-from-an-interface-with-constructor-function-to-a-functional-interface">migrate</a>
from an interface with a constructor function to a functional interface using callable references.</p>
<p>Please report any issues you find in <a href="https://youtrack.jetbrains.com/newissue?project=kt" target="_blank">YouTrack</a>.</p>
<h3 id="删除了-jvm-目标平台版本-16">删除了 JVM 目标平台版本 1.6</h3>
<p>The default target version for Kotlin/JVM compilations is <code>1.8</code>. The <code>1.6</code> target has been removed.</p>
<p>Please migrate to JVM target 1.8 or above. Learn how to update the JVM target version for:</p>
<ul>
<li><a href="gradle-compiler-options.html#jvm-特有的属性">Gradle</a></li>
<li><a href="maven.html#jvm-特有的属性">Maven</a></li>
<li><a href="compiler-reference.html#jvm-target-version">The command-line compiler</a></li>
</ul>
<h2 id="kotlinnative">Kotlin/Native</h2>
<p>Kotlin 1.7.0 includes changes to Objective-C and Swift interoperability and stabilizes features that were introduced in
previous releases. It also brings performance improvements for the new memory manager along with other updates:</p>
<ul>
<li><a href="#新版内存管理器的性能改进">新版内存管理器的性能改进</a></li>
<li><a href="#与-jvm-及-js-ir-后端统一编译器插件-abi">与 JVM 及 JS IR 后端统一编译器插件 ABI</a></li>
<li><a href="#支持独立的-android-可执行文件">支持独立的 Android 可执行文件</a></li>
<li><a href="#与-swift-asyncawait-互操作：返回-void-而不是-kotlinunit">与 Swift async/await 互操作：返回 <code>Void</code> 而不是 <code>KotlinUnit</code></a></li>
<li><a href="#通过-objective-c-桥接禁止未声明的异常">通过 Objective-C 桥接禁止未声明的异常</a></li>
<li><a href="#改进了-cocoapods-集成">改进了 CocoaPods 集成</a></li>
<li><a href="#覆盖了-kotlinnative-编译器下载-url">覆盖了 Kotlin/Native 编译器下载 URL</a></li>
</ul>
<h3 id="新版内存管理器的性能改进">新版内存管理器的性能改进</h3>
<blockquote>
<p>The new Kotlin/Native memory manager is in <a href="components-stability.html">Alpha</a>.
It may change incompatibly and require manual migration in the future.
We would appreciate your feedback in <a href="https://youtrack.jetbrains.com/issue/KT-48525" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>The new memory manager is still in Alpha, but it is on its way to becoming <a href="components-stability.html">Stable</a>.
This release delivers significant performance improvements for the new memory manager, especially in garbage
collection (GC). In particular, concurrent implementation of the sweep phase, <a href="whatsnew1620.html">introduced in 1.6.20</a>,
is now enabled by default. This helps reduce the time the application is paused for GC. The new GC scheduler is better
at choosing the GC frequency, especially for larger heaps.</p>
<p>Also, we've specifically optimized debug binaries, ensuring that the proper optimization level and link-time
optimizations are used in the implementation code of the memory manager. This helped us improve execution time by
roughly 30% for debug binaries on our benchmarks.</p>
<p>Try using the new memory manager in your projects to see how it works, and share your feedback with us
in <a href="https://youtrack.jetbrains.com/issue/KT-48525" target="_blank">YouTrack</a>.</p>
<h3 id="与-jvm-及-js-ir-后端统一编译器插件-abi">与 JVM 及 JS IR 后端统一编译器插件 ABI</h3>
<p>Starting with Kotlin 1.7.0, the Kotlin Multiplatform Gradle plugin uses the embeddable compiler jar for Kotlin/Native by
default. This <a href="whatsnew16.html#与-jvm-及-js-ir-后端统一编译器插件-abi">feature was announced in 1.6.0</a> as
Experimental, and now it's Stable and ready to use.</p>
<p>This improvement is very handy for library authors, as it improves the compiler plugin development experience. Before
this release, you had to provide separate artifacts for Kotlin/Native, but now you can use the same compiler plugin
artifacts for Native and other supported platforms.</p>
<blockquote>
<p>This feature might require plugin developers to take migration steps for their existing plugins.</p>
<p>Learn how to prepare your plugin for the update in
this <a href="https://youtrack.jetbrains.com/issue/KT-48595" target="_blank">YouTrack issue</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<h3 id="支持独立的-android-可执行文件">支持独立的 Android 可执行文件</h3>
<p>Kotlin 1.7.0 provides full support for generating standard executables for Android Native targets.
It was <a href="whatsnew1620.html#支持独立的-android-可执行文件">introduced in 1.6.20</a>, and now it's enabled
by default.</p>
<p>If you want to roll back to the previous behavior when Kotlin/Native generated shared libraries, use the following
setting:</p>
<pre><code class="lang-kotlin">binaryOptions[<span class="hljs-string">"androidProgramType"</span>] = <span class="hljs-string">"nativeActivity"</span>
</code></pre>
<h3 id="与-swift-asyncawait-互操作：返回-void-而不是-kotlinunit">与 Swift async/await 互操作：返回 Void 而不是 KotlinUnit</h3>
<p>Kotlin <code>suspend</code> functions now return the <code>Void</code> type instead of <code>KotlinUnit</code> in Swift. This is the result of the
improved interop with Swift's <code>async</code>/<code>await</code>. This feature
was <a href="whatsnew1620.html#与-swift-asyncawait-互操作：返回-void-而不是-kotlinunit">introduced in 1.6.20</a>,
and this release enables this behavior by default.</p>
<p>You don't need to use the <code>kotlin.native.binary.unitSuspendFunctionObjCExport=proper</code> property anymore to return the
proper type for such functions.</p>
<h3 id="通过-objective-c-桥接禁止未声明的异常">通过 Objective-C 桥接禁止未声明的异常</h3>
<p>When you call Kotlin code from Swift/Objective-C code (or vice versa) and this code throws an exception, it should be
handled by the code where the exception occurred, unless you specifically allowed the forwarding of exceptions between
languages with proper conversion (for example, using the <code>@Throws</code> annotation).</p>
<p>Previously, Kotlin had another unintended behavior where undeclared exceptions could "leak" from one language to another
in some cases. Kotlin 1.7.0 fixes that issue, and now such cases lead to program termination.</p>
<p>So, for example, if you have a <code>{ throw Exception() }</code> lambda in Kotlin and call it from Swift, in Kotlin 1.7.0 it will
terminate as soon as the exception reaches the Swift code. In previous Kotlin versions, such an exception could leak to
the Swift code.</p>
<p>The <code>@Throws</code> annotation continues to work as before.</p>
<h3 id="改进了-cocoapods-集成">改进了 CocoaPods 集成</h3>
<p>Starting with Kotlin 1.7.0, you no longer need to install the <code>cocoapods-generate</code> plugin if you want to integrate
CocoaPods in your projects.</p>
<p>Previously, you needed to install both the CocoaPods dependency manager and the <code>cocoapods-generate</code> plugin to use
CocoaPods, for example, to handle <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-ios-dependencies.html#with-cocoapods" target="_blank">iOS dependencies</a> in
Kotlin Multiplatform Mobile projects.</p>
<p>Now setting up the CocoaPods integration is easier, and we've resolved the issue when <code>cocoapods-generate</code> couldn't be
installed on Ruby 3 and later. Now the newest Ruby versions that work better on Apple M1 are also supported.</p>
<p>See how to set up
the <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-cocoapods-overview.html#set-up-an-environment-to-work-with-cocoapods" target="_blank">initial CocoaPods integration</a>.</p>
<h3 id="覆盖了-kotlinnative-编译器下载-url">覆盖了 Kotlin/Native 编译器下载 URL</h3>
<p>Starting with Kotlin 1.7.0, you can customize the download URL for the Kotlin/Native compiler. This is useful when
external links on the CI are forbidden.</p>
<p>To override the default base URL <code>https://download.jetbrains.com/kotlin/native/builds</code>, use the following Gradle
property:</p>
<pre><code>kotlin.native.distribution.baseDownloadUrl=https://example.com
</code></pre><blockquote>
<p>The downloader will append the native version and target OS to this base URL to ensure it downloads the actual
compiler distribution.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h2 id="kotlinjs">Kotlin/JS</h2>
<p>Kotlin/JS is receiving further improvements to the <a href="js-ir-compiler.html">JS IR compiler backend</a> along with other updates
that can make your development experience better:</p>
<ul>
<li><a href="#新版-ir-后端的性能改进">新版 IR 后端的性能改进</a></li>
<li><a href="#使用-ir-时的成员名缩短">使用 IR 时的成员名缩短</a></li>
<li><a href="#通过-ir-后端的-polyfill-支持旧版浏览器">通过 IR 后端的 polyfill 支持旧版浏览器</a></li>
<li><a href="#从-js-表达式动态加载-javascript-模块">从 js 表达式动态加载 JavaScript 模块</a></li>
<li><a href="#为-javascript-测试运行器指定环境变量">为 JavaScript 测试运行器指定环境变量</a></li>
</ul>
<h3 id="新版-ir-后端的性能改进">新版 IR 后端的性能改进</h3>
<p>This release has some major updates that should improve your development experience:</p>
<ul>
<li>Incremental compilation performance of Kotlin/JS has been significantly improved. It takes less time to build your JS
projects. Incremental rebuilds should now be roughly on par with the legacy backend in many cases now.</li>
<li>The Kotlin/JS final bundle requires less space, as we have significantly reduced the size of the final artifacts.
We've measured up to a 20% reduction in the production bundle size compared to the legacy backend for some large
projects.</li>
<li>Type checking for interfaces has been improved by orders of magnitude.</li>
<li>Kotlin generates higher-quality JS code</li>
</ul>
<h3 id="使用-ir-时的成员名缩短">使用 IR 时的成员名缩短</h3>
<p>The Kotlin/JS IR compiler now uses its internal information about the relationships of your Kotlin classes and functions
to apply more efficient minification, shortening the names of functions, properties, and classes. This shrinks the
resulting bundled applications.</p>
<p>This type of minification is automatically applied when you build your Kotlin/JS application in production mode and is
enabled by default. To disable member name minification, use the <code>-Xir-minimized-member-names</code> compiler flag:</p>
<pre><code class="lang-kotlin">kotlin {
    js(IR) {
        compilations.all {
            compileKotlinTask.kotlinOptions.freeCompilerArgs += listOf(<span class="hljs-string">"-Xir-minimized-member-names=false"</span>)
        }
    }
}
</code></pre>
<h3 id="通过-ir-后端的-polyfill-支持旧版浏览器">通过 IR 后端的 polyfill 支持旧版浏览器</h3>
<p>The IR compiler backend for Kotlin/JS now includes the same polyfills as the legacy backend. This allows code compiled
with the new compiler to run in older browsers that do not support all the methods from ES2015 used by the Kotlin
standard library. Only those polyfills actually used by the project are included in the final bundle, which minimizes
their potential impact on the bundle size.</p>
<p>This feature is enabled by default when using the IR compiler, and you don't need to configure it.</p>
<h3 id="从-js-表达式动态加载-javascript-模块">从 js 表达式动态加载 JavaScript 模块</h3>
<p>When working with the JavaScript modules, most applications use static imports, whose use is covered with
the <a href="js-modules.html">JavaScript module integration</a>. However, Kotlin/JS was missing a mechanism to load JavaScript
modules dynamically at runtime in your applications.</p>
<p>Starting with Kotlin 1.7.0, the <code>import</code> statement from JavaScript is supported in <code>js</code> blocks, allowing you to
dynamically bring packages into your application at runtime:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> myPackage = js(<span class="hljs-string">"import('my-package')"</span>)
</code></pre>
<h3 id="为-javascript-测试运行器指定环境变量">为 JavaScript 测试运行器指定环境变量</h3>
<p>To tune Node.js package resolution or pass external information to Node.js tests, you can now specify environment
variables used by the JavaScript test runners. To define an environment variable, use the <code>environment()</code> function with
a key-value pair inside the <code>testTask</code> block in your build script:</p>
<pre><code class="lang-kotlin">kotlin {
    js {
        nodejs {
            testTask {
                environment(<span class="hljs-string">"key"</span>, <span class="hljs-string">"value"</span>)
            }
        }
    }
}
</code></pre>
<h2 id="标准库">标准库</h2>
<p>In Kotlin 1.7.0, the standard library has received a range of changes and improvements. They introduce new features,
stabilize experimental ones, and unify support for named capturing groups for Native, JS, and the JVM:</p>
<ul>
<li><a href="#集合函数-min-与-max-返回不可空值">集合函数 min() 与 max() 返回不可空值</a></li>
<li><a href="#指定索引位置的正则表达式匹配">指定索引位置的正则表达式匹配</a></li>
<li><a href="#对以前语言与-api-版本的扩展支持">对以前语言与 API 版本的扩展支持</a></li>
<li><a href="#通过反射访问注解">通过反射访问注解</a></li>
<li><a href="#稳定版深递归函数">稳定版深递归函数</a></li>
<li><a href="#默认时间源的时间标记基于内联类">默认时间源的时间标记基于内联类</a></li>
<li><a href="#java-optional-的新实验性扩展函数">Java Optional 的新实验性扩展函数</a></li>
<li><a href="#在-js-与-native-平台支持命名捕获">在 JS 与 Native 平台支持命名捕获</a></li>
</ul>
<h3 id="集合函数-min-与-max-返回不可空值">集合函数 min() 与 max() 返回不可空值</h3>
<p>In <a href="whatsnew14.html">Kotlin 1.4.0</a>, we renamed the <code>min()</code> and <code>max()</code> collection functions to <code>minOrNull()</code>
and <code>maxOrNull()</code>. These new names better reflect their behavior – returning null if the receiver collection is empty.
It also helped align the functions' behavior with naming conventions used throughout the Kotlin collections API.</p>
<p>The same was true of <code>minBy()</code>, <code>maxBy()</code>, <code>minWith()</code>, and <code>maxWith()</code>, which all got their *OrNull() synonyms in
Kotlin 1.4.0. Older functions affected by this change were gradually deprecated.</p>
<p>Kotlin 1.7.0 reintroduces the original function names, but with a non-nullable return type. The new <code>min()</code>, <code>max()</code>
, <code>minBy()</code>, <code>maxBy()</code>, <code>minWith()</code>, and <code>maxWith()</code> functions now strictly return the collection element or throw an
exception.</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> numbers = listOf&lt;<span class="hljs-built_in">Int</span>&gt;()
    println(numbers.maxOrNull()) <span class="hljs-comment">// "null"</span>
    println(numbers.max()) <span class="hljs-comment">// "Exception in... Collection is empty."</span>
}
</code></pre>
<h3 id="指定索引位置的正则表达式匹配">指定索引位置的正则表达式匹配</h3>
<p>The <code>Regex.matchAt()</code> and <code>Regex.matchesAt()</code>
functions, <a href="whatsnew1530.html#在特定位置匹配-regex">introduced in 1.5.30</a>, are now Stable. They
provide a way to check whether a regular expression has an exact match at a particular position in a <code>String</code>
or <code>CharSequence</code>.</p>
<p><code>matchesAt()</code> checks for a match and returns a boolean result:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> releaseText = <span class="hljs-string">"Kotlin 1.7.0 is on its way!"</span>
    <span class="hljs-comment">// regular expression: one digit, dot, one digit, dot, one or more digits</span>
    <span class="hljs-keyword">val</span> versionRegex = <span class="hljs-string">"\\d[.]\\d[.]\\d+"</span>.toRegex()

    println(versionRegex.matchesAt(releaseText, <span class="hljs-number">0</span>)) <span class="hljs-comment">// "false"</span>
    println(versionRegex.matchesAt(releaseText, <span class="hljs-number">7</span>)) <span class="hljs-comment">// "true"</span>
}
</code></pre>
<p><code>matchAt()</code> returns the match if it's found, or <code>null</code> if it isn't:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> releaseText = <span class="hljs-string">"Kotlin 1.7.0 is on its way!"</span>
    <span class="hljs-keyword">val</span> versionRegex = <span class="hljs-string">"\\d[.]\\d[.]\\d+"</span>.toRegex()

    println(versionRegex.matchAt(releaseText, <span class="hljs-number">0</span>)) <span class="hljs-comment">// "null"</span>
    println(versionRegex.matchAt(releaseText, <span class="hljs-number">7</span>)?.value) <span class="hljs-comment">// "1.7.0"</span>
}
</code></pre>
<p>We'd be grateful for your feedback on this <a href="https://youtrack.jetbrains.com/issue/KT-34021" target="_blank">YouTrack issue</a>.</p>
<h3 id="对以前语言与-api-版本的扩展支持">对以前语言与 API 版本的扩展支持</h3>
<p>To support library authors developing libraries that are meant to be consumable in a wide range of previous Kotlin
versions, and to address the increased frequency of major Kotlin releases, we have extended our support for previous
language and API versions.</p>
<p>With Kotlin 1.7.0, we're supporting three previous language and API versions rather than two. This means Kotlin 1.7.0
supports the development of libraries targeting Kotlin versions down to 1.4.0. For more information on backward
compatibility, see <a href="compatibility-modes.html">Compatibility modes</a>.</p>
<h3 id="通过反射访问注解">通过反射访问注解</h3>
<p>The <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/find-annotations.html" target="_blank"><code>KAnnotatedElement.findAnnotations()</code></a>
extension function, which was first <a href="whatsnew16.html#18-jvm-目标平台中运行时保留的可重复注解">introduced in 1.6.0</a>,
is now <a href="components-stability.html">Stable</a>. This <a href="reflection.html">reflection</a>
function returns all annotations of a given type on an element, including individually applied and repeated annotations.</p>
<pre><code class="lang-kotlin"><span class="hljs-meta">@Repeatable</span>
<span class="hljs-keyword">annotation</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Tag</span>(<span class="hljs-keyword">val</span> name: String)

<span class="hljs-meta">@Tag(<span class="hljs-string">"First Tag"</span>)</span>
<span class="hljs-meta">@Tag(<span class="hljs-string">"Second Tag"</span>)</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">taggedFunction</span><span class="hljs-params">()</span></span> {
    println(<span class="hljs-string">"I'm a tagged function!"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> x = ::taggedFunction
    <span class="hljs-keyword">val</span> foo = x <span class="hljs-keyword">as</span> KAnnotatedElement
    println(foo.findAnnotations&lt;Tag&gt;()) <span class="hljs-comment">// [@Tag(name=First Tag), @Tag(name=Second Tag)]</span>
}
</code></pre>
<h3 id="稳定版深递归函数">稳定版深递归函数</h3>
<p>Deep recursive functions have been available as an experimental feature
since <a href="https://blog.jetbrains.com/kotlin/2020/07/kotlin-1-4-rc-debugging-coroutines/#Defining_deep_recursive_functions_using_coroutines" target="_blank">Kotlin 1.4.0</a>,
and they are now <a href="components-stability.html">Stable</a> in Kotlin 1.7.0. Using <code>DeepRecursiveFunction</code>, you can define a
function that keeps its stack on the heap instead of using the actual call stack. This allows you to run very deep
recursive computations. To call a deep recursive function, <code>invoke</code> it.</p>
<p>In this example, a deep recursive function is used to calculate the depth of a binary tree recursively. Even though this
sample function calls itself recursively 100,000 times, no <code>StackOverflowError</code> is thrown:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tree</span>(<span class="hljs-keyword">val</span> left: Tree?, <span class="hljs-keyword">val</span> right: Tree?)

<span class="hljs-keyword">val</span> calculateDepth = DeepRecursiveFunction&lt;Tree?, <span class="hljs-built_in">Int</span>&gt; { t -&gt;
    <span class="hljs-keyword">if</span> (t == <span class="hljs-literal">null</span>) <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> maxOf(
        callRecursive(t.left),
        callRecursive(t.right)
    ) + <span class="hljs-number">1</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// Generate a tree with a depth of 100_000</span>
    <span class="hljs-keyword">val</span> deepTree = generateSequence(Tree(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>)) { prev -&gt;
        Tree(prev, <span class="hljs-literal">null</span>)
    }.take(<span class="hljs-number">100_000</span>).last()

    println(calculateDepth(deepTree)) <span class="hljs-comment">// 100000</span>
}
</code></pre>
<p>Consider using deep recursive functions in your code where your recursion depth exceeds 1000 calls.</p>
<h3 id="默认时间源的时间标记基于内联类">默认时间源的时间标记基于内联类</h3>
<p>Kotlin 1.7.0 improves the performance of time measurement functionality by changing the time marks returned
by <code>TimeSource.Monotonic</code> into inline value classes. This means that calling functions like <code>markNow()</code>, <code>elapsedNow()</code>
, <code>measureTime()</code>, and <code>measureTimedValue()</code> doesn't allocate wrapper classes for their <code>TimeMark</code> instances. Especially
when measuring a piece of code that is part of a hot path, this can help minimize the performance impact of the
measurement:</p>
<pre><code class="lang-kotlin"><span class="hljs-meta">@OptIn(ExperimentalTime::class)</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> mark = TimeSource.Monotonic.markNow() <span class="hljs-comment">// Returned `TimeMark` is inline class</span>
    <span class="hljs-keyword">val</span> elapsedDuration = mark.elapsedNow()
}
</code></pre>
<blockquote>
<p>This optimization is only available if the time source from which the <code>TimeMark</code> is obtained is statically known to
be <code>TimeSource.Monotonic</code>.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h3 id="java-optional-的新实验性扩展函数">Java Optional 的新实验性扩展函数</h3>
<p>Kotlin 1.7.0 comes with new convenience functions that simplify working with <code>Optional</code> classes in Java. These new
functions can be used to unwrap and convert optional objects on the JVM and help make working with Java APIs more
concise.</p>
<p>The <code>getOrNull()</code>, <code>getOrDefault()</code>, and <code>getOrElse()</code> extension functions allow you to get the value of an <code>Optional</code>
if it's present. Otherwise, you get <code>null</code>, a default value, or a value returned by a function, respectively:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> presentOptional = Optional.of(<span class="hljs-string">"I'm here!"</span>)

println(presentOptional.getOrNull())
<span class="hljs-comment">// "I'm here!"</span>

<span class="hljs-keyword">val</span> absentOptional = Optional.empty&lt;String&gt;()

println(absentOptional.getOrNull())
<span class="hljs-comment">// null</span>
println(absentOptional.getOrDefault(<span class="hljs-string">"Nobody here!"</span>))
<span class="hljs-comment">// "Nobody here!"</span>
println(absentOptional.getOrElse {
    println(<span class="hljs-string">"Optional was absent!"</span>)
    <span class="hljs-string">"Default value!"</span>
})
<span class="hljs-comment">// "Optional was absent!"</span>
<span class="hljs-comment">// "Default value!"</span>
</code></pre>
<p>The <code>toList()</code>, <code>toSet()</code>, and <code>asSequence()</code> extension functions convert the value of a present <code>Optional</code> to a list,
set, or sequence, or return an empty collection otherwise. The <code>toCollection()</code> extension function appends
the <code>Optional</code> value to an already existing destination collection:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> presentOptional = Optional.of(<span class="hljs-string">"I'm here!"</span>)
<span class="hljs-keyword">val</span> absentOptional = Optional.empty&lt;String&gt;()
println(presentOptional.toList() + <span class="hljs-string">","</span> + absentOptional.toList())
<span class="hljs-comment">// ["I'm here!"], []</span>
println(presentOptional.toSet() + <span class="hljs-string">","</span> + absentOptional.toSet())
<span class="hljs-comment">// ["I'm here!"], []</span>
<span class="hljs-keyword">val</span> myCollection = mutableListOf&lt;String&gt;()
absentOptional.toCollection(myCollection)
println(myCollection)
<span class="hljs-comment">// []</span>
presentOptional.toCollection(myCollection)
println(myCollection)
<span class="hljs-comment">// ["I'm here!"]</span>
<span class="hljs-keyword">val</span> list = listOf(presentOptional, absentOptional).flatMap { it.asSequence() }
println(list)
<span class="hljs-comment">// ["I'm here!"]</span>
</code></pre>
<p>These extension functions are being introduced as Experimental in Kotlin 1.7.0. You can learn more about <code>Optional</code>
extensions in <a href="https://github.com/Kotlin/KEEP/pull/291" target="_blank">this KEEP</a>. As always, we welcome your feedback in
the <a href="https://kotl.in/issue" target="_blank">Kotlin issue tracker</a>.</p>
<h3 id="在-js-与-native-平台支持命名捕获">在 JS 与 Native 平台支持命名捕获</h3>
<p>Starting with Kotlin 1.7.0, named capturing groups are supported not only on the JVM, but on the JS and Native platforms
as well.</p>
<p>To give a name to a capturing group, use the (<code>?&lt;name&gt;group</code>) syntax in your regular expression. To get the text matched
by a group, call the newly introduced <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/get.html" target="_blank"><code>MatchGroupCollection.get()</code></a>
function and pass the group name.</p>
<h4 id="按名称取回匹配分组的值">按名称取回匹配分组的值</h4>
<p>Consider this example for matching city coordinates. To get a collection of groups matched by the regular expression,
use <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-match-result/groups.html" target="_blank"><code>groups</code></a>. Compare retrieving a
group's contents by its number (index) and by its name using <code>value</code>:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> regex = <span class="hljs-string">"\\b(?&lt;city&gt;[A-Za-z\\s]+),\\s(?&lt;state&gt;[A-Z]{2}):\\s(?&lt;areaCode&gt;[0-9]{3})\\b"</span>.toRegex()
    <span class="hljs-keyword">val</span> input = <span class="hljs-string">"Coordinates: Austin, TX: 123"</span>
    <span class="hljs-keyword">val</span> match = regex.find(input)!!
    println(match.groups[<span class="hljs-string">"city"</span>]?.value) <span class="hljs-comment">// "Austin" — by name</span>
    println(match.groups[<span class="hljs-number">2</span>]?.value) <span class="hljs-comment">// "TX" — by number</span>
}
</code></pre>
<h4 id="命名反向引用">命名反向引用</h4>
<p>You can now also use group names when backreferencing groups. Backreferences match the same text that was previously
matched by a capturing group. For this, use the <code>\k&lt;name&gt;</code> syntax in your regular expression:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">backRef</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> regex = <span class="hljs-string">"(?&lt;title&gt;\\w+), yes \\k&lt;title&gt;"</span>.toRegex()
    <span class="hljs-keyword">val</span> match = regex.find(<span class="hljs-string">"Do you copy? Sir, yes Sir!"</span>)!!
    println(match.value) <span class="hljs-comment">// "Sir, yes Sir"</span>
    println(match.groups[<span class="hljs-string">"title"</span>]?.value) <span class="hljs-comment">// "Sir"</span>
}
</code></pre>
<h4 id="替换表达式中的命名分组">替换表达式中的命名分组</h4>
<p>Named group references can be used with replacement expressions. Consider
the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/replace.html" target="_blank"><code>replace()</code></a> function that substitutes all
occurrences of the specified regular expression in the input with a replacement expression, and
the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/replace-first.html" target="_blank"><code>replaceFirst()</code></a> function that
swaps the first match only.</p>
<p>Occurrences of <code>${name}</code> in the replacement string are substituted with the subsequences corresponding to the captured
groups with the specified name. You can compare replacements in group references by name and index:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dateReplace</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> dateRegex = Regex(<span class="hljs-string">"(?&lt;dd&gt;\\d{2})-(?&lt;mm&gt;\\d{2})-(?&lt;yyyy&gt;\\d{4})"</span>)
    <span class="hljs-keyword">val</span> input = <span class="hljs-string">"Date of birth: 27-04-2022"</span>
    println(dateRegex.replace(input, <span class="hljs-string">"\${yyyy}-\${mm}-\${dd}"</span>)) <span class="hljs-comment">// "Date of birth: 2022-04-27" — by name</span>
    println(dateRegex.replace(input, <span class="hljs-string">"\$3-\$2-\$1"</span>)) <span class="hljs-comment">// "Date of birth: 2022-04-27" — by number</span>
}
</code></pre>
<h2 id="gradle">Gradle</h2>
<p>This release introduces new build reports, support for Gradle plugin variants, new statistics in kapt, and a lot more:</p>
<ul>
<li><a href="#增量编译的新方式">增量编译的新方式</a></li>
<li><a href="#kotlin-编译器任务的构建报告">用于跟踪编译器性能的新版构建报告</a></li>
<li><a href="#最低支持版本升级">Gradle 与 Android Gradle 插件最低支持版本的变更</a></li>
<li><a href="#支持-gradle-插件变体">支持 Gradle 插件变体</a></li>
<li><a href="#kotlin-gradle-插件-api-的更新">Kotlin Gradle 插件 API 的更新</a></li>
<li><a href="#通过插件-api-提供了-sam-with-receiver-插件">通过插件 API 提供 sam-with-receiver 插件</a></li>
<li><a href="#编译任务的变更">编译任务的变更</a></li>
<li><a href="#kapt-中每个注解处理器生成文件的统计信息">kapt 中每个注解处理器生成文件的新版统计信息</a></li>
<li><a href="#弃用-kotlincompilerexecutionstrategy-系统属性">弃用 kotlin.compiler.execution.strategy 系统属性</a></li>
<li><a href="#删除弃用的选项、方法与插件">删除弃用的选项、方法与插件</a></li>
</ul>
<h3 id="增量编译的新方式">增量编译的新方式</h3>
<blockquote>
<p>The new approach to incremental compilation is <a href="components-stability.html">Experimental</a>. It may be dropped or changed at any time.
Opt-in is required (see the details below). We encourage you to use it only for evaluation purposes, and we would
appreciate your feedback in <a href="https://youtrack.jetbrains.com/issues/KT" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>In Kotlin 1.7.0, we've reworked incremental compilation for cross-module changes. Now incremental compilation is also
supported for changes made inside dependent non-Kotlin modules, and it is compatible with
the <a href="https://docs.gradle.org/current/userguide/build_cache.html" target="_blank">Gradle build cache</a>. Support for compilation avoidance
has also been improved.</p>
<p>We expect you'll see the most significant benefit of the new approach if you use the build cache or frequently make
changes in non-Kotlin Gradle modules. Our tests for the Kotlin project on the <code>kotlin-gradle-plugin</code> module show an
improvement of greater than 80% for the changes after the cache hit.</p>
<p>To try this new approach, set the following option in your <code>gradle.properties</code>:</p>
<pre><code>kotlin.incremental.useClasspathSnapshot=true
</code></pre><blockquote>
<p>The new approach to incremental compilation is currently available for the JVM backend in the Gradle build system
only.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>Learn how the new approach to incremental compilation is implemented under the hood in
<a href="https://blog.jetbrains.com/kotlin/2022/07/a-new-approach-to-incremental-compilation-in-kotlin/" target="_blank">this blog post</a>.</p>
<p>Our plan is to stabilize this technology and add support for other backends (JS, for instance) and build systems. We'd
appreciate your reports in <a href="https://youtrack.jetbrains.com/issues/KT" target="_blank">YouTrack</a> about any issues or strange behavior you
encounter in this compilation scheme. Thank you!</p>
<p>The Kotlin team is very grateful to <a href="https://github.com/gavra0" target="_blank">Ivan Gavrilovic</a>, <a href="https://github.com/hungvietnguyen" target="_blank">Hung Nguyen</a>,
<a href="https://github.com/melix" target="_blank">Cédric Champeau</a>, and other external contributors for their help.</p>
<h3 id="kotlin-编译器任务的构建报告">Kotlin 编译器任务的构建报告</h3>
<blockquote>
<p>Kotlin build reports are <a href="components-stability.html">Experimental</a>. They may be dropped or changed at any time.
Opt-in is required (see details below). Use them only for evaluation purposes. We appreciate your feedback on them
in <a href="https://youtrack.jetbrains.com/issues/KT" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Kotlin 1.7.0 introduces build reports that help track compiler performance. Reports contain the durations of different
compilation phases and reasons why compilation couldn't be incremental.</p>
<p>Build reports come in handy when you want to investigate issues with compiler tasks, for example:</p>
<ul>
<li>When the Gradle build takes too much time and you want to understand the root cause of the poor performance.</li>
<li>When the compilation time for the same project differs, sometimes taking seconds, sometimes taking minutes.</li>
</ul>
<p>To enable build reports, declare where to save the build report output in <code>gradle.properties</code>:</p>
<pre><code>kotlin.build.report.output=file
</code></pre><p>The following values (and their combinations) are available:</p>
<ul>
<li><code>file</code> saves build reports in a local file.</li>
<li><p><code>build_scan</code> saves build reports in the <code>custom values</code> section of the <a href="https://scans.gradle.com/" target="_blank">build scan</a>.</p>
<blockquote>
<p>The Gradle Enterprise plugin limits the number of custom values and their length. In big projects, some values could
be lost.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>
</blockquote>
</li>
<li><p><code>http</code> posts build reports using HTTP(S). The POST method sends metrics in the JSON format. Data may change from version
to version. You can see the current version of the sent data in the <a href="https://github.com/JetBrains/kotlin/blob/master/libraries/tools/kotlin-gradle-plugin/src/common/kotlin/org/jetbrains/kotlin/gradle/report/data/GradleCompileStatisticsData.kt" target="_blank">Kotlin repository</a>.</p>
</li>
</ul>
<p>There are two common cases that analyzing build reports for long-running compilations can help you resolve:</p>
<ul>
<li>The build wasn't incremental. Analyze the reasons and fix underlying problems.</li>
<li>The build was incremental, but took too much time. Try to reorganize source files — split big files, save separate
classes in different files, refactor large classes, declare top-level functions in different files, and so on.</li>
</ul>
<p>Learn more about new build reports in <a href="https://blog.jetbrains.com/kotlin/2022/06/introducing-kotlin-build-reports/" target="_blank">this blog post</a>.</p>
<p>You are welcome to try using build reports in your infrastructure. If you have any feedback, encounter any issues, or
want to suggest improvements, please don't hesitate to report them in
our <a href="https://youtrack.jetbrains.com/newIssue" target="_blank">issue tracker</a>. Thank you!</p>
<h3 id="最低支持版本升级">最低支持版本升级</h3>
<p>Starting with Kotlin 1.7.0, the minimum supported Gradle version is 6.7.1. We had
to <a href="https://youtrack.jetbrains.com/issue/KT-49733/Bump-minimal-supported-Gradle-version-to-6-7-1" target="_blank">raise the version</a> to
support <a href="#支持-gradle-插件变体">Gradle plugin variants</a> and the new Gradle API. In the future, we should
not have to raise the minimum supported version as often, thanks to the Gradle plugin variants feature.</p>
<p>Also, the minimal supported Android Gradle plugin version is now 3.6.4.</p>
<h3 id="支持-gradle-插件变体">支持 Gradle 插件变体</h3>
<p>Gradle 7.0 introduced a new feature for Gradle plugin authors
— <a href="https://docs.gradle.org/7.0/userguide/implementing_gradle_plugins.html#plugin-with-variants" target="_blank">plugins with variants</a>.
This feature makes it easier to add support for new Gradle features while maintaining compatibility for Gradle versions
below 7.1. Learn more about <a href="https://docs.gradle.org/current/userguide/variant_model.html" target="_blank">variant selection in Gradle</a>.</p>
<p>With Gradle plugin variants, we can ship different Kotlin Gradle plugin variants for different Gradle versions. The goal
is to support the base Kotlin compilation in the <code>main</code> variant, which corresponds to the oldest supported versions of
Gradle. Each variant will have implementations for Gradle features from a corresponding release. The latest variant will
support the widest Gradle feature set. With this approach, we can extend support for older Gradle versions with limited
functionality.</p>
<p>Currently, there are only two variants of the Kotlin Gradle plugin:</p>
<ul>
<li><code>main</code> for Gradle versions 6.7.1–6.9.3</li>
<li><code>gradle70</code> for Gradle versions 7.0 and higher</li>
</ul>
<p>In future Kotlin releases, we may add more.</p>
<p>To check which variant your build uses, enable
the <a href="https://docs.gradle.org/current/userguide/logging.html#sec:choosing_a_log_level" target="_blank"><code>--info</code> log level</a> and find a
string in the output starting with <code>Using Kotlin Gradle plugin</code>, for example, <code>Using Kotlin Gradle plugin main variant</code>.</p>
<blockquote>
<p>Here are workarounds for some known issues with variant selection in Gradle:</p>
<ul>
<li><a href="https://github.com/gradle/gradle/issues/20545" target="_blank">ResolutionStrategy in pluginManagement is not working for plugins with multivariants</a></li>
<li><a href="https://github.com/gradle/gradle/issues/20847" target="_blank">Plugin variants are ignored when a plugin is added as the <code>buildSrc</code> common dependency</a></li>
</ul>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>Leave your feedback
on <a href="https://youtrack.jetbrains.com/issue/KT-49227/Support-Gradle-plugins-variants" target="_blank">this YouTrack ticket</a>.</p>
<h3 id="kotlin-gradle-插件-api-的更新">Kotlin Gradle 插件 API 的更新</h3>
<p>The Kotlin Gradle plugin API artifact has received several improvements:</p>
<ul>
<li>There are new interfaces for Kotlin/JVM and Kotlin/kapt tasks with user-configurable inputs.</li>
<li><p>There is a new <code>KotlinBasePlugin</code> interface that all Kotlin plugins inherit from. Use this interface when you want to
trigger some configuration action whenever any Kotlin Gradle plugin (JVM, JS, Multiplatform, Native, and other
platforms) is applied:</p>
<pre><code class="lang-kotlin">project.plugins.withType&lt;org.jetbrains.kotlin.gradle.plugin.KotlinBasePlugin&gt;() {
    <span class="hljs-comment">// Configure your action here</span>
}
</code></pre>
<p>You can leave your feedback about the <code>KotlinBasePlugin</code>
in <a href="https://youtrack.jetbrains.com/issue/KT-48008/Consider-offering-a-KotlinBasePlugin" target="_blank">this YouTrack ticket</a>.</p>
</li>
<li><p>We've laid the groundwork for the Android Gradle plugin to configure Kotlin compilation within itself, meaning you
won't need to add the Kotlin Android Gradle plugin to your build.
Follow <a href="https://developer.android.com/studio/releases/gradle-plugin" target="_blank">Android Gradle Plugin release announcements</a> to
learn about the added support and try it out!</p>
</li>
</ul>
<h3 id="通过插件-api-提供了-sam-with-receiver-插件">通过插件 API 提供了 sam-with-receiver 插件</h3>
<p>The <a href="sam-with-receiver-plugin.html">sam-with-receiver compiler plugin</a> is now available via
the <a href="https://docs.gradle.org/current/userguide/plugins.html#sec:plugins_block" target="_blank">Gradle plugins DSL</a>:</p>
<pre><code class="lang-kotlin">plugins {
    id(<span class="hljs-string">"org.jetbrains.kotlin.plugin.sam.with.receiver"</span>) version <span class="hljs-string">"<span class="hljs-variable">$kotlin_version</span>"</span>
}
</code></pre>
<h3 id="编译任务的变更">编译任务的变更</h3>
<p>Compile tasks have received lots of changes in this release:</p>
<ul>
<li>Kotlin compile tasks no longer inherit the Gradle <code>AbstractCompile</code> task. They inherit only the <code>DefaultTask</code>.</li>
<li>The <code>AbstractCompile</code> task has the <code>sourceCompatibility</code> and <code>targetCompatibility</code> inputs. Since the <code>AbstractCompile</code>
task is no longer inherited, these inputs are no longer available in Kotlin users' scripts.</li>
<li>The <code>SourceTask.stableSources</code> input is no longer available, and you should use the <code>sources</code> input. <code>setSource(...)</code>
methods are still available.</li>
<li>All compile tasks now use the <code>libraries</code> input for a list of libraries required for compilation. The <code>KotlinCompile</code>
task still has the deprecated Kotlin property <code>classpath</code>, which will be removed in future releases.</li>
<li>Compile tasks still implement the <code>PatternFilterable</code> interface, which allows the filtering of Kotlin sources.
The <code>sourceFilesExtensions</code> input was removed in favor of using <code>PatternFilterable</code> methods.</li>
<li>The deprecated <code>Gradle destinationDir: File</code> output was replaced with the <code>destinationDirectory: DirectoryProperty</code>
output.</li>
<li>The Kotlin/Native <code>AbstractNativeCompile</code> task now inherits the <code>AbstractKotlinCompileTool</code> base class. This is an
initial step toward integrating Kotlin/Native build tools into all the other tools.</li>
</ul>
<p>Please leave your feedback in <a href="https://youtrack.jetbrains.com/issue/KT-32805" target="_blank">this YouTrack ticket</a>.</p>
<h3 id="kapt-中每个注解处理器生成文件的统计信息">kapt 中每个注解处理器生成文件的统计信息</h3>
<p>The <code>kotlin-kapt</code> Gradle plugin
already <a href="https://github.com/JetBrains/kotlin/pull/4280" target="_blank">reports performance statistics for each processor</a>. Starting
with Kotlin 1.7.0, it can also report statistics on the number of generated files for each annotation processor.</p>
<p>This is useful to track if there are unused annotation processors as a part of the build. You can use the generated
report to find modules that trigger unnecessary annotation processors and update the modules to prevent that.</p>
<p>Enable the statistics in two steps:</p>
<ul>
<li><p>Set the <code>showProcessorStats</code> flag to <code>true</code> in your <code>build.gradle.kts</code>:</p>
<pre><code class="lang-kotlin">kapt {
    showProcessorStats = <span class="hljs-literal">true</span>
}
</code></pre>
</li>
<li><p>Set the <code>kapt.verbose</code> Gradle property to <code>true</code> in your <code>gradle.properties</code>:</p>
<pre><code>kapt.verbose=true
</code></pre></li>
</ul>
<blockquote>
<p>You can also enable verbose output via the <a href="kapt.html#use-in-cli">command line option <code>verbose</code></a>.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>The statistics will appear in the logs with the <code>info</code> level. You'll see the <code>Annotation processor stats:</code> line followed
by statistics on the execution time of each annotation processor. After these lines, there will be
the <code>Generated files report:</code> line followed by statistics on the number of generated files for each annotation
processor. For example:</p>
<pre><code class="lang-text">[INFO] Annotation processor stats:
[INFO] org.mapstruct.ap.MappingProcessor: total: 290 ms, init: 1 ms, 3 round(s): 289 ms, 0 ms, 0 ms
[INFO] Generated files report:
[INFO] org.mapstruct.ap.MappingProcessor: total sources: 2, sources per round: 2, 0, 0
</code></pre>
<p>Please leave your feedback
in <a href="https://youtrack.jetbrains.com/issue/KT-51132/KAPT-Support-reporting-the-number-of-generated-files-by-each-ann" target="_blank">this YouTrack ticket</a>.</p>
<h3 id="弃用-kotlincompilerexecutionstrategy-系统属性">弃用 kotlin.compiler.execution.strategy 系统属性</h3>
<p>Kotlin 1.6.20
introduced <a href="whatsnew1620.html#用于定义-kotlin-编译器执行策略的属性">new properties for defining a Kotlin compiler execution strategy</a>.
In Kotlin 1.7.0, a deprecation cycle has started for the old system property <code>kotlin.compiler.execution.strategy</code> in
favor of the new properties.</p>
<p>When using the <code>kotlin.compiler.execution.strategy</code> system property, you'll receive a warning. This property will be
deleted in future releases. To preserve the old behavior, replace the system property with the Gradle property of the
same name. You can do this in <code>gradle.properties</code>, for example:</p>
<pre><code>kotlin.compiler.execution.strategy=out-of-process
</code></pre><p>You can also use the compile task property <code>compilerExecutionStrategy</code>. Learn more about this on
the <a href="gradle-compilation-and-caches.html#defining-kotlin-compiler-execution-strategy">Gradle page</a>.</p>
<h3 id="删除弃用的选项、方法与插件">删除弃用的选项、方法与插件</h3>
<h4 id="删除-useexperimentalannotation-方法">删除 useExperimentalAnnotation 方法</h4>
<p>In Kotlin 1.7.0, we completed the deprecation cycle for the <code>useExperimentalAnnotation</code> Gradle method. Use <code>optIn()</code>
instead to opt in to using an API in a module.</p>
<p>For example, if your Gradle module is multiplatform:</p>
<pre><code class="lang-kotlin">sourceSets {
    all {
        languageSettings.optIn(<span class="hljs-string">"org.mylibrary.OptInAnnotation"</span>)
    }
}
</code></pre>
<p>Learn more about <a href="opt-in-requirements.html">opt-in requirements</a> in Kotlin.</p>
<h4 id="删除弃用的编译器选项">删除弃用的编译器选项</h4>
<p>We've completed the deprecation cycle for several compiler options:</p>
<ul>
<li>The <code>kotlinOptions.jdkHome</code> compiler option was deprecated in 1.5.30 and has been removed in the current release.
Gradle builds now fail if they contain this option. We encourage you to
use <a href="whatsnew1530.html#支持-java-toolchains">Java toolchains</a>, which have been supported since Kotlin 1.5.30.</li>
<li>The deprecated <code>noStdlib</code> compiler option has also been removed. The Gradle plugin uses
the <code>kotlin.stdlib.default.dependency=true</code> property to control whether the Kotlin standard library is present.</li>
</ul>
<blockquote>
<p>The compiler arguments <code>-jdkHome</code> and <code>-no-stdlib</code> are still available.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h4 id="删除弃用的插件">删除弃用的插件</h4>
<p>In Kotlin 1.4.0, the <code>kotlin2js</code> and <code>kotlin-dce-plugin</code> plugins were deprecated, and they have been removed in this
release. Instead of <code>kotlin2js</code>, use the new <code>org.jetbrains.kotlin.js</code> plugin. Dead code elimination (DCE) works when
the Kotlin/JS Gradle plugin is <a href="javascript-dce.html">properly configured</a>.</p>
<p>In Kotlin 1.6.0, we changed the deprecation level of the <code>KotlinGradleSubplugin</code> class to <code>ERROR</code>. Developers used this
class for writing compiler plugins. In this
release, <a href="https://youtrack.jetbrains.com/issue/KT-48831/" target="_blank">this class has been removed</a>. Use
the <code>KotlinCompilerPluginSupportPlugin</code> class instead.</p>
<blockquote>
<p>The best practice is to use Kotlin plugins with versions 1.7.0 and higher throughout your project.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<h4 id="删除弃用的协程-dsl-选项与属性">删除弃用的协程 DSL 选项与属性</h4>
<p>We removed the deprecated <code>kotlin.experimental.coroutines</code> Gradle DSL option and the <code>kotlin.coroutines</code> property used
in <code>gradle.properties</code>. Now you can just use <em><a href="coroutines-basics.html#extract-function-refactoring">suspending functions</a></em>
or <a href="gradle-configure-project.html#set-a-dependency-on-a-kotlinx-library">add the <code>kotlinx.coroutines</code> dependency</a> to your build
script.</p>
<p>Learn more about coroutines in the <a href="coroutines-guide.html">Coroutines guide</a>.</p>
<h4 id="删除工具链扩展方法中的类型转换">删除工具链扩展方法中的类型转换</h4>
<p>Before Kotlin 1.7.0, you had to do the type cast into the <code>JavaToolchainSpec</code> class when configuring the Gradle
toolchain with Kotlin DSL:</p>
<pre><code class="lang-kotlin">kotlin {
    jvmToolchain {
        (<span class="hljs-keyword">this</span> <span class="hljs-keyword">as</span> JavaToolchainSpec).languageVersion.<span class="hljs-keyword">set</span>(JavaLanguageVersion.of(&lt;MAJOR_JDK_VERSION&gt;)
    }
}
</code></pre>
<p>Now, you can omit the <code>(this as JavaToolchainSpec)</code> part:</p>
<pre><code class="lang-kotlin">kotlin {
    jvmToolchain {
        languageVersion.<span class="hljs-keyword">set</span>(JavaLanguageVersion.of(&lt;MAJOR_JDK_VERSION&gt;)
    }
}
</code></pre>
<h2 id="迁移到-kotlin-170">迁移到 Kotlin 1.7.0</h2>
<h3 id="安装-kotlin-170">安装 Kotlin 1.7.0</h3>
<p>IntelliJ IDEA 2022.1 and Android Studio Chipmunk (212) automatically suggest updating the Kotlin plugin to 1.7.0.</p>
<blockquote>
<p>For IntelliJ IDEA 2022.2, and Android Studio Dolphin (213) or Android Studio Electric Eel (221), the Kotlin plugin 1.7.0 will be delivered with upcoming IntelliJ IDEA and Android Studios updates.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>The new command-line compiler is available for download on the <a href="https://github.com/JetBrains/kotlin/releases/tag/v1.7.0" target="_blank">GitHub release page</a>.</p>
<h3 id="使用-kotlin-170-迁移既有项目或启动新项目">使用 Kotlin 1.7.0 迁移既有项目或启动新项目</h3>
<ul>
<li><p>To migrate existing projects to Kotlin 1.7.0, change the Kotlin version to <code>1.7.0</code> and reimport your Gradle or Maven
project. <a href="releases.html#更新到新版-kotlin">Learn how to update to Kotlin 1.7.0</a>.</p>
</li>
<li><p>To start a new project with Kotlin 1.7.0, update the Kotlin plugin and run the Project Wizard from <strong>File</strong> | <strong>New</strong> |
<strong>Project</strong>.</p>
</li>
</ul>
<h3 id="kotlin-170-的兼容性指南">Kotlin 1.7.0 的兼容性指南</h3>
<p>Kotlin 1.7.0 is a <a href="kotlin-evolution-principles.html#language-and-tooling-releases">feature release</a> and can, therefore, bring changes that are incompatible with your code written for earlier versions of the language.
Find the detailed list of such changes in the <a href="compatibility-guide-17.html">Compatibility guide for Kotlin 1.7.0</a>.</p>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="whatsnew1720.html" class="navigation navigation-prev " aria-label="Previous page: Kotlin 1.7.20">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="whatsnew1620.html" class="navigation navigation-next " aria-label="Next page: Kotlin 1.6.20">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Kotlin 1.7.0","level":"1.5.4.8","depth":3,"next":{"title":"Kotlin 1.6.20","level":"1.5.4.9","depth":3,"path":"text/whatsnew1620.md","ref":"text/whatsnew1620.md","articles":[]},"previous":{"title":"Kotlin 1.7.20","level":"1.5.4.7","depth":3,"path":"text/whatsnew1720.md","ref":"text/whatsnew1720.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Kotlin 官方文档 中文版","language":"zh-hans","gitbook":"*"},"file":{"path":"text/whatsnew17.md","mtime":"2025-06-14T13:15:14.000Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-06-14T13:17:47.927Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

