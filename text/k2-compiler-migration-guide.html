
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>K2 编译器迁移指南 · Kotlin 官方文档 中文版</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="command-line.html" />
    
    
    <link rel="prev" href="d-compiler.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    关于本书
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="home.html">
            
                <a href="home.html">
            
                    
                    文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="kotlin-tour-welcome.html">
            
                <a href="kotlin-tour-welcome.html">
            
                    
                    Kotlin 之旅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="d-overview.html">
            
                <a href="d-overview.html">
            
                    
                    概述
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="multiplatform.html">
            
                <a href="multiplatform.html">
            
                    
                    Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="server-overview.html">
            
                <a href="server-overview.html">
            
                    
                    Kotlin 用于服务器端开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="android-overview.html">
            
                <a href="android-overview.html">
            
                    
                    Kotlin 用于 Android 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="wasm-overview.html">
            
                <a href="wasm-overview.html">
            
                    
                    Kotlin Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="native-overview.html">
            
                <a href="native-overview.html">
            
                    
                    Kotlin 原生
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="js-overview.html">
            
                <a href="js-overview.html">
            
                    
                    Kotlin 用于 JavaScript 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="data-analysis-overview.html">
            
                <a href="data-analysis-overview.html">
            
                    
                    Kotlin 用于数据分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="kotlin-ai-apps-development-overview.html">
            
                <a href="kotlin-ai-apps-development-overview.html">
            
                    
                    Kotlin 用于 AI 驱动的应用开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="competitive-programming.html">
            
                <a href="competitive-programming.html">
            
                    
                    Kotlin 用于竞技程序设计
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="d-whatsnew.html">
            
                <a href="d-whatsnew.html">
            
                    
                    Kotlin 的新特性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="whatsnew2120.html">
            
                <a href="whatsnew2120.html">
            
                    
                    Kotlin 2.1.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="whatsnew21.html">
            
                <a href="whatsnew21.html">
            
                    
                    Kotlin 2.1.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="whatsnew-eap.html">
            
                <a href="whatsnew-eap.html">
            
                    
                    Kotlin 2.2.0-RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="d-earlier-whatsnew.html">
            
                <a href="d-earlier-whatsnew.html">
            
                    
                    早期版本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="whatsnew2020.html">
            
                <a href="whatsnew2020.html">
            
                    
                    Kotlin 2.0.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="whatsnew20.html">
            
                <a href="whatsnew20.html">
            
                    
                    Kotlin 2.0.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="whatsnew1920.html">
            
                <a href="whatsnew1920.html">
            
                    
                    Kotlin 1.9.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="whatsnew19.html">
            
                <a href="whatsnew19.html">
            
                    
                    Kotlin 1.9.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="whatsnew1820.html">
            
                <a href="whatsnew1820.html">
            
                    
                    Kotlin 1.8.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="whatsnew18.html">
            
                <a href="whatsnew18.html">
            
                    
                    Kotlin 1.8.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="whatsnew1720.html">
            
                <a href="whatsnew1720.html">
            
                    
                    Kotlin 1.7.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.8" data-path="whatsnew17.html">
            
                <a href="whatsnew17.html">
            
                    
                    Kotlin 1.7.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.9" data-path="whatsnew1620.html">
            
                <a href="whatsnew1620.html">
            
                    
                    Kotlin 1.6.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.10" data-path="whatsnew16.html">
            
                <a href="whatsnew16.html">
            
                    
                    Kotlin 1.6.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.11" data-path="whatsnew1530.html">
            
                <a href="whatsnew1530.html">
            
                    
                    Kotlin 1.5.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.12" data-path="whatsnew1520.html">
            
                <a href="whatsnew1520.html">
            
                    
                    Kotlin 1.5.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.13" data-path="whatsnew15.html">
            
                <a href="whatsnew15.html">
            
                    
                    Kotlin 1.5.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.14" data-path="whatsnew1430.html">
            
                <a href="whatsnew1430.html">
            
                    
                    Kotlin 1.4.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.15" data-path="whatsnew1420.html">
            
                <a href="whatsnew1420.html">
            
                    
                    Kotlin 1.4.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.16" data-path="whatsnew14.html">
            
                <a href="whatsnew14.html">
            
                    
                    Kotlin 1.4.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.17" data-path="whatsnew13.html">
            
                <a href="whatsnew13.html">
            
                    
                    Kotlin 1.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.18" data-path="whatsnew12.html">
            
                <a href="whatsnew12.html">
            
                    
                    Kotlin 1.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.19" data-path="whatsnew11.html">
            
                <a href="whatsnew11.html">
            
                    
                    Kotlin 1.1
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="d-releases-and-roadmap.html">
            
                <a href="d-releases-and-roadmap.html">
            
                    
                    版本发布与路线图
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="roadmap.html">
            
                <a href="roadmap.html">
            
                    
                    Kotlin 路线图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="kotlin-language-features-and-proposals.html">
            
                <a href="kotlin-language-features-and-proposals.html">
            
                    
                    Kotlin 语言特性与提案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="kotlin-evolution-principles.html">
            
                <a href="kotlin-evolution-principles.html">
            
                    
                    Kotlin 演进原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="components-stability.html">
            
                <a href="components-stability.html">
            
                    
                    Kotlin 各组件的稳定性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="releases.html">
            
                <a href="releases.html">
            
                    
                    Kotlin 版本发布
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="d-basics.html">
            
                <a href="d-basics.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="basic-syntax.html">
            
                <a href="basic-syntax.html">
            
                    
                    基本语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="idioms.html">
            
                <a href="idioms.html">
            
                    
                    习惯用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="l-kotlin-by-example1.html">
            
                <a href="l-kotlin-by-example1.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="coding-conventions.html">
            
                <a href="coding-conventions.html">
            
                    
                    编码规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="d-concepts.html">
            
                <a href="d-concepts.html">
            
                    
                    概念
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="d-types.html">
            
                <a href="d-types.html">
            
                    
                    类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="d-basic-types.html">
            
                <a href="d-basic-types.html">
            
                    
                    基本类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1.1" data-path="basic-types.html">
            
                <a href="basic-types.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.2" data-path="numbers.html">
            
                <a href="numbers.html">
            
                    
                    数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.3" data-path="unsigned-integer-types.html">
            
                <a href="unsigned-integer-types.html">
            
                    
                    无符号整型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.4" data-path="booleans.html">
            
                <a href="booleans.html">
            
                    
                    布尔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.5" data-path="characters.html">
            
                <a href="characters.html">
            
                    
                    字符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.6" data-path="strings.html">
            
                <a href="strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.7" data-path="arrays.html">
            
                <a href="arrays.html">
            
                    
                    数组
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="typecasts.html">
            
                <a href="typecasts.html">
            
                    
                    类型检测与类型转换
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="d-control-flow.html">
            
                <a href="d-control-flow.html">
            
                    
                    控制流程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="control-flow.html">
            
                <a href="control-flow.html">
            
                    
                    条件与循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="returns.html">
            
                <a href="returns.html">
            
                    
                    返回与跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="exceptions.html">
            
                <a href="exceptions.html">
            
                    
                    异常
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="packages.html">
            
                <a href="packages.html">
            
                    
                    包与导入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="d-class-and-obj.html">
            
                <a href="d-class-and-obj.html">
            
                    
                    类与对象
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="classes.html">
            
                <a href="classes.html">
            
                    
                    类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="inheritance.html">
            
                <a href="inheritance.html">
            
                    
                    继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="properties.html">
            
                <a href="properties.html">
            
                    
                    属性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="interfaces.html">
            
                <a href="interfaces.html">
            
                    
                    接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.5" data-path="fun-interfaces.html">
            
                <a href="fun-interfaces.html">
            
                    
                    函数式（SAM）接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.6" data-path="visibility-modifiers.html">
            
                <a href="visibility-modifiers.html">
            
                    
                    可见性修饰符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.7" data-path="extensions.html">
            
                <a href="extensions.html">
            
                    
                    扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.8" data-path="data-classes.html">
            
                <a href="data-classes.html">
            
                    
                    数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.9" data-path="sealed-classes.html">
            
                <a href="sealed-classes.html">
            
                    
                    密封类与密封接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.10" data-path="generics.html">
            
                <a href="generics.html">
            
                    
                    泛型：in、out、where
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.11" data-path="nested-classes.html">
            
                <a href="nested-classes.html">
            
                    
                    嵌套类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.12" data-path="enum-classes.html">
            
                <a href="enum-classes.html">
            
                    
                    枚举类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.13" data-path="inline-classes.html">
            
                <a href="inline-classes.html">
            
                    
                    内联类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.14" data-path="object-declarations.html">
            
                <a href="object-declarations.html">
            
                    
                    对象表达式与对象声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.15" data-path="delegation.html">
            
                <a href="delegation.html">
            
                    
                    委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.16" data-path="delegated-properties.html">
            
                <a href="delegated-properties.html">
            
                    
                    属性委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.17" data-path="type-aliases.html">
            
                <a href="type-aliases.html">
            
                    
                    类型别名
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="d-functions.html">
            
                <a href="d-functions.html">
            
                    
                    函数
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="lambdas.html">
            
                <a href="lambdas.html">
            
                    
                    lambda 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="inline-functions.html">
            
                <a href="inline-functions.html">
            
                    
                    内联函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="operator-overloading.html">
            
                <a href="operator-overloading.html">
            
                    
                    操作符重载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="d-builders.html">
            
                <a href="d-builders.html">
            
                    
                    构建器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.5.1" data-path="type-safe-builders.html">
            
                <a href="type-safe-builders.html">
            
                    
                    类型安全的构建器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5.2" data-path="using-builders-with-builder-inference.html">
            
                <a href="using-builders-with-builder-inference.html">
            
                    
                    使用带有构建器类型推断的构建器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="null-safety.html">
            
                <a href="null-safety.html">
            
                    
                    空安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="equality.html">
            
                <a href="equality.html">
            
                    
                    相等性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="this-expressions.html">
            
                <a href="this-expressions.html">
            
                    
                    this 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="async-programming.html">
            
                <a href="async-programming.html">
            
                    
                    异步程序设计技术
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="coroutines-overview.html">
            
                <a href="coroutines-overview.html">
            
                    
                    协程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="annotations.html">
            
                <a href="annotations.html">
            
                    
                    注解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="destructuring-declarations.html">
            
                <a href="destructuring-declarations.html">
            
                    
                    解构声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="reflection.html">
            
                <a href="reflection.html">
            
                    
                    反射
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="d-data-analysis.html">
            
                <a href="d-data-analysis.html">
            
                    
                    数据分析
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="d-notebook-get-started.html">
            
                <a href="d-notebook-get-started.html">
            
                    
                    Kotlin Notebook 入门
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="get-started-with-kotlin-notebooks.html">
            
                <a href="get-started-with-kotlin-notebooks.html">
            
                    
                    Kotlin Notebook 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="kotlin-notebook-set-up-env.html">
            
                <a href="kotlin-notebook-set-up-env.html">
            
                    
                    1、环境搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="kotlin-notebook-create.html">
            
                <a href="kotlin-notebook-create.html">
            
                    
                    2、创建第一个 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="kotlin-notebook-add-dependencies.html">
            
                <a href="kotlin-notebook-add-dependencies.html">
            
                    
                    3、将依赖添加到 Kotlin Notebook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="kotlin-notebook-share.html">
            
                <a href="kotlin-notebook-share.html">
            
                    
                    分享 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="data-analysis-notebooks-output-formats.html">
            
                <a href="data-analysis-notebooks-output-formats.html">
            
                    
                    Kotlin Notebook 的输出格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="d-work-with-data-sources.html">
            
                <a href="d-work-with-data-sources.html">
            
                    
                    使用数据源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.4.1" data-path="data-analysis-work-with-data-sources.html">
            
                <a href="data-analysis-work-with-data-sources.html">
            
                    
                    从文件中取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.2" data-path="data-analysis-work-with-api.html">
            
                <a href="data-analysis-work-with-api.html">
            
                    
                    从 web 源与 API 取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.3" data-path="data-analysis-connect-to-db.html">
            
                <a href="data-analysis-connect-to-db.html">
            
                    
                    链接数据库并从中取数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="data-analysis-visualization.html">
            
                <a href="data-analysis-visualization.html">
            
                    
                    Kotlin Notebook 中数据可视化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="data-analysis-libraries.html">
            
                <a href="data-analysis-libraries.html">
            
                    
                    用于数据分析的库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="d-platforms.html">
            
                <a href="d-platforms.html">
            
                    
                    平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="d-jvm.html">
            
                <a href="d-jvm.html">
            
                    
                    JVM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="jvm-get-started.html">
            
                <a href="jvm-get-started.html">
            
                    
                    Kotlin/JVM 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.2" data-path="comparison-to-java.html">
            
                <a href="comparison-to-java.html">
            
                    
                    与 Java 比较
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.3" data-path="java-interop.html">
            
                <a href="java-interop.html">
            
                    
                    在 Kotlin 中调用 Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.4" data-path="java-to-kotlin-interop.html">
            
                <a href="java-to-kotlin-interop.html">
            
                    
                    在 Java 中调用 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5" data-path="d-spring.html">
            
                <a href="d-spring.html">
            
                    
                    Spring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1" data-path="d-jvm-spring-boot-restful.html">
            
                <a href="d-jvm-spring-boot-restful.html">
            
                    
                    使用 Spring Boot 创建用到数据库的 RESTful web 服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1.1" data-path="jvm-get-started-spring-boot.html">
            
                <a href="jvm-get-started-spring-boot.html">
            
                    
                    Spring Boot 与 Kotlin 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.2" data-path="jvm-create-project-with-spring-boot.html">
            
                <a href="jvm-create-project-with-spring-boot.html">
            
                    
                    创建使用 Kotlin 的 Spring Boot 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.3" data-path="jvm-spring-boot-add-data-class.html">
            
                <a href="jvm-spring-boot-add-data-class.html">
            
                    
                    向 Spring Boot 项目添加数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.4" data-path="jvm-spring-boot-add-db-support.html">
            
                <a href="jvm-spring-boot-add-db-support.html">
            
                    
                    为 Spring Boot 项目添加数据库支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.5" data-path="jvm-spring-boot-using-crudrepository.html">
            
                <a href="jvm-spring-boot-using-crudrepository.html">
            
                    
                    使用 Spring Data CrudRepository 进行数据库访问
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.2" data-path="spring-ai-guide.html">
            
                <a href="spring-ai-guide.html">
            
                    
                    构建一个使用 Spring AI 基于 Qdrant 中存储的文档来回答问题的 Kotlin 应用——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.3" data-path="l-spring-docs-kotlin.html">
            
                <a href="l-spring-docs-kotlin.html">
            
                    
                    Spring 框架 Kotlin 文档↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.4" data-path="l-spring-boot-kotlin.html">
            
                <a href="l-spring-boot-kotlin.html">
            
                    
                    使用 Spring Boot 与 Kotlin 构建 web 应用程序——教程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.5" data-path="l-spring-webflux-kotlin-rsocket.html">
            
                <a href="l-spring-webflux-kotlin-rsocket.html">
            
                    
                    使用 Kotlin 协程与 RSocket 创建聊天应用程序——教程↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.6" data-path="jvm-test-using-junit.html">
            
                <a href="jvm-test-using-junit.html">
            
                    
                    在 JVM 平台中用 JUnit 测试代码——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.7" data-path="mixing-java-kotlin-intellij.html">
            
                <a href="mixing-java-kotlin-intellij.html">
            
                    
                    在项目中混用 Java 与 Kotlin——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.8" data-path="jvm-records.html">
            
                <a href="jvm-records.html">
            
                    
                    在 Kotlin 中使用 Java 记录类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9" data-path="d-java-to-kotlin-migration-guides.html">
            
                <a href="d-java-to-kotlin-migration-guides.html">
            
                    
                    从 Java 到 Kotlin 迁移指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.9.1" data-path="java-to-kotlin-idioms-strings.html">
            
                <a href="java-to-kotlin-idioms-strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.2" data-path="java-to-kotlin-collections-guide.html">
            
                <a href="java-to-kotlin-collections-guide.html">
            
                    
                    集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.3" data-path="java-to-kotlin-nullability-guide.html">
            
                <a href="java-to-kotlin-nullability-guide.html">
            
                    
                    可空性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.4" data-path="standard-input.html">
            
                <a href="standard-input.html">
            
                    
                    标准输入
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="d-native.html">
            
                <a href="d-native.html">
            
                    
                    原生
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="native-get-started.html">
            
                <a href="native-get-started.html">
            
                    
                    Kotlin/Native 入门——在 IntelliJ IDEA 中
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="native-definition-file.html">
            
                <a href="native-definition-file.html">
            
                    
                    定义文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3" data-path="d-c-interop.html">
            
                <a href="d-c-interop.html">
            
                    
                    与 C 语言互操作
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.3.1" data-path="native-c-interop.html">
            
                <a href="native-c-interop.html">
            
                    
                    与 C 语言互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.2" data-path="mapping-primitive-data-types-from-c.html">
            
                <a href="mapping-primitive-data-types-from-c.html">
            
                    
                    映射来自 C 语言的原始数据类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.3" data-path="mapping-struct-union-types-from-c.html">
            
                <a href="mapping-struct-union-types-from-c.html">
            
                    
                    映射来自 C 语言的结构与联合类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.4" data-path="mapping-function-pointers-from-c.html">
            
                <a href="mapping-function-pointers-from-c.html">
            
                    
                    映射来自 C 语言的函数指针——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.5" data-path="mapping-strings-from-c.html">
            
                <a href="mapping-strings-from-c.html">
            
                    
                    映射来自 C 语言的字符串——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.6" data-path="native-dynamic-libraries.html">
            
                <a href="native-dynamic-libraries.html">
            
                    
                    Kotlin/Native 开发动态库——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.7" data-path="native-app-with-c-and-libcurl.html">
            
                <a href="native-app-with-c-and-libcurl.html">
            
                    
                    创建使用 C 语言互操作与 libcurl 的应用——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.4" data-path="d-objc-interop.html">
            
                <a href="d-objc-interop.html">
            
                    
                    与 Objective-C 互操作性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.4.1" data-path="native-objc-interop.html">
            
                <a href="native-objc-interop.html">
            
                    
                    与 Swift/Objective-C 互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.4.2" data-path="apple-framework.html">
            
                <a href="apple-framework.html">
            
                    
                    Kotlin/Native 开发 Apple framework——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.5" data-path="native-libraries.html">
            
                <a href="native-libraries.html">
            
                    
                    Kotlin/Native 库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.6" data-path="native-platform-libs.html">
            
                <a href="native-platform-libs.html">
            
                    
                    平台库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7" data-path="d-mem-mgr.html">
            
                <a href="d-mem-mgr.html">
            
                    
                    内存管理器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.7.1" data-path="native-memory-manager.html">
            
                <a href="native-memory-manager.html">
            
                    
                    Kotlin/Native 内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.2" data-path="native-arc-integration.html">
            
                <a href="native-arc-integration.html">
            
                    
                    与 ARC 集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.3" data-path="native-migration-guide.html">
            
                <a href="native-migration-guide.html">
            
                    
                    迁移到新版内存管理器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.8" data-path="native-debugging.html">
            
                <a href="native-debugging.html">
            
                    
                    调试 Kotlin/Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.9" data-path="native-ios-symbolication.html">
            
                <a href="native-ios-symbolication.html">
            
                    
                    符号化 iOS 崩溃报告
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10" data-path="d-ref-and-tips.html">
            
                <a href="d-ref-and-tips.html">
            
                    
                    参考与提示
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.10.1" data-path="native-target-support.html">
            
                <a href="native-target-support.html">
            
                    
                    目标平台支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.2" data-path="native-improving-compilation-time.html">
            
                <a href="native-improving-compilation-time.html">
            
                    
                    改进编译时间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.3" data-path="native-binary-licenses.html">
            
                <a href="native-binary-licenses.html">
            
                    
                    许可证文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.4" data-path="native-faq.html">
            
                <a href="native-faq.html">
            
                    
                    Kotlin/Native FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="d-wasm.html">
            
                <a href="d-wasm.html">
            
                    
                    WebAssembly（Wasm）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.3.1" data-path="wasm-get-started.html">
            
                <a href="wasm-get-started.html">
            
                    
                    在 IntelliJ IDEA 中入门 Kotlin/Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.2" data-path="wasm-wasi.html">
            
                <a href="wasm-wasi.html">
            
                    
                    Kotlin/Wasm 与 WASI 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.3" data-path="wasm-debugging.html">
            
                <a href="wasm-debugging.html">
            
                    
                    调试 Kotlin/Wasm 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.4" data-path="wasm-js-interop.html">
            
                <a href="wasm-js-interop.html">
            
                    
                    与 JavaScript 的互操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.5" data-path="wasm-troubleshooting.html">
            
                <a href="wasm-troubleshooting.html">
            
                    
                    故障排查
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="d-javascript.html">
            
                <a href="d-javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.1" data-path="js-project-setup.html">
            
                <a href="js-project-setup.html">
            
                    
                    搭建 Kotlin/JS 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.2" data-path="running-kotlin-js.html">
            
                <a href="running-kotlin-js.html">
            
                    
                    运行 Kotlin/JS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.3" data-path="dev-server-continuous-compilation.html">
            
                <a href="dev-server-continuous-compilation.html">
            
                    
                    开发服务器与持续编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.4" data-path="js-debugging.html">
            
                <a href="js-debugging.html">
            
                    
                    调试 Kotlin/JS 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.5" data-path="js-running-tests.html">
            
                <a href="js-running-tests.html">
            
                    
                    在 Kotlin/JS 平台中运行测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.6" data-path="javascript-dce.html">
            
                <a href="javascript-dce.html">
            
                    
                    Kotlin/JS 无用代码消除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.7" data-path="js-ir-compiler.html">
            
                <a href="js-ir-compiler.html">
            
                    
                    Kotlin/JS IR 编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8" data-path="d-kotlin-for-js-platform.html">
            
                <a href="d-kotlin-for-js-platform.html">
            
                    
                    Kotlin 用于 JS 平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.8.1" data-path="browser-api-dom.html">
            
                <a href="browser-api-dom.html">
            
                    
                    浏览器与 DOM API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.2" data-path="js-interop.html">
            
                <a href="js-interop.html">
            
                    
                    在 Kotlin 中使用 JavaScript 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.3" data-path="dynamic-type.html">
            
                <a href="dynamic-type.html">
            
                    
                    动态类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.4" data-path="using-packages-from-npm.html">
            
                <a href="using-packages-from-npm.html">
            
                    
                    使用来自 npm 的依赖
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.5" data-path="js-to-kotlin-interop.html">
            
                <a href="js-to-kotlin-interop.html">
            
                    
                    在 JavaScript 中使用 Kotlin 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.6" data-path="js-modules.html">
            
                <a href="js-modules.html">
            
                    
                    JavaScript 模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.7" data-path="js-reflection.html">
            
                <a href="js-reflection.html">
            
                    
                    Kotlin/JS 反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.8" data-path="typesafe-html-dsl.html">
            
                <a href="typesafe-html-dsl.html">
            
                    
                    类型安全的 HTML DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="d-scripting.html">
            
                <a href="d-scripting.html">
            
                    
                    脚本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.5.1" data-path="custom-script-deps-tutorial.html">
            
                <a href="custom-script-deps-tutorial.html">
            
                    
                    Kotlin 自定义脚本入门——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="l-kotlin-multiplatform-dev.html">
            
                <a href="l-kotlin-multiplatform-dev.html">
            
                    
                    Kotlin 多平台开发↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="d-standard-library.html">
            
                <a href="d-standard-library.html">
            
                    
                    标准库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="d-collections.html">
            
                <a href="d-collections.html">
            
                    
                    集合
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1.1" data-path="collections-overview.html">
            
                <a href="collections-overview.html">
            
                    
                    集合概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.2" data-path="constructing-collections.html">
            
                <a href="constructing-collections.html">
            
                    
                    构造集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.3" data-path="iterators.html">
            
                <a href="iterators.html">
            
                    
                    迭代器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.4" data-path="ranges.html">
            
                <a href="ranges.html">
            
                    
                    区间与数列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.5" data-path="sequences.html">
            
                <a href="sequences.html">
            
                    
                    序列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.6" data-path="collection-operations.html">
            
                <a href="collection-operations.html">
            
                    
                    集合操作概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.7" data-path="collection-transformations.html">
            
                <a href="collection-transformations.html">
            
                    
                    集合转换操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.8" data-path="collection-filtering.html">
            
                <a href="collection-filtering.html">
            
                    
                    过滤集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.9" data-path="collection-plus-minus.html">
            
                <a href="collection-plus-minus.html">
            
                    
                    加减操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.10" data-path="collection-grouping.html">
            
                <a href="collection-grouping.html">
            
                    
                    分组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.11" data-path="collection-parts.html">
            
                <a href="collection-parts.html">
            
                    
                    取集合的一部分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.12" data-path="collection-elements.html">
            
                <a href="collection-elements.html">
            
                    
                    取单个元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.13" data-path="collection-ordering.html">
            
                <a href="collection-ordering.html">
            
                    
                    排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.14" data-path="collection-aggregate.html">
            
                <a href="collection-aggregate.html">
            
                    
                    聚合操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.15" data-path="collection-write.html">
            
                <a href="collection-write.html">
            
                    
                    集合写操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.16" data-path="list-operations.html">
            
                <a href="list-operations.html">
            
                    
                    List 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.17" data-path="set-operations.html">
            
                <a href="set-operations.html">
            
                    
                    Set 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.18" data-path="map-operations.html">
            
                <a href="map-operations.html">
            
                    
                    Map 相关操作
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="read-standard-input.html">
            
                <a href="read-standard-input.html">
            
                    
                    读取标准输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="opt-in-requirements.html">
            
                <a href="opt-in-requirements.html">
            
                    
                    选择加入要求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="scope-functions.html">
            
                <a href="scope-functions.html">
            
                    
                    作用域函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="time-measurement.html">
            
                <a href="time-measurement.html">
            
                    
                    时间度量
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="d-official-library.html">
            
                <a href="d-official-library.html">
            
                    
                    官方库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="d-kotlinx-coroutines.html">
            
                <a href="d-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1.1" data-path="coroutines-guide.html">
            
                <a href="coroutines-guide.html">
            
                    
                    协程指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.2" data-path="coroutines-basics.html">
            
                <a href="coroutines-basics.html">
            
                    
                    协程基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.3" data-path="l-intro-coroutines-and-channels.html">
            
                <a href="l-intro-coroutines-and-channels.html">
            
                    
                    Kotlin 协程与通道介绍↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.4" data-path="cancellation-and-timeouts.html">
            
                <a href="cancellation-and-timeouts.html">
            
                    
                    取消与超时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.5" data-path="composing-suspending-functions.html">
            
                <a href="composing-suspending-functions.html">
            
                    
                    组合挂起函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.6" data-path="coroutine-context-and-dispatchers.html">
            
                <a href="coroutine-context-and-dispatchers.html">
            
                    
                    协程上下文与调度器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.7" data-path="flow.html">
            
                <a href="flow.html">
            
                    
                    异步流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.8" data-path="channels.html">
            
                <a href="channels.html">
            
                    
                    通道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.9" data-path="exception-handling.html">
            
                <a href="exception-handling.html">
            
                    
                    协程异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.10" data-path="shared-mutable-state-and-concurrency.html">
            
                <a href="shared-mutable-state-and-concurrency.html">
            
                    
                    共享的可变状态与并发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.11" data-path="select-expression.html">
            
                <a href="select-expression.html">
            
                    
                    select 表达式（实验性的）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.12" data-path="debug-coroutines-with-idea.html">
            
                <a href="debug-coroutines-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试协程——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.13" data-path="debug-flow-with-idea.html">
            
                <a href="debug-flow-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试 Kotlin Flow——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="serialization.html">
            
                <a href="serialization.html">
            
                    
                    序列化（kotlinx.serialization）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="metadata-jvm.html">
            
                <a href="metadata-jvm.html">
            
                    
                    Kotlin Metadata JVM（kotlin-metadata-jvm）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="d-lincheck.html">
            
                <a href="d-lincheck.html">
            
                    
                    Lincheck（kotlinx.lincheck）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.4.1" data-path="lincheck-guide.html">
            
                <a href="lincheck-guide.html">
            
                    
                    Lincheck 指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.2" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    用 Lincheck 编写第一个测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.3" data-path="testing-strategies.html">
            
                <a href="testing-strategies.html">
            
                    
                    测试策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.4" data-path="operation-arguments.html">
            
                <a href="operation-arguments.html">
            
                    
                    操作参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.5" data-path="constraints.html">
            
                <a href="constraints.html">
            
                    
                    数据结构约束
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.6" data-path="progress-guarantees.html">
            
                <a href="progress-guarantees.html">
            
                    
                    进度保证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.7" data-path="sequential-specification.html">
            
                <a href="sequential-specification.html">
            
                    
                    时序规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="l-ktor1.html">
            
                <a href="l-ktor1.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="d-api-reference.html">
            
                <a href="d-api-reference.html">
            
                    
                    API 参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="l-stdlib.html">
            
                <a href="l-stdlib.html">
            
                    
                    标准库（stdlib）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="l-kotlin-test.html">
            
                <a href="l-kotlin-test.html">
            
                    
                    测试库（kotlin.test）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="l-kotlinx-coroutines.html">
            
                <a href="l-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="l-kotlinx-serialization.html">
            
                <a href="l-kotlinx-serialization.html">
            
                    
                    序列化（kotlinx.serialization）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="l-kotlinx-io.html">
            
                <a href="l-kotlinx-io.html">
            
                    
                    Kotlin I/O 库（kotlinx-io）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="l-kotlinx-datetime.html">
            
                <a href="l-kotlinx-datetime.html">
            
                    
                    日期与时间（kotlinx-datetime）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="l-kotlinx-metadata-jvm.html">
            
                <a href="l-kotlinx-metadata-jvm.html">
            
                    
                    JVM 元数据（kotlinx-metadata-jvm）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8" data-path="l-ktor2.html">
            
                <a href="l-ktor2.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9" data-path="l-kotlin-gradle-plugin.html">
            
                <a href="l-kotlin-gradle-plugin.html">
            
                    
                    Kotlin Gradle 插件（kotlin-gradle-plugin）↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="d-language-reference.html">
            
                <a href="d-language-reference.html">
            
                    
                    语言参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="keyword-reference.html">
            
                <a href="keyword-reference.html">
            
                    
                    关键字与操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="l-grammar.html">
            
                <a href="l-grammar.html">
            
                    
                    语法↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="l-kotlin-spec.html">
            
                <a href="l-kotlin-spec.html">
            
                    
                    语言规范↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="d-tools.html">
            
                <a href="d-tools.html">
            
                    
                    工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="d-build-tools.html">
            
                <a href="d-build-tools.html">
            
                    
                    构建工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1" data-path="d-gradle.html">
            
                <a href="d-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1.1" data-path="gradle.html">
            
                <a href="gradle.html">
            
                    
                    Gradle 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.2" data-path="get-started-with-jvm-gradle-project.html">
            
                <a href="get-started-with-jvm-gradle-project.html">
            
                    
                    Gradle 入门——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.3" data-path="gradle-configure-project.html">
            
                <a href="gradle-configure-project.html">
            
                    
                    配置 Gradle 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.4" data-path="gradle-best-practices.html">
            
                <a href="gradle-best-practices.html">
            
                    
                    Gradle 最佳实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.5" data-path="gradle-compiler-options.html">
            
                <a href="gradle-compiler-options.html">
            
                    
                    Kotlin Gradle 插件中的编译器选项
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.6" data-path="gradle-compilation-and-caches.html">
            
                <a href="gradle-compilation-and-caches.html">
            
                    
                    Kotlin Gradle 插件中的编译项与缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.7" data-path="gradle-plugin-variants.html">
            
                <a href="gradle-plugin-variants.html">
            
                    
                    支持 Gradle 插件变体
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.1.2" data-path="maven.html">
            
                <a href="maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.3" data-path="ant.html">
            
                <a href="ant.html">
            
                    
                    Ant
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="d-dokka.html">
            
                <a href="d-dokka.html">
            
                    
                    Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.1" data-path="dokka-introduction.html">
            
                <a href="dokka-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.2" data-path="dokka-get-started.html">
            
                <a href="dokka-get-started.html">
            
                    
                    Dokka 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3" data-path="d-run-dokka.html">
            
                <a href="d-run-dokka.html">
            
                    
                    运行 Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.3.1" data-path="dokka-gradle.html">
            
                <a href="dokka-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.2" data-path="dokka-maven.html">
            
                <a href="dokka-maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.3" data-path="dokka-cli.html">
            
                <a href="dokka-cli.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.4" data-path="d-output-formats.html">
            
                <a href="d-output-formats.html">
            
                    
                    输出格式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.4.1" data-path="dokka-html.html">
            
                <a href="dokka-html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.2" data-path="dokka-markdown.html">
            
                <a href="dokka-markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.3" data-path="dokka-javadoc.html">
            
                <a href="dokka-javadoc.html">
            
                    
                    Javadoc
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.5" data-path="dokka-plugins.html">
            
                <a href="dokka-plugins.html">
            
                    
                    Dokka 插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.6" data-path="dokka-module-and-package-docs.html">
            
                <a href="dokka-module-and-package-docs.html">
            
                    
                    模块文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="kotlin-ide.html">
            
                <a href="kotlin-ide.html">
            
                    
                    用于 Kotlin 开发的 IDE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="code-style-migration-guide.html">
            
                <a href="code-style-migration-guide.html">
            
                    
                    使用 IntelliJ IDEA 迁移到 Kotlin 代码风格
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="kotlin-notebook-overview.html">
            
                <a href="kotlin-notebook-overview.html">
            
                    
                    Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="lets-plot.html">
            
                <a href="lets-plot.html">
            
                    
                    用于 Kotlin 的 Lets-Plot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="run-code-snippets.html">
            
                <a href="run-code-snippets.html">
            
                    
                    运行代码片段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.8" data-path="kotlin-and-ci.html">
            
                <a href="kotlin-and-ci.html">
            
                    
                    Kotlin 与 TeamCity 的持续集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.9" data-path="kotlin-doc.html">
            
                <a href="kotlin-doc.html">
            
                    
                    编写代码文档：KDoc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.10" data-path="kotlin-osgi.html">
            
                <a href="kotlin-osgi.html">
            
                    
                    Kotlin 与 OSGi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="d-compiler-and-plugin.html">
            
                <a href="d-compiler-and-plugin.html">
            
                    
                    编译器与插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="d-compiler.html">
            
                <a href="d-compiler.html">
            
                    
                    编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.17.1.1" data-path="k2-compiler-migration-guide.html">
            
                <a href="k2-compiler-migration-guide.html">
            
                    
                    K2 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.2" data-path="command-line.html">
            
                <a href="command-line.html">
            
                    
                    Kotlin 命令行编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.3" data-path="compiler-reference.html">
            
                <a href="compiler-reference.html">
            
                    
                    Kotlin 编译器选项
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="d-compiler-plugins.html">
            
                <a href="d-compiler-plugins.html">
            
                    
                    编译器插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.2.1" data-path="all-open-plugin.html">
            
                <a href="all-open-plugin.html">
            
                    
                    全开放编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.2" data-path="no-arg-plugin.html">
            
                <a href="no-arg-plugin.html">
            
                    
                    No-arg 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.3" data-path="sam-with-receiver-plugin.html">
            
                <a href="sam-with-receiver-plugin.html">
            
                    
                    带有接收者的 SAM 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.4" data-path="kapt.html">
            
                <a href="kapt.html">
            
                    
                    kapt 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.5" data-path="lombok.html">
            
                <a href="lombok.html">
            
                    
                    Lombok 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.6" data-path="power-assert.html">
            
                <a href="power-assert.html">
            
                    
                    Power-assert
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="d-compose-compiler.html">
            
                <a href="d-compose-compiler.html">
            
                    
                    Compose 编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.3.1" data-path="compose-compiler-migration-guide.html">
            
                <a href="compose-compiler-migration-guide.html">
            
                    
                    Compose 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.2" data-path="compose-compiler-options.html">
            
                <a href="compose-compiler-options.html">
            
                    
                    Compose 编译器选项 DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="d-ksp.html">
            
                <a href="d-ksp.html">
            
                    
                    Kotlin 符号处理（KSP）API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.4.1" data-path="ksp-overview.html">
            
                <a href="ksp-overview.html">
            
                    
                    KSP 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.2" data-path="ksp-quickstart.html">
            
                <a href="ksp-quickstart.html">
            
                    
                    KSP 快速入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.3" data-path="ksp-why-ksp.html">
            
                <a href="ksp-why-ksp.html">
            
                    
                    为什么选用 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.4" data-path="ksp-examples.html">
            
                <a href="ksp-examples.html">
            
                    
                    KSP 示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.5" data-path="ksp-additional-details.html">
            
                <a href="ksp-additional-details.html">
            
                    
                    KSP 如何为 Kotlin 代码建模
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.6" data-path="ksp-reference.html">
            
                <a href="ksp-reference.html">
            
                    
                    Java 注解处理对应到 KSP 参考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.7" data-path="ksp-incremental.html">
            
                <a href="ksp-incremental.html">
            
                    
                    增量处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.8" data-path="ksp-multi-round.html">
            
                <a href="ksp-multi-round.html">
            
                    
                    多轮次处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.9" data-path="ksp-multiplatform.html">
            
                <a href="ksp-multiplatform.html">
            
                    
                    KSP 与 Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.10" data-path="ksp-command-line.html">
            
                <a href="ksp-command-line.html">
            
                    
                    在命令行运行 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.11" data-path="ksp-faq.html">
            
                <a href="ksp-faq.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="d-learning-materials.html">
            
                <a href="d-learning-materials.html">
            
                    
                    学习资料
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="learning-materials-overview.html">
            
                <a href="learning-materials-overview.html">
            
                    
                    学习资料概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="l-kotlin-by-example2.html">
            
                <a href="l-kotlin-by-example2.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="koans.html">
            
                <a href="koans.html">
            
                    
                    Kotlin 心印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="l-kotlin-core-track.html">
            
                <a href="l-kotlin-core-track.html">
            
                    
                    Kotlin 核心课程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.5" data-path="kotlin-hands-on.html">
            
                <a href="kotlin-hands-on.html">
            
                    
                    Kotlin 动手实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.6" data-path="kotlin-tips.html">
            
                <a href="kotlin-tips.html">
            
                    
                    Kotlin 小窍门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.7" data-path="books.html">
            
                <a href="books.html">
            
                    
                    图书
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.8" data-path="advent-of-code.html">
            
                <a href="advent-of-code.html">
            
                    
                    Advent of Code 谜题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9" data-path="d-edu-tools.html">
            
                <a href="d-edu-tools.html">
            
                    
                    在 IDE 中学习（JetBrains 学院）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.9.1" data-path="edu-tools-learner.html">
            
                <a href="edu-tools-learner.html">
            
                    
                    学习 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9.2" data-path="edu-tools-educator.html">
            
                <a href="edu-tools-educator.html">
            
                    
                    讲授 Kotlin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10" data-path="d-lib-creator-guidelines.html">
            
                <a href="d-lib-creator-guidelines.html">
            
                    
                    库作者指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.1" data-path="api-guidelines-introduction.html">
            
                <a href="api-guidelines-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2" data-path="d-minimize-mental-complexity.html">
            
                <a href="d-minimize-mental-complexity.html">
            
                    
                    最小化心理复杂性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.2.1" data-path="api-guidelines-minimizing-mental-complexity.html">
            
                <a href="api-guidelines-minimizing-mental-complexity.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.2" data-path="api-guidelines-simplicity.html">
            
                <a href="api-guidelines-simplicity.html">
            
                    
                    简单
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.3" data-path="api-guidelines-readability.html">
            
                <a href="api-guidelines-readability.html">
            
                    
                    可读性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.4" data-path="api-guidelines-consistency.html">
            
                <a href="api-guidelines-consistency.html">
            
                    
                    一致性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.5" data-path="api-guidelines-predictability.html">
            
                <a href="api-guidelines-predictability.html">
            
                    
                    可预测性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.6" data-path="api-guidelines-debuggability.html">
            
                <a href="api-guidelines-debuggability.html">
            
                    
                    可调试性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.7" data-path="api-guidelines-testability.html">
            
                <a href="api-guidelines-testability.html">
            
                    
                    可测试性
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10.3" data-path="api-guidelines-backward-compatibility.html">
            
                <a href="api-guidelines-backward-compatibility.html">
            
                    
                    反向兼容性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.4" data-path="api-guidelines-informative-documentation.html">
            
                <a href="api-guidelines-informative-documentation.html">
            
                    
                    内容翔实的文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.5" data-path="api-guidelines-build-for-multiplatform.html">
            
                <a href="api-guidelines-build-for-multiplatform.html">
            
                    
                    构建多平台库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="d-eap.html">
            
                <a href="d-eap.html">
            
                    
                    早期访问计划（EAP）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="eap.html">
            
                <a href="eap.html">
            
                    
                    参与 Kotlin 早期访问计划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="configure-build-for-eap.html">
            
                <a href="configure-build-for-eap.html">
            
                    
                    配置构建采用 EAP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="d-other-resources.html">
            
                <a href="d-other-resources.html">
            
                    
                    其他资源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="d-compatibility.html">
            
                <a href="d-compatibility.html">
            
                    
                    Kotlin 兼容性指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.2.1" data-path="compatibility-guide-21.html">
            
                <a href="compatibility-guide-21.html">
            
                    
                    Kotlin 2.1 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.2" data-path="compatibility-guide-20.html">
            
                <a href="compatibility-guide-20.html">
            
                    
                    Kotlin 2.0 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.3" data-path="compatibility-guide-19.html">
            
                <a href="compatibility-guide-19.html">
            
                    
                    Kotlin 1.9 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.4" data-path="compatibility-guide-18.html">
            
                <a href="compatibility-guide-18.html">
            
                    
                    Kotlin 1.8 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.5" data-path="compatibility-guide-1720.html">
            
                <a href="compatibility-guide-1720.html">
            
                    
                    Kotlin 1.7.20 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.6" data-path="compatibility-guide-17.html">
            
                <a href="compatibility-guide-17.html">
            
                    
                    Kotlin 1.7 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.7" data-path="compatibility-guide-16.html">
            
                <a href="compatibility-guide-16.html">
            
                    
                    Kotlin 1.6 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.8" data-path="compatibility-guide-15.html">
            
                <a href="compatibility-guide-15.html">
            
                    
                    Kotlin 1.5 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.9" data-path="compatibility-guide-14.html">
            
                <a href="compatibility-guide-14.html">
            
                    
                    Kotlin 1.4 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.10" data-path="compatibility-guide-13.html">
            
                <a href="compatibility-guide-13.html">
            
                    
                    Kotlin 1.3 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.11" data-path="compatibility-modes.html">
            
                <a href="compatibility-modes.html">
            
                    
                    兼容模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="d-kotlin-foundation.html">
            
                <a href="d-kotlin-foundation.html">
            
                    
                    Kotlin 基金会
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.3.1" data-path="l-kotlin-foundation.html">
            
                <a href="l-kotlin-foundation.html">
            
                    
                    Kotlin 基金会↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.2" data-path="l-language-committee-guidelines.html">
            
                <a href="l-language-committee-guidelines.html">
            
                    
                    语言委员会准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.3" data-path="l-submitting-incompatible-changes.html">
            
                <a href="l-submitting-incompatible-changes.html">
            
                    
                    提交不兼容变更指南↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.4" data-path="l-guidelines.html">
            
                <a href="l-guidelines.html">
            
                    
                    Kotlin 品牌用途准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.5" data-path="l-foundation-faq.html">
            
                <a href="l-foundation-faq.html">
            
                    
                    Kotlin 基金会 FAQ↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="d-gsoc.html">
            
                <a href="d-gsoc.html">
            
                    
                    Google Summer of Code
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.4.1" data-path="gsoc-overview.html">
            
                <a href="gsoc-overview.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.2" data-path="l-gsoc-2025.html">
            
                <a href="l-gsoc-2025.html">
            
                    
                    Google Summer of Code with Kotlin 2025↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.3" data-path="l-gsoc-2024.html">
            
                <a href="l-gsoc-2024.html">
            
                    
                    Google Summer of Code with Kotlin 2024↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.4" data-path="l-gsoc-2023.html">
            
                <a href="l-gsoc-2023.html">
            
                    
                    Google Summer of Code with Kotlin 2023↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="security.html">
            
                <a href="security.html">
            
                    
                    安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="d-community.html">
            
                <a href="d-community.html">
            
                    
                    社区
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.6.1" data-path="contribute.html">
            
                <a href="contribute.html">
            
                    
                    贡献力量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.2" data-path="kug-guidelines.html">
            
                <a href="kug-guidelines.html">
            
                    
                    KUG 准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.3" data-path="kotlin-night-guidelines.html">
            
                <a href="kotlin-night-guidelines.html">
            
                    
                    Kotlin 之夜准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.4" data-path="slack-code-of-conduct.html">
            
                <a href="slack-code-of-conduct.html">
            
                    
                    Kotlin Slack 的行为准则与指南
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.7" data-path="kotlin-brand-assets.html">
            
                <a href="kotlin-brand-assets.html">
            
                    
                    Kotlin 品牌素材
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.8" data-path="l-press-kit.html">
            
                <a href="l-press-kit.html">
            
                    
                    宣传资料↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            本书使用 HonKit 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >K2 编译器迁移指南</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="k2-编译器迁移指南">K2 编译器迁移指南</h1>
<p>As the Kotlin language and ecosystem have continued to evolve, so has the Kotlin compiler. The first step was the
introduction of the new JVM and JS IR (Intermediate Representation) backends that share logic, simplifying code generation
for targets on different platforms. Now, the next stage of its evolution brings a new frontend known as K2.</p>
<p><img src="../images/k2-compiler-architecture.svg" alt="Kotlin K2 compiler architecture"></img></p>
<p>With the arrival of the K2 compiler, the Kotlin frontend has been completely rewritten and features a new,
more efficient architecture. The fundamental change the new compiler brings is the use of one unified data structure that
contains more semantic information. This frontend is responsible for performing semantic analysis, call resolution,
and type inference.</p>
<p>The new architecture and enriched data structure enables the K2 compiler to provide the following benefits:</p>
<ul>
<li><strong>Improved call resolution and type inference</strong>. The compiler behaves more consistently and understands your code better.</li>
<li><strong>Easier introduction of syntactic sugar for new language features</strong>. In the future, you'll be able to use more concise,
readable code when new features are introduced.</li>
<li><strong>Faster compilation times</strong>. Compilation times can be <a href="#performance-improvements">significantly faster</a>.</li>
<li><strong>Enhanced IDE performance</strong>. Starting with 2025.1, IntelliJ IDEA uses K2 mode to analyze your Kotlin code, increasing
stability and providing performance improvements. For more information, see <a href="#support-in-ides">Support in IDEs</a>.</li>
</ul>
<p>This guide:</p>
<ul>
<li>Explains the benefits of the new K2 compiler.</li>
<li>Highlights changes you might encounter during migration and how to adapt your code accordingly.</li>
<li>Describes how you can roll back to the previous version.</li>
</ul>
<blockquote>
<p>The new K2 compiler is enabled by default starting with 2.0.0. For more information on the new features provided
in Kotlin 2.0.0, as well as the new K2 compiler, see <a href="whatsnew20.html">What's new in Kotlin 2.0.0</a>.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h2 id="performance-improvements">Performance improvements</h2>
<p>To evaluate the performance of the K2 compiler, we ran performance tests on two open-source projects: <a href="https://github.com/ankidroid/Anki-Android" target="_blank">Anki-Android</a>
and <a href="https://github.com/JetBrains/Exposed" target="_blank">Exposed</a>. Here are the key performance improvements that we found:</p>
<ul>
<li>The K2 compiler brings up to 94% compilation speed gains. For example, in the Anki-Android project, clean build times
were reduced from 57.7 seconds in Kotlin 1.9.23 to 29.7 seconds in Kotlin 2.0.0.</li>
<li>The initialization phase is up to 488% faster with the K2 compiler. For example, in the Anki-Android project, the
initialization phase for incremental builds was cut from 0.126 seconds in Kotlin 1.9.23 to just 0.022 seconds in Kotlin 2.0.0.</li>
<li>The Kotlin K2 compiler is up to 376% quicker in the analysis phase compared to the previous compiler. For example,
in the Anki-Android project, analysis times for incremental builds were slashed from 0.581 seconds in Kotlin 1.9.23 to
only 0.122 seconds in Kotlin 2.0.0.</li>
</ul>
<p>For more details on these improvements and to learn more about how we analyzed the performance of the K2 compiler, see our
<a href="https://blog.jetbrains.com/kotlin/2024/04/k2-compiler-performance-benchmarks-and-how-to-measure-them-on-your-projects/" target="_blank">blog post</a>.</p>
<h2 id="language-feature-improvements">Language feature improvements</h2>
<p>The Kotlin K2 compiler improves language features related to <a href="#智能转换">smart-casting</a> and <a href="#kotlin-multiplatform">Kotlin Multiplatform</a>.</p>
<h3 id="智能转换">智能转换</h3>
<p>The Kotlin compiler can automatically cast an object to a type in specific cases,
saving you the trouble of having to explicitly specify it yourself. This is called <a href="typecasts.html#智能转换">smart-casting</a>.
The Kotlin K2 compiler now performs smart casts in even more scenarios than before.</p>
<p>In Kotlin 2.0.0, we've made improvements related to smart casts in the following areas:</p>
<ul>
<li><a href="#local-variables-and-further-scopes">Local variables and further scopes</a></li>
<li><a href="#type-checks-with-the-logical-or-operator">Type checks with the logical <code>or</code> operator</a></li>
<li><a href="#inline-functions">Inline functions</a></li>
<li><a href="#properties-with-function-types">Properties with function types</a></li>
<li><a href="#exception-handling">Exception handling</a></li>
<li><a href="#increment-and-decrement-operators">Increment and decrement operators</a></li>
</ul>
<h4 id="local-variables-and-further-scopes">Local variables and further scopes</h4>
<p>Previously, if a variable was evaluated as not <code>null</code> within an <code>if</code> condition, the variable would be smart-cast.
Information about this variable would then be shared further within the scope of the <code>if</code> block.</p>
<p>However, if you declared the variable <strong>outside</strong> the <code>if</code> condition, no information about the variable would be available
within the <code>if</code> condition, so it couldn't be smart-cast. This behavior was also seen with <code>when</code> expressions and <code>while</code> loops.</p>
<p>From Kotlin 2.0.0, if you declare a variable before using it in your <code>if</code>, <code>when</code>, or <code>while</code> condition, then any
information collected by the compiler about the variable will be accessible in the corresponding block for
smart-casting.</p>
<p>This can be useful when you want to do things like extract boolean conditions into variables. Then, you can give the
variable a meaningful name, which will improve your code readability and make it possible to reuse the variable later
in your code. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">purr</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"Purr purr"</span>)
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">petAnimal</span><span class="hljs-params">(animal: <span class="hljs-type">Any</span>)</span></span> {
    <span class="hljs-keyword">val</span> isCat = animal <span class="hljs-keyword">is</span> Cat
    <span class="hljs-keyword">if</span> (isCat) {
        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler can access</span>
        <span class="hljs-comment">// information about isCat, so it knows that</span>
        <span class="hljs-comment">// animal was smart-cast to the type Cat.</span>
        <span class="hljs-comment">// Therefore, the purr() function can be called.</span>
        <span class="hljs-comment">// In Kotlin 1.9.20, the compiler doesn't know</span>
        <span class="hljs-comment">// about the smart cast, so calling the purr()</span>
        <span class="hljs-comment">// function triggers an error.</span>
        animal.purr()
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">val</span> kitty = Cat()
    petAnimal(kitty)
    <span class="hljs-comment">// Purr purr</span>
}
</code></pre>
<h4 id="type-checks-with-the-logical-or-operator">Type checks with the logical or operator</h4>
<p>In Kotlin 2.0.0, if you combine type checks for objects with an <code>or</code> operator (<code>||</code>), a smart cast
is made to their closest common supertype. Before this change, a smart cast was always made to the <code>Any</code> type.</p>
<p>In this case, you still had to manually check the object type afterward before you could access any of its properties or
call its functions. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Status</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">signal</span><span class="hljs-params">()</span></span> {}
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Ok</span> : <span class="hljs-type">Status</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Postponed</span> : <span class="hljs-type">Status</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Declined</span> : <span class="hljs-type">Status</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">signalCheck</span><span class="hljs-params">(signalStatus: <span class="hljs-type">Any</span>)</span></span> {
    <span class="hljs-keyword">if</span> (signalStatus <span class="hljs-keyword">is</span> Postponed || signalStatus <span class="hljs-keyword">is</span> Declined) {
        <span class="hljs-comment">// signalStatus is smart-cast to a common supertype Status</span>
        signalStatus.signal()
        <span class="hljs-comment">// Prior to Kotlin 2.0.0, signalStatus is smart cast </span>
        <span class="hljs-comment">// to type Any, so calling the signal() function triggered an</span>
        <span class="hljs-comment">// Unresolved reference error. The signal() function can only </span>
        <span class="hljs-comment">// be called successfully after another type check:</span>

        <span class="hljs-comment">// check(signalStatus is Status)</span>
        <span class="hljs-comment">// signalStatus.signal()</span>
    }
}
</code></pre>
<blockquote>
<p>The common supertype is an <strong>approximation</strong> of a <a href="https://en.wikipedia.org/wiki/Union_type" target="_blank">union type</a>. Union types
are <a href="https://youtrack.jetbrains.com/issue/KT-13108/Denotable-union-and-intersection-types" target="_blank">not currently supported in Kotlin</a>.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h4 id="inline-functions">Inline functions</h4>
<p>In Kotlin 2.0.0, the K2 compiler treats inline functions differently,
allowing it to determine in combination with other compiler analyses whether it's safe to smart-cast.</p>
<p>Specifically, inline functions are now treated as having an implicit <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.contracts/-contract-builder/calls-in-place.html" target="_blank"><code>callsInPlace</code></a>
contract. This means that any lambda functions passed to an inline function are called in place. Since lambda functions
are called in place, the compiler knows that a lambda function can't leak references to any variables contained within
its function body.</p>
<p>The compiler uses this knowledge along with other compiler analyses to decide whether it's safe to smart-cast any of the
captured variables. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Processor</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">()</span></span>
}

<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">inlineAction</span><span class="hljs-params">(f: () -&gt; <span class="hljs-type">Unit</span>)</span></span> = f()

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">nextProcessor</span><span class="hljs-params">()</span></span>: Processor? = <span class="hljs-literal">null</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">runProcessor</span><span class="hljs-params">()</span></span>: Processor? {
    <span class="hljs-keyword">var</span> processor: Processor? = <span class="hljs-literal">null</span>
    inlineAction {
        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler knows that processor </span>
        <span class="hljs-comment">// is a local variable and inlineAction() is an inline function, so </span>
        <span class="hljs-comment">// references to processor can't be leaked. Therefore, it's safe </span>
        <span class="hljs-comment">// to smart-cast processor.</span>

        <span class="hljs-comment">// If processor isn't null, processor is smart-cast</span>
        <span class="hljs-keyword">if</span> (processor != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// The compiler knows that processor isn't null, so no safe call </span>
            <span class="hljs-comment">// is needed</span>
            processor.process()

            <span class="hljs-comment">// In Kotlin 1.9.20, you have to perform a safe call:</span>
            <span class="hljs-comment">// processor?.process()</span>
        }

        processor = nextProcessor()
    }

    <span class="hljs-keyword">return</span> processor
}
</code></pre>
<h4 id="properties-with-function-types">Properties with function types</h4>
<p>In previous versions of Kotlin, there was a bug that meant that class properties with a function type weren't smart-cast.
We fixed this behavior in Kotlin 2.0.0 and the K2 compiler. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>(<span class="hljs-keyword">val</span> provider: (() -&gt; <span class="hljs-built_in">Unit</span>)?) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// In Kotlin 2.0.0, if provider isn't null,</span>
        <span class="hljs-comment">// it is smart-cast</span>
        <span class="hljs-keyword">if</span> (provider != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// The compiler knows that provider isn't null</span>
            provider()

            <span class="hljs-comment">// In 1.9.20, the compiler doesn't know that provider isn't </span>
            <span class="hljs-comment">// null, so it triggers an error:</span>
            <span class="hljs-comment">// Reference has a nullable type '(() -&gt; Unit)?', use explicit '?.invoke()' to make a function-like call instead</span>
        }
    }
}
</code></pre>
<p>This change also applies if you overload your <code>invoke</code> operator. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Provider</span> {
    <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">invoke</span><span class="hljs-params">()</span></span>
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Processor</span> : <span class="hljs-type"></span>() -&gt; String

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>(<span class="hljs-keyword">val</span> provider: Provider?, <span class="hljs-keyword">val</span> processor: Processor?) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (provider != <span class="hljs-literal">null</span>) {
            provider() 
            <span class="hljs-comment">// In 1.9.20, the compiler triggers an error: </span>
            <span class="hljs-comment">// Reference has a nullable type 'Provider?', use explicit '?.invoke()' to make a function-like call instead</span>
        }
    }
}
</code></pre>
<h4 id="exception-handling">Exception handling</h4>
<p>In Kotlin 2.0.0, we've made improvements to exception handling so that smart cast information can be passed
on to <code>catch</code> and <code>finally</code> blocks. This change makes your code safer as the compiler keeps track of whether
your object has a nullable type. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">//sampleStart</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testString</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> stringInput: String? = <span class="hljs-literal">null</span>
    <span class="hljs-comment">// stringInput is smart-cast to String type</span>
    stringInput = <span class="hljs-string">""</span>
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// The compiler knows that stringInput isn't null</span>
        println(stringInput.length)
        <span class="hljs-comment">// 0</span>

        <span class="hljs-comment">// The compiler rejects previous smart cast information for </span>
        <span class="hljs-comment">// stringInput. Now stringInput has the String? type.</span>
        stringInput = <span class="hljs-literal">null</span>

        <span class="hljs-comment">// Trigger an exception</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-number">2</span> &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> Exception()
        stringInput = <span class="hljs-string">""</span>
    } <span class="hljs-keyword">catch</span> (exception: Exception) {
        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler knows stringInput </span>
        <span class="hljs-comment">// can be null, so stringInput stays nullable.</span>
        println(stringInput?.length)
        <span class="hljs-comment">// null</span>

        <span class="hljs-comment">// In Kotlin 1.9.20, the compiler says that a safe call isn't</span>
        <span class="hljs-comment">// needed, but this is incorrect.</span>
    }
}
<span class="hljs-comment">//sampleEnd</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    testString()
}
</code></pre>
<h4 id="increment-and-decrement-operators">Increment and decrement operators</h4>
<p>Prior to Kotlin 2.0.0, the compiler didn't understand that the type of an object can change after using
an increment or decrement operator. As the compiler couldn't accurately track the object type,
your code could lead to unresolved reference errors. In Kotlin 2.0.0, this has been fixed:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Rho</span> {
    <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">inc</span><span class="hljs-params">()</span></span>: Sigma = TODO()
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Sigma</span> : <span class="hljs-type">Rho</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">sigma</span><span class="hljs-params">()</span></span> = <span class="hljs-built_in">Unit</span>
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Tau</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">tau</span><span class="hljs-params">()</span></span> = <span class="hljs-built_in">Unit</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(input: <span class="hljs-type">Rho</span>)</span></span> {
    <span class="hljs-keyword">var</span> unknownObject: Rho = input

    <span class="hljs-comment">// Check if unknownObject inherits from the Tau interface</span>
    <span class="hljs-comment">// Note, it's possible that unknownObject inherits from both</span>
    <span class="hljs-comment">// Rho and Tau interfaces.</span>
    <span class="hljs-keyword">if</span> (unknownObject <span class="hljs-keyword">is</span> Tau) {

        <span class="hljs-comment">// Use the overloaded inc() operator from interface Rho.</span>
        <span class="hljs-comment">// In Kotlin 2.0.0, the type of unknownObject is smart-cast to</span>
        <span class="hljs-comment">// Sigma.</span>
        ++unknownObject

        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler knows unknownObject has type</span>
        <span class="hljs-comment">// Sigma, so the sigma() function can be called successfully.</span>
        unknownObject.sigma()

        <span class="hljs-comment">// In Kotlin 1.9.20, the compiler doesn't perform a smart cast</span>
        <span class="hljs-comment">// when inc() is called so the compiler still thinks that </span>
        <span class="hljs-comment">// unknownObject has type Tau. Calling the sigma() function </span>
        <span class="hljs-comment">// throws a compile-time error.</span>

        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler knows unknownObject has type</span>
        <span class="hljs-comment">// Sigma, so calling the tau() function throws a compile-time </span>
        <span class="hljs-comment">// error.</span>
        unknownObject.tau()
        <span class="hljs-comment">// Unresolved reference 'tau'</span>

        <span class="hljs-comment">// In Kotlin 1.9.20, since the compiler mistakenly thinks that </span>
        <span class="hljs-comment">// unknownObject has type Tau, the tau() function can be called,</span>
        <span class="hljs-comment">// but it throws a ClassCastException.</span>
    }
}
</code></pre>
<h3 id="kotlin-multiplatform">Kotlin Multiplatform</h3>
<p>There are improvements in the K2 compiler related to Kotlin Multiplatform in the following areas:</p>
<ul>
<li><a href="#separation-of-common-and-platform-sources-during-compilation">Separation of common and platform sources during compilation</a></li>
<li><a href="#different-visibility-levels-of-expected-and-actual-declarations">Different visibility levels of expected and actual declarations</a></li>
</ul>
<h4 id="separation-of-common-and-platform-sources-during-compilation">Separation of common and platform sources during compilation</h4>
<p>Previously, the design of the Kotlin compiler prevented it from keeping common and platform source sets separate
at compile time. As a consequence, common code could access platform code, which resulted in different behavior
between platforms. In addition, some compiler settings and dependencies from common code used to leak into platform code.</p>
<p>In Kotlin 2.0.0, our implementation of the new Kotlin K2 compiler included a redesign of the compilation scheme to ensure
strict separation between common and platform source sets. This change is most noticeable when you use <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-expect-actual.html#expected-and-actual-functions" target="_blank">expected and actual functions</a>.
Previously, it was possible for a function call in your common code to resolve to a function in platform code. For example:</p>
<table>
   <tr>
       <td>Common code</td>
       <td>Platform code</td>
   </tr>
   <tr>
<td>

```kotlin
fun foo(x: Any) = println("common foo")

fun exampleFunction() {
    foo(42)
}
```

</td>
<td>

```kotlin
// JVM
fun foo(x: Int) = println("platform foo")

// JavaScript
// There is no foo() function overload on the JavaScript platform
```

</td>
</tr>
</table>

<p>In this example, the common code has different behavior depending on which platform it is run on:</p>
<ul>
<li>On the JVM platform, calling the <code>foo()</code> function in the common code results in the <code>foo()</code> function from the platform code
being called as <code>platform foo</code>.</li>
<li>On the JavaScript platform, calling the <code>foo()</code> function in the common code results in the <code>foo()</code> function from the
common code being called as <code>common foo</code>, as there is no such function available in the platform code.</li>
</ul>
<p>In Kotlin 2.0.0, common code doesn't have access to platform code, so both platforms successfully resolve the <code>foo()</code>
function to the <code>foo()</code> function in the common code: <code>common foo</code>.</p>
<p>In addition to the improved consistency of behavior across platforms, we also worked hard to fix cases where there was
conflicting behavior between IntelliJ IDEA or Android Studio and the compiler. For instance, when you used <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-expect-actual.html#expected-and-actual-classes" target="_blank">expected and actual classes</a>,
the following would happen:</p>
<table>
   <tr>
       <td>Common code</td>
       <td>Platform code</td>
   </tr>
   <tr>
<td>

```kotlin
expect class Identity {
    fun confirmIdentity(): String
}

fun common() {
    // Before 2.0.0, it triggers an IDE-only error
    Identity().confirmIdentity()
    // RESOLUTION_TO_CLASSIFIER : Expected class Identity has no default constructor.
}
```

</td>
<td>

```kotlin
actual class Identity {
    actual fun confirmIdentity() = "expect class fun: jvm"
}
```

</td>
</tr>
</table>

<p>In this example, the expected class <code>Identity</code> has no default constructor, so it can't be called successfully in common code.
Previously, an error was only reported by the IDE, but the code still compiled successfully on the JVM. However, now the
compiler correctly reports an error:</p>
<pre><code>Expected class 'expect class Identity : Any' does not have default constructor
</code></pre><h5 id="when-resolution-behavior-doesnt-change">When resolution behavior doesn't change</h5>
<p>We're still in the process of migrating to the new compilation scheme, so the resolution behavior is still the same when
you call functions that aren't within the same source set. You'll notice this difference mainly when you use overloads
from a multiplatform library in your common code.</p>
<p>Suppose you have a library, which has two <code>whichFun()</code> functions with different signatures:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Example library</span>

<span class="hljs-comment">// MODULE: common</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">whichFun</span><span class="hljs-params">(x: <span class="hljs-type">Any</span>)</span></span> = println(<span class="hljs-string">"common function"</span>) 

<span class="hljs-comment">// MODULE: JVM</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">whichFun</span><span class="hljs-params">(x: <span class="hljs-type">Int</span>)</span></span> = println(<span class="hljs-string">"platform function"</span>)
</code></pre>
<p>If you call the <code>whichFun()</code> function in your common code, the function that has the most relevant argument type in the
library will be resolved:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// A project that uses the example library for the JVM target</span>

<span class="hljs-comment">// MODULE: common</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    whichFun(<span class="hljs-number">2</span>) 
    <span class="hljs-comment">// platform function</span>
}
</code></pre>
<p>In comparison, if you declare the overloads for <code>whichFun()</code> within the same source set, the function from the common
code will be resolved because your code doesn't have access to the platform-specific version:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Example library isn't used</span>

<span class="hljs-comment">// MODULE: common</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">whichFun</span><span class="hljs-params">(x: <span class="hljs-type">Any</span>)</span></span> = println(<span class="hljs-string">"common function"</span>) 

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    whichFun(<span class="hljs-number">2</span>) 
    <span class="hljs-comment">// common function</span>
}

<span class="hljs-comment">// MODULE: JVM</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">whichFun</span><span class="hljs-params">(x: <span class="hljs-type">Int</span>)</span></span> = println(<span class="hljs-string">"platform function"</span>)
</code></pre>
<p>Similar to multiplatform libraries, since the <code>commonTest</code> module is in a separate source set, it also still has access
to platform-specific code. Therefore, the resolution of calls to functions in the <code>commonTest</code> module exhibits the same
behavior as in the old compilation scheme.</p>
<p>In the future, these remaining cases will be more consistent with the new compilation scheme.</p>
<h4 id="different-visibility-levels-of-expected-and-actual-declarations">Different visibility levels of expected and actual declarations</h4>
<p>Before Kotlin 2.0.0, if you used <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-expect-actual.html" target="_blank">expected and actual declarations</a> in your
Kotlin Multiplatform project, they had to have the same <a href="visibility-modifiers.html">visibility level</a>.
Kotlin 2.0.0 now also supports different visibility levels but <strong>only</strong> if the actual declaration is <em>more</em> permissive than
the expected declaration. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">expect</span> <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Attribute</span> // <span class="hljs-title">Visibility</span> <span class="hljs-title">is</span> <span class="hljs-keyword">internal</span>
<span class="hljs-keyword">actual</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Attribute</span>          // <span class="hljs-title">Visibility</span> <span class="hljs-title">is</span> <span class="hljs-keyword">public</span> <span class="hljs-title">by</span> <span class="hljs-title">default</span>,
                                <span class="hljs-type">//</span> <span class="hljs-title">which</span> <span class="hljs-title">is</span> <span class="hljs-title">more</span> <span class="hljs-title">permissive</span>
</code></pre>
<p>Similarly, if you are using a <a href="type-aliases.html">type alias</a> in your actual declaration, the visibility of the <strong>underlying type</strong>
should be the same or more permissive than the expected declaration. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">expect</span> <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Attribute</span>                 // <span class="hljs-title">Visibility</span> <span class="hljs-title">is</span> <span class="hljs-keyword">internal</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">actual</span> <span class="hljs-keyword">typealias</span> Attribute = Expanded

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Expanded</span>                                  // <span class="hljs-title">Visibility</span> <span class="hljs-title">is</span> <span class="hljs-keyword">public</span> <span class="hljs-title">by</span> <span class="hljs-title">default</span>,
                                                <span class="hljs-type">//</span> <span class="hljs-title">which</span> <span class="hljs-title">is</span> <span class="hljs-title">more</span> <span class="hljs-title">permissive</span>
</code></pre>
<h2 id="how-to-enable-the-kotlin-k2-compiler">How to enable the Kotlin K2 compiler</h2>
<p>Starting with Kotlin 2.0.0, the Kotlin K2 compiler is enabled by default.</p>
<p>To upgrade the Kotlin version, change it to 2.0.0 or a later release in your <a href="gradle-configure-project.html#apply-the-plugin">Gradle</a> and
<a href="maven.html#configure-and-enable-the-plugin">Maven</a> build scripts.</p>
<p>To have the best experience with IntelliJ IDEA or Android Studio, consider <a href="#support-in-ides">enabling K2 mode</a>
in your IDE.</p>
<h3 id="use-kotlin-build-reports-with-gradle">Use Kotlin build reports with Gradle</h3>
<p>Kotlin <a href="gradle-compilation-and-caches.html#build-reports">build reports</a> provide information about the time spent in
different compilation phases for Kotlin compiler tasks, as well as which compiler and Kotlin version were used,
and whether the compilation was incremental. These build reports are useful for assessing your build performance. They
offer more insight into the Kotlin compilation pipeline than <a href="https://scans.gradle.com/" target="_blank">Gradle build scans</a> do
because they give you an overview of the performance of all Gradle tasks.</p>
<h4 id="how-to-enable-build-reports">How to enable build reports</h4>
<p>To enable build reports, declare where you'd like to save the build report output in your <code>gradle.properties</code> file:</p>
<pre><code>kotlin.build.report.output=file
</code></pre><p>The following values and their combinations are available for the output:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td>Saves build reports in a human-readable format to a local file. By default, it's <code>${project_folder}/build/reports/kotlin-build/${project_name}-timestamp.txt</code></td>
</tr>
<tr>
<td><code>single_file</code></td>
<td>Saves build reports in a format of an object to a specified local file.</td>
</tr>
<tr>
<td><code>build_scan</code></td>
<td>Saves build reports in the <code>custom values</code> section of the <a href="https://scans.gradle.com/" target="_blank">build scan</a>. Note that the Gradle Enterprise plugin limits the number of custom values and their length. In big projects, some values could be lost.</td>
</tr>
<tr>
<td><code>http</code></td>
<td>Posts build reports using HTTP(S). The POST method sends metrics in JSON format. You can see the current version of the sent data in the <a href="https://github.com/JetBrains/kotlin/blob/master/libraries/tools/kotlin-gradle-plugin/src/common/kotlin/org/jetbrains/kotlin/gradle/report/data/GradleCompileStatisticsData.kt" target="_blank">Kotlin repository</a>. You can find samples of HTTP endpoints in <a href="https://blog.jetbrains.com/kotlin/2022/06/introducing-kotlin-build-reports/?_gl=1*1a7pghy*_ga*MTcxMjc1NzE5Ny4xNjY1NDAzNjkz*_ga_9J976DJZ68*MTcxNTA3NjA2NS4zNzcuMS4xNzE1MDc2MDc5LjQ2LjAuMA..&amp;_ga=2.265800911.1124071296.1714976764-1712757197.1665403693#enable_build_reports" target="_blank">this blog post</a></td>
</tr>
<tr>
<td><code>json</code></td>
<td>Saves build reports in JSON format to a local file. Set the location for your build reports in <code>kotlin.build.report.json.directory</code>. By default, it's name is <code>${project_name}-build-&lt;date-time&gt;-&lt;index&gt;.json</code>.</td>
</tr>
</tbody>
</table>
<p>For more information on what is possible with build reports, see <a href="gradle-compilation-and-caches.html#build-reports">Build reports</a>.</p>
<h2 id="support-in-ides">Support in IDEs</h2>
<p>K2 mode in IntelliJ IDEA and Android Studio uses the K2 compiler to improve code analysis, code completion, and highlighting.</p>
<p>Starting with IntelliJ IDEA 2025.1, K2 mode is <a href="https://blog.jetbrains.com/idea/2025/04/k2-mode-in-intellij-idea-2025-1-current-state-and-faq/" target="_blank">enabled by default</a>.</p>
<p>In Android Studio, you can enable K2 mode starting with 2024.1 by following these steps:</p>
<ol>
<li>Go to <strong>Settings</strong> | <strong>Languages &amp; Frameworks</strong> | <strong>Kotlin</strong>.</li>
<li>Select the <strong>Enable K2 mode</strong> option.</li>
</ol>
<h3 id="previous-ide-behavior">Previous IDE behavior</h3>
<p>If you want to go back to the previous IDE behavior, you can disable K2 mode:</p>
<ol>
<li>Go to <strong>Settings</strong> | <strong>Languages &amp; Frameworks</strong> | <strong>Kotlin</strong>.</li>
<li>Deselect the <strong>Enable K2 mode</strong> option.</li>
</ol>
<blockquote>
<p>We plan to introduce <a href="components-stability.html#stability-levels-explained">Stable</a> language features after Kotlin 2.1.0.
Until then, you can continue to use the previous IDE features for code analysis, and you won't encounter any code highlighting
issues due to unrecognized language features.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h2 id="try-the-kotlin-k2-compiler-in-the-kotlin-playground">Try the Kotlin K2 compiler in the Kotlin Playground</h2>
<p>The Kotlin Playground supports Kotlin 2.0.0 and later releases. <a href="https://pl.kotl.in/czuoQprce" target="_blank">Check it out!</a></p>
<h2 id="how-to-roll-back-to-the-previous-compiler">How to roll back to the previous compiler</h2>
<p>To use the previous compiler in Kotlin 2.0.0 and later releases, either:</p>
<ul>
<li><p>In your <code>build.gradle.kts</code> file, <a href="gradle-compiler-options.html#设置-languageversion-的示例">set your language version</a> to <code>1.9</code>.</p>
<p>OR</p>
</li>
<li>Use the following compiler option: <code>-language-version 1.9</code>.</li>
</ul>
<h2 id="changes">Changes</h2>
<p>With the introduction of the new frontend, the Kotlin compiler has undergone several changes. Let's start by highlighting
the most significant modifications affecting your code, explaining what has changed and detailing best practices going
forward. If you'd like to learn more, we've organized these changes into <a href="#per-subject-area">subject areas</a> to facilitate
your further reading.</p>
<p>This section highlights the following modifications:</p>
<ul>
<li><a href="#immediate-initialization-of-open-properties-with-backing-fields">Immediate initialization of open properties with backing fields</a></li>
<li><a href="#deprecated-synthetics-setter-on-a-projected-receiver">Deprecated synthetic setters on a projected receiver</a></li>
<li><a href="#forbidden-use-of-inaccessible-generic-types">Forbidden use of inaccessible generic types</a></li>
<li><a href="#consistent-resolution-order-of-kotlin-properties-and-java-fields-with-the-same-name">Consistent resolution order of Kotlin properties and Java fields with the same name</a></li>
<li><a href="#improved-null-safety-for-java-primitive-arrays">Improved null safety for Java primitive arrays</a></li>
<li><a href="#stricter-rules-for-abstract-members-in-expected-classes">Stricter rules for abstract members in expected classes</a></li>
</ul>
<h3 id="immediate-initialization-of-open-properties-with-backing-fields">Immediate initialization of open properties with backing fields</h3>
<p><strong>What's changed?</strong></p>
<p>In Kotlin 2.0, all <code>open</code> properties with backing fields must be immediately initialized; otherwise, you'll get a
compilation error. Previously, only <code>open var</code> properties needed to be initialized right away, but now this extends
to <code>open val</code> properties with backing fields too:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">open</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
    <span class="hljs-keyword">open</span> <span class="hljs-keyword">val</span> a: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">open</span> <span class="hljs-keyword">var</span> b: <span class="hljs-built_in">Int</span>

    <span class="hljs-keyword">init</span> {
        <span class="hljs-comment">// Error starting with Kotlin 2.0 that earlier compiled successfully </span>
        <span class="hljs-keyword">this</span>.a = <span class="hljs-number">1</span> <span class="hljs-comment">//Error: open val must have initializer</span>
        <span class="hljs-comment">// Always an error</span>
        <span class="hljs-keyword">this</span>.b = <span class="hljs-number">1</span> <span class="hljs-comment">// Error: open var must have initializer</span>
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-type">Base</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> a: <span class="hljs-built_in">Int</span> = <span class="hljs-number">2</span>
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> b = <span class="hljs-number">2</span>
}
</code></pre>
<p>This change makes the compiler's behavior more predictable. Consider an example where an <code>open val</code> property is overridden
by a <code>var</code> property with a custom setter.</p>
<p>If a custom setter is used, deferred initialization can lead to confusion because it's unclear whether you want to
initialize the backing field or to invoke the setter. In the past, if you wanted to invoke the setter, the old compiler
couldn't guarantee that the setter would then initialize the backing field.</p>
<p><strong>What's the best practice now?</strong></p>
<p>We encourage you to always initialize open properties with backing fields, as we believe this practice is both more
efficient and less error-prone.</p>
<p>However, if you don't want to immediately initialize a property, you can:</p>
<ul>
<li>Make the property <code>final</code>.</li>
<li>Use a private backing property that allows for deferred initialization.</li>
</ul>
<p>For more information, see the <a href="https://youtrack.jetbrains.com/issue/KT-57555" target="_blank">corresponding issue in YouTrack</a>.</p>
<h3 id="deprecated-synthetics-setter-on-a-projected-receiver">Deprecated synthetics setter on a projected receiver</h3>
<p><strong>What's changed?</strong></p>
<p>If you use the synthetic setter of a Java class to assign a type that conflicts with the class's projected type,
an error is triggered.</p>
<p>Suppose you have a Java class named <code>Container</code> that contains the <code>getFoo()</code> and <code>setFoo()</code> methods:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Container</span>&lt;E&gt; {
    <span class="hljs-keyword">public</span> E <span class="hljs-title function_">getFoo</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setFoo</span><span class="hljs-params">(E foo)</span> {}
}
</code></pre>
<p>If you have the following Kotlin code, where instances of the <code>Container</code> class have projected types, using the <code>setFoo()</code>
method will always generate an error. However, only from Kotlin 2.0.0 will the synthetic <code>foo</code> property trigger an error:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">exampleFunction</span><span class="hljs-params">(starProjected: <span class="hljs-type">Container</span>&lt;*&gt;, inProjected: <span class="hljs-type">Container</span>&lt;<span class="hljs-type">in</span> <span class="hljs-type">Number</span>&gt;, sampleString: <span class="hljs-type">String</span>)</span></span> {
    starProjected.setFoo(sampleString)
    <span class="hljs-comment">// Error since Kotlin 1.0</span>

    <span class="hljs-comment">// Synthetic setter `foo` is resolved to the `setFoo()` method</span>
    starProjected.foo = sampleString
    <span class="hljs-comment">// Error since Kotlin 2.0.0</span>

    inProjected.setFoo(sampleString)
    <span class="hljs-comment">// Error since Kotlin 1.0</span>

    <span class="hljs-comment">// Synthetic setter `foo` is resolved to the `setFoo()` method</span>
    inProjected.foo = sampleString
    <span class="hljs-comment">// Error since Kotlin 2.0.0</span>
}
</code></pre>
<p><strong>What's the best practice now?</strong></p>
<p>If you see that this change introduces errors in your code, you might wish to reconsider how you structure your type
declarations. It could be that you don't need to use type projections, or perhaps you need to remove any assignments
from your code.</p>
<p>For more information, see the <a href="https://youtrack.jetbrains.com/issue/KT-54309" target="_blank">corresponding issue in YouTrack</a>.</p>
<h3 id="forbidden-use-of-inaccessible-generic-types">Forbidden use of inaccessible generic types</h3>
<p><strong>What's changed?</strong></p>
<p>Due to the new architecture of our K2 compiler, we've changed how we handle inaccessible generic types. Generally, you 
should never rely on inaccessible generic types in your code because this indicates a misconfiguration in your project's 
build configuration, preventing the compiler from accessing the necessary information to compile. In Kotlin 2.0.0, you 
can't declare or call a function literal with an inaccessible generic type, nor use a generic type with inaccessible generic
type arguments. This restriction helps you avoid compiler errors later in your code.</p>
<p>For example, let's say that you declared a generic class in one module:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Module one</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>&lt;<span class="hljs-type">V</span>&gt;(<span class="hljs-keyword">val</span> value: V)
</code></pre>
<p>If you have another module (module two) with a dependency configured on module one, your code can access the <code>Node&lt;V&gt;</code> 
class and use it as a type in function types:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Module two</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">(func: (<span class="hljs-type">Node</span>&lt;<span class="hljs-type">Int</span>&gt;) -&gt; <span class="hljs-type">Unit</span>)</span></span> {}
<span class="hljs-comment">// Function compiles successfully</span>
</code></pre>
<p>However, if your project is misconfigured such that you have a third module (module three) that depends only on module 
two, the Kotlin compiler won't be able to access the <code>Node&lt;V&gt;</code> class in <strong>module one</strong> when compiling the third module. 
Now, any lambdas or anonymous functions in module three that use the <code>Node&lt;V&gt;</code> type trigger errors in Kotlin 2.0.0, thus
preventing avoidable compiler errors, crashes, and run-time exceptions later in your code:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Module three</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// Triggers an error in Kotlin 2.0.0, as the type of the implicit </span>
    <span class="hljs-comment">// lambda parameter (it) resolves to Node, which is inaccessible</span>
    execute {}

    <span class="hljs-comment">// Triggers an error in Kotlin 2.0.0, as the type of the unused </span>
    <span class="hljs-comment">// lambda parameter (_) resolves to Node, which is inaccessible</span>
    execute { _ -&gt; }

    <span class="hljs-comment">// Triggers an error in Kotlin 2.0.0, as the type of the unused</span>
    <span class="hljs-comment">// anonymous function parameter (_) resolves to Node, which is inaccessible</span>
    execute(<span class="hljs-function"><span class="hljs-title">fun</span> <span class="hljs-params">(_)</span></span> {})
}
</code></pre>
<p>In addition to function literals triggering errors when they contain value parameters of inaccessible generic types, 
errors also occur when a type has an inaccessible generic type argument.</p>
<p>For example, you have the same generic class declaration in module one. In module two, you declare another generic class:
<code>Container&lt;C&gt;</code>. In addition, you declare functions in module two that use <code>Container&lt;C&gt;</code> with generic class <code>Node&lt;V&gt;</code> as
a type argument:</p>
<table>
   <tr>
       <td>Module one</td>
       <td>Module two</td>
   </tr>
   <tr>
<td>

```kotlin
// Module one
class Node<v>(val value: V)
```

</v></td>
<td>

```kotlin
// Module two
class Container<c>(vararg val content: C)

// Functions with generic class type that
// also have a generic class type argument
fun produce(): Container<node<int>&gt; = Container(Node(42))
fun consume(arg: Container<node<int>&gt;) {}
```

</node<int></node<int></c></td>
</tr>
</table>


<p>If you try to call these functions in module three, an error is triggered in Kotlin 2.0.0 because the generic class 
<code>Node&lt;V&gt;</code> is inaccessible from module three:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Module three</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// Triggers an error in Kotlin 2.0.0, as generic class Node&lt;V&gt; is </span>
    <span class="hljs-comment">// inaccessible</span>
    consume(produce())
}
</code></pre>
<p>In future releases we will continue to deprecate the use of inaccessible types in general. We have already started in 
Kotlin 2.0.0 by adding warnings for some scenarios with inaccessible types, including non-generic ones.</p>
<p>For example, let's use the same module setup as the previous examples, but turn the generic class <code>Node&lt;V&gt;</code> into a 
non-generic class <code>IntNode</code>, with all functions declared in module two:</p>
<table>
   <tr>
       <td>Module one</td>
       <td>Module two</td>
   </tr>
   <tr>
<td>

```kotlin
// Module one
class IntNode(val value: Int)
```

</td>
<td>

```kotlin
// Module two
// A function that contains a lambda 
// parameter with `IntNode` type
fun execute(func: (IntNode) -&gt; Unit) {}

class Container<c>(vararg val content: C)

// Functions with generic class type
// that has `IntNode` as a type argument
fun produce(): Container<intnode> = Container(IntNode(42))
fun consume(arg: Container<intnode>) {}
```

</intnode></intnode></c></td>
</tr>
</table>

<p>If you call these functions in module three, some warnings are triggered:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Module three</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// Triggers warnings in Kotlin 2.0.0, as class IntNode is </span>
    <span class="hljs-comment">// inaccessible.</span>

    execute {}
    <span class="hljs-comment">// Class 'IntNode' of the parameter 'it' is inaccessible.</span>

    execute { _ -&gt; }
    execute(<span class="hljs-function"><span class="hljs-title">fun</span> <span class="hljs-params">(_)</span></span> {})
    <span class="hljs-comment">// Class 'IntNode' of the parameter '_' is inaccessible.</span>

    <span class="hljs-comment">// Will trigger a warning in future Kotlin releases, as IntNode is</span>
    <span class="hljs-comment">// inaccessible.</span>
    consume(produce())
}
</code></pre>
<p><strong>What's the best practice now?</strong></p>
<p>If you encounter new warnings regarding inaccessible generic types, it's highly likely that there's an issue with your 
build system configuration. We recommend checking your build scripts and configuration. </p>
<p>As a last resort, you can configure a direct dependency for module three on module one. Alternatively, you can modify 
your code to make the types accessible within the same module.</p>
<p>For more information, see the <a href="https://youtrack.jetbrains.com/issue/KT-64474" target="_blank">corresponding issue in YouTrack</a>.</p>
<h3 id="consistent-resolution-order-of-kotlin-properties-and-java-fields-with-the-same-name">Consistent resolution order of Kotlin properties and Java fields with the same name</h3>
<p><strong>What's changed?</strong></p>
<p>Before Kotlin 2.0.0, if you worked with Java and Kotlin classes that inherited from each other and contained Kotlin
properties and Java fields with the same name, the resolution behavior of the duplicated name was inconsistent. There was
also conflicting behavior between IntelliJ IDEA and the compiler. When developing
the new resolution behavior for Kotlin 2.0.0, we aimed to cause the least impact to users.</p>
<p>For example, suppose there is a Java class <code>Base</code>:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-string">"a"</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-string">"b"</span>;
}
</code></pre>
<p>Let's say there is also a Kotlin class <code>Derived</code> that inherits from the aforementioned <code>Base</code> class:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-type">Base</span>() {
    <span class="hljs-keyword">val</span> a = <span class="hljs-string">"aa"</span>

    <span class="hljs-comment">// Declares custom get() function</span>
    <span class="hljs-keyword">val</span> b <span class="hljs-keyword">get</span>() = <span class="hljs-string">"bb"</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// Resolves Derived.a</span>
    println(a)
    <span class="hljs-comment">// aa</span>

    <span class="hljs-comment">// Resolves Base.b</span>
    println(b)
    <span class="hljs-comment">// b</span>
}
</code></pre>
<p>Prior to Kotlin 2.0.0, <code>a</code> resolves to the Kotlin property within the <code>Derived</code> Kotlin class, whereas <code>b</code> resolves to
the Java field in the <code>Base</code> Java class.</p>
<p>In Kotlin 2.0.0, the resolution behavior in the example is consistent, ensuring that the Kotlin property supersedes the
Java field of the same name. Now, <code>b</code> resolves to: <code>Derived.b</code>.</p>
<blockquote>
<p>Prior to Kotlin 2.0.0, if you used IntelliJ IDEA to go to the declaration or usage of <code>a</code>, it would incorrectly
navigate to the Java field when it should have navigated to the Kotlin property.</p>
<p>From Kotlin 2.0.0, IntelliJ IDEA correctly navigates to the same location as the compiler.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>The general rule is that the subclass takes precedence. The previous example demonstrates this, as the Kotlin property
<code>a</code> from the <code>Derived</code> class is resolved because <code>Derived</code> is a subclass of the <code>Base</code> Java class.</p>
<p>In the event that the inheritance is reversed and a Java class inherits from a Kotlin class, the Java field in the
subclass takes precedence over the Kotlin property with the same name.</p>
<p>Consider this example:</p>
<table>
   <tr>
       <td>Kotlin</td>
       <td>Java</td>
   </tr>
   <tr>
<td>

```kotlin
open class Base {
    val a = "aa"
}
```

</td>
<td>

```java
public class Derived extends Base {
    public String a = "a";
}
```

</td>
</tr>
</table>

<p>Now in the following code:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// Resolves Derived.a</span>
    println(a)
    <span class="hljs-comment">// a</span>
}
</code></pre>
<p><strong>What's the best practice now?</strong></p>
<p>If this change affects your code, consider whether you really need to use duplicate names. If you want to have Java or
Kotlin classes that each contain a field or property with the same name and that each inherit from one another, keep in
mind that the field or property in the subclass will take precedence.</p>
<p>For more information, see the <a href="https://youtrack.jetbrains.com/issue/KT-55017" target="_blank">corresponding issue in YouTrack</a>.</p>
<h3 id="improved-null-safety-for-java-primitive-arrays">Improved null safety for Java primitive arrays</h3>
<p><strong>What's changed?</strong></p>
<p>Starting with Kotlin 2.0.0, the compiler correctly infers the nullability of Java primitive arrays imported to Kotlin.
Now, it retains native nullability from the <code>TYPE_USE</code> annotations used with Java primitive arrays and emits errors when
their values are not used according to annotations.</p>
<p>Usually, when Java types with <code>@Nullable</code> and <code>@NotNull</code> annotations are called from Kotlin, they receive the appropriate
native nullability:</p>
<pre><code class="lang-java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">DataService</span> {
    <span class="hljs-meta">@NotNull</span> ResultContainer&lt;<span class="hljs-meta">@Nullable</span> String&gt; fetchData();
}
</code></pre>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> dataService: DataService = ... 
dataService.fetchData() <span class="hljs-comment">// -&gt; ResultContainer&lt;String?&gt;</span>
</code></pre>
<p>Previously, however, when Java primitive arrays were imported to Kotlin, all <code>TYPE_USE</code> annotations were lost, resulting
in platform nullability and possibly unsafe code:</p>
<pre><code class="lang-java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">DataProvider</span> {
    <span class="hljs-type">int</span> <span class="hljs-meta">@Nullable</span> [] fetchData();
}
</code></pre>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> dataService: DataProvider = ...
dataService.fetchData() <span class="hljs-comment">// -&gt; IntArray .. IntArray?</span>
<span class="hljs-comment">// No error, even though `dataService.fetchData()` might be `null` according to annotations</span>
<span class="hljs-comment">// This might result in a NullPointerException</span>
dataService.fetchData()[<span class="hljs-number">0</span>]
</code></pre>
<p>Note that this issue never affected nullability annotations on the declaration itself, only the <code>TYPE_USE</code> ones.</p>
<p><strong>What's the best practice now?</strong></p>
<p>In Kotlin 2.0.0, null safety for Java primitive arrays is now standard in Kotlin, so check your code for new warnings
and errors if you use them:</p>
<ul>
<li>Any code that uses a <code>@Nullable</code> Java primitive array without an explicit nullability check or attempts to pass <code>null</code>
to a Java method expecting a non-nullable primitive array will now fail to compile.</li>
<li>Using a <code>@NotNull</code> primitive array with a nullability check now emits "Unnecessary safe call" or "Comparison with null
always false" warnings.</li>
</ul>
<p>For more information, see the <a href="https://youtrack.jetbrains.com/issue/KT-54521" target="_blank">corresponding issue in YouTrack</a>.</p>
<h3 id="stricter-rules-for-abstract-members-in-expected-classes">Stricter rules for abstract members in expected classes</h3>
<blockquote>
<p>Expected and actual classes are in <a href="components-stability.html#stability-levels-explained">Beta</a>.
They are almost stable, but you may need to perform migration steps in the future.
We'll do our best to minimize any further changes for you to make.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p><strong>What's changed?</strong></p>
<p>Due to the separation of common and platform sources during compilation with the K2 compiler, we've implemented stricter
rules for abstract members in expected classes.</p>
<p>With the previous compiler, it was possible for an expected non-abstract class to inherit an abstract function without 
<a href="inheritance.html#覆盖规则">overriding the function</a>. Since the compiler could access both common and platform code
at the same time, the compiler could see whether the abstract function had a corresponding override and definition in the
actual class.</p>
<p>Now that common and platform sources are compiled separately, the inherited function must be explicitly overridden in the
expected class so that the compiler knows the function is not abstract. Otherwise, the compiler reports an 
<code>ABSTRACT_MEMBER_NOT_IMPLEMENTED</code> error.</p>
<p>For example, let's say you have a common source set where you declare an abstract class called <code>FileSystem</code> that has an 
abstract function <code>listFiles()</code>. You define the <code>listFiles()</code> function in the platform source set as part of an actual 
declaration.</p>
<p>In your common code, if you have an expected non-abstract class called <code>PlatformFileSystem</code> that inherits from the 
<code>FileSystem</code> class, the <code>PlatformFileSystem</code> class inherits the abstract function <code>listFiles()</code>. However, you can't have
an abstract function in a non-abstract class in Kotlin. To make the <code>listFiles()</code> function non-abstract, you must declare
it as an override without the <code>abstract</code> keyword:</p>
<table>
   <tr>
       <td>Common code</td>
       <td>Platform code</td>
   </tr>
   <tr>
<td>

```kotlin
abstract class FileSystem {
    abstract fun listFiles()
}
expect open class PlatformFileSystem() : FileSystem {
    // In Kotlin 2.0.0, an explicit override is needed
    expect override fun listFiles()
    // Before Kotlin 2.0.0, an override wasn't needed
}
```

</td>
<td>

```kotlin
actual open class PlatformFileSystem : FileSystem {
    actual override fun listFiles() {}
}
```

</td>
</tr>
</table>

<p><strong>What's the best practice now?</strong></p>
<p>If you inherit abstract functions in an expected non-abstract class, add a non-abstract override.</p>
<p>For more information, see the corresponding issue in <a href="https://youtrack.jetbrains.com/issue/KT-59739/K2-MPP-reports-ABSTRACTMEMBERNOTIMPLEMENTED-for-inheritor-in-common-code-when-the-implementation-is-located-in-the-actual" target="_blank">YouTrack</a>.</p>
<h3 id="per-subject-area">Per subject area</h3>
<p>These subject areas list changes that are unlikely to affect your code but provide links to the relevant YouTrack issues
for further reading. Changes listed with an asterisk (*) next to the Issue ID are explained at the beginning of the section.</p>
<h4 id="type-inference">Type inference</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64189" target="_blank">KT-64189</a></td>
<td>Incorrect type in compiled function signature of property reference if the type is Normal explicitly</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-47986" target="_blank">KT-47986</a></td>
<td>Forbid implicit inferring a type variable into an upper bound in the builder inference context</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-59275" target="_blank">KT-59275</a></td>
<td>K2: Require explicit type arguments for generic annotation calls in array literals</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-53752" target="_blank">KT-53752</a></td>
<td>Missed subtyping check for an intersection type</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-59138" target="_blank">KT-59138</a></td>
<td>Change Java type parameter based types default representation in Kotlin</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57178" target="_blank">KT-57178</a></td>
<td>Change inferred type of prefix increment to return type of getter instead of return type of inc() operator</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57609" target="_blank">KT-57609</a></td>
<td>K2: Stop relying on the presence of @UnsafeVariance using for contravariant parameters</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57620" target="_blank">KT-57620</a></td>
<td>K2: Forbid resolution to subsumed members for raw types</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64641" target="_blank">KT-64641</a></td>
<td>K2: Properly inferred type of callable reference to a callable with extension-function parameter</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57011" target="_blank">KT-57011</a></td>
<td>Make real type of a destructuring variable consistent with explicit type when specified</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-38895" target="_blank">KT-38895</a></td>
<td>K2: Fix inconsistent behavior with integer literals overflow</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-54862" target="_blank">KT-54862</a></td>
<td>Anonymous type can be exposed from anonymous function from type argument</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-22379" target="_blank">KT-22379</a></td>
<td>Condition of while-loop with break can produce unsound smartcast</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-62507" target="_blank">KT-62507</a></td>
<td>K2: Prohibit smart cast in common code for expect/actual top-level property</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-65750" target="_blank">KT-65750</a></td>
<td>Increment and plus operators that change return type must affect smart casts</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-65349" target="_blank">KT-65349</a></td>
<td>[LC] K2: specifying variable types explicitly breaks bound smart casts in some cases that worked in K1</td>
</tr>
</tbody>
</table>
<h4 id="generics">Generics</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-54309" target="_blank">KT-54309</a>*</td>
<td><a href="#deprecated-synthetics-setter-on-a-projected-receiver">Deprecate use of a synthetic setter on a projected receiver</a></td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57600" target="_blank">KT-57600</a></td>
<td>Forbid overriding of Java method with raw-typed parameter with generic typed parameter</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-54663" target="_blank">KT-54663</a></td>
<td>Forbid passing possibly nullable type parameter to `in` projected DNN parameter</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-54066" target="_blank">KT-54066</a></td>
<td>Deprecate upper bound violation in typealias constructors</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-49404" target="_blank">KT-49404</a></td>
<td>Fix type unsoundness for contravariant captured type based on Java class</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-61718" target="_blank">KT-61718</a></td>
<td>Forbid unsound code with self upper bounds and captured types</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-61749" target="_blank">KT-61749</a></td>
<td>Forbid unsound bound violation in generic inner class of generic outer class</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-62923" target="_blank">KT-62923</a></td>
<td>K2: Introduce PROJECTION_IN_IMMEDIATE_ARGUMENT_TO_SUPERTYPE for projections of outer super types of inner class</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-63243" target="_blank">KT-63243</a></td>
<td>Report MANY_IMPL_MEMBER_NOT_IMPLEMENTED when inheriting from collection of primitives with an extra specialized implementation from another supertype</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-60305" target="_blank">KT-60305</a></td>
<td>K2: Prohibit constructor call and inheritance on type alias that has variance modifiers in expanded type</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64965" target="_blank">KT-64965</a></td>
<td>Fix type hole caused by improper handling of captured types with self-upper bounds</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64966" target="_blank">KT-64966</a></td>
<td>Forbid generic delegating constructor calls with wrong type for generic parameter</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-65712" target="_blank">KT-65712</a></td>
<td>Report missing upper bound violation when upper bound is captured type</td>
</tr>
</tbody>
</table>
<h4 id="resolution">Resolution</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-55017" target="_blank">KT-55017</a>*</td>
<td><a href="#consistent-resolution-order-of-kotlin-properties-and-java-fields-with-the-same-name">Choose Kotlin property from derived class during overload resolution with Java field from base class</a></td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-58260" target="_blank">KT-58260</a></td>
<td>Make invoke convention works consistently with expected desugaring</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-62866" target="_blank">KT-62866</a></td>
<td>K2: Change qualifier resolution behavior when companion object is preferred against static scope</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57750" target="_blank">KT-57750</a></td>
<td>Report ambiguity error when resolving types and having the same-named classes star imported</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-63558" target="_blank">KT-63558</a></td>
<td>K2: migrate resolution around COMPATIBILITY_WARNING</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-51194" target="_blank">KT-51194</a></td>
<td>False negative CONFLICTING_INHERITED_MEMBERS when dependency class contained in two different versions of the same dependency</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-37592" target="_blank">KT-37592</a></td>
<td>Property invoke of a functional type with receiver is preferred over extension function invoke</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-51666" target="_blank">KT-51666</a></td>
<td>Qualified this: introduce/prioritize this qualified with type case</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-54166" target="_blank">KT-54166</a></td>
<td>Confirm unspecified behavior in case of FQ name conflicts in classpath</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64431" target="_blank">KT-64431</a></td>
<td>K2: forbid using typealiases as qualifier in imports</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-56520" target="_blank">KT-56520</a></td>
<td>K1/K2: incorrect work of resolve tower for type references with ambiguity at lower level</td>
</tr>
</tbody>
</table>
<h4 id="visibility">Visibility</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64474/" target="_blank">KT-64474</a>*</td>
<td><a href="#forbidden-use-of-inaccessible-generic-types">Declare usages of inaccessible types as unspecified behavior</a></td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-55179" target="_blank">KT-55179</a></td>
<td>False negative PRIVATE_CLASS_MEMBER_FROM_INLINE on calling private class companion object member from internal inline function</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-58042" target="_blank">KT-58042</a></td>
<td>Make synthetic property invisible if equivalent getter is invisible even when overridden declaration is visible</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64255" target="_blank">KT-64255</a></td>
<td>Forbid accessing internal setter from a derived class in another module</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-33917" target="_blank">KT-33917</a></td>
<td>Prohibit to expose anonymous types from private inline functions</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-54997" target="_blank">KT-54997</a></td>
<td>Forbid implicit non-public-API accesses from public-API inline function</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-56310" target="_blank">KT-56310</a></td>
<td>Smart casts should not affect visibility of protected members</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-65494" target="_blank">KT-65494</a></td>
<td>Forbid access to overlooked private operator functions from public inline function</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-65004" target="_blank">KT-65004</a></td>
<td>K1: Setter of var, which overrides protected val, is generates as public</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64972" target="_blank">KT-64972</a></td>
<td>Forbid overriding by private members in link-time for Kotlin/Native</td>
</tr>
</tbody>
</table>
<h4 id="annotations">Annotations</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-58723" target="_blank">KT-58723</a></td>
<td>Forbid annotating statements with an annotation if it has no EXPRESSION target</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-49930" target="_blank">KT-49930</a></td>
<td>Ignore parentheses expression during `REPEATED_ANNOTATION` checking</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57422" target="_blank">KT-57422</a></td>
<td>K2: Prohibit use-site 'get' targeted annotations on property getters</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-46483" target="_blank">KT-46483</a></td>
<td>Prohibit annotation on type parameter in where clause</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64299" target="_blank">KT-64299</a></td>
<td>Companion scope is ignored for resolution of annotations on companion object</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64654" target="_blank">KT-64654</a></td>
<td>K2: Introduced ambiguity between user and compiler-required annotations</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64527" target="_blank">KT-64527</a></td>
<td>Annotations on enum values shouldn't be copied to enum value classes</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-63389" target="_blank">KT-63389</a></td>
<td>K2: `WRONG_ANNOTATION_TARGET` is reported on incompatible annotations of a type wrapped into `()?`</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-63388" target="_blank">KT-63388</a></td>
<td>K2: `WRONG_ANNOTATION_TARGET` is reported on catch parameter type's annotations</td>
</tr>
</tbody>
</table>
<h4 id="null-safety">Null safety</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-54521" target="_blank">KT-54521</a>*</td>
<td><a href="#improved-null-safety-for-java-primitive-arrays">Deprecate unsafe usages of array types annotated as Nullable in Java</a></td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-41034" target="_blank">KT-41034</a></td>
<td>K2: Change evaluation semantics for combination of safe calls and convention operators</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-50850" target="_blank">KT-50850</a></td>
<td>Order of supertypes defines nullability parameters of inherited functions</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-53982" target="_blank">KT-53982</a></td>
<td>Keep nullability when approximating local types in public signatures</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-62998" target="_blank">KT-62998</a></td>
<td>Forbid assignment of a nullable to a not-null Java field as a selector of unsafe assignment</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-63209" target="_blank">KT-63209</a></td>
<td>Report missing errors for error-level nullable arguments of warning-level Java types</td>
</tr>
</tbody>
</table>
<h4 id="java-interoperability">Java interoperability</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-53061" target="_blank">KT-53061</a></td>
<td>Forbid Java and Kotlin classes with the same FQ name in sources</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-49882" target="_blank">KT-49882</a></td>
<td>Classes inherited from Java collections have inconsistent behavior depending on order of supertypes</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-66324" target="_blank">KT-66324</a></td>
<td>K2: unspecified behavior in case of Java class inheritance from a Kotlin private class</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-66220" target="_blank">KT-66220</a></td>
<td>Passing java vararg method to inline function leads to array of arrays in runtime instead of just an array</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-66204" target="_blank">KT-66204</a></td>
<td>Allow to override internal members in K-J-K hierarchy</td>
</tr>
</tbody>
</table>
<h4 id="properties">Properties</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57555" target="_blank">KT-57555</a>*</td>
<td><a href="#immediate-initialization-of-open-properties-with-backing-fields">[LC] Forbid deferred initialization of open properties with backing field</a></td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-58589" target="_blank">KT-58589</a></td>
<td>Deprecate missed MUST_BE_INITIALIZED when no primary constructor is presented or when class is local</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64295" target="_blank">KT-64295</a></td>
<td>Forbid recursive resolve in case of potential invoke calls on properties</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57290" target="_blank">KT-57290</a></td>
<td>Deprecate smart cast on base class property from invisible derived class if base class is from another module</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-62661" target="_blank">KT-62661</a></td>
<td>K2: Missed OPT_IN_USAGE_ERROR for data class properties</td>
</tr>
</tbody>
</table>
<h4 id="control-flow">Control flow</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-56408" target="_blank">KT-56408</a></td>
<td>Inconsistent rules of CFA in class initialization block between K1 and K2</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57871" target="_blank">KT-57871</a></td>
<td>K1/K2 inconsistency on if-conditional without else-branch in parenthesis</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-42995" target="_blank">KT-42995</a></td>
<td>False negative "VAL_REASSIGNMENT" in try/catch block with initialization in scope function</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-65724" target="_blank">KT-65724</a></td>
<td>Propagate data flow information from try block to catch and finally blocks</td>
</tr>
</tbody>
</table>
<h4 id="enum-classes">Enum classes</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57608" target="_blank">KT-57608</a></td>
<td>Prohibit access to the companion object of enum class during initialization of enum entry</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-34372" target="_blank">KT-34372</a></td>
<td>Report missed error for virtual inline method in enum classes</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-52802" target="_blank">KT-52802</a></td>
<td>Report ambiguity resolving between property/field and enum entry</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-47310" target="_blank">KT-47310</a></td>
<td>Change qualifier resolution behavior when companion property is preferred against enum entry</td>
</tr>
</tbody>
</table>
<h4 id="functional-sam-interfaces">Functional (SAM) interfaces</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-52628" target="_blank">KT-52628</a></td>
<td>Deprecate SAM constructor usages which require OptIn without annotation</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-57014" target="_blank">KT-57014</a></td>
<td>Prohibit returning values with incorrect nullability from lambda for SAM constructor of JDK function interfaces</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-64342" target="_blank">KT-64342</a></td>
<td>SAM conversion of parameter types of callable references leads to CCE</td>
</tr>
</tbody>
</table>
<h4 id="companion-object">Companion object</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-54316" target="_blank">KT-54316</a></td>
<td>Out-of-call reference to companion object's member has invalid signature</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-47313" target="_blank">KT-47313</a></td>
<td>Change (V)::foo reference resolution when V has a companion</td>
</tr>
</tbody>
</table>
<h4 id="miscellaneous">Miscellaneous</h4>
<table>
<thead>
<tr>
<th>Issue ID</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-59739" target="_blank">KT-59739</a>*</td>
<td>K2/MPP reports [ABSTRACT_MEMBER_NOT_IMPLEMENTED] for inheritor in common code when the implementation is located in the actual counterpart</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-49015" target="_blank">KT-49015</a></td>
<td>Qualified this: change behavior in case of potential label conflicts</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-56545" target="_blank">KT-56545</a></td>
<td>Fix incorrect functions mangling in JVM backend in case of accidental clashing overload in a Java subclass</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-62019" target="_blank">KT-62019</a></td>
<td>[LC issue] Prohibit suspend-marked anonymous function declarations in statement positions</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-55111" target="_blank">KT-55111</a></td>
<td>OptIn: forbid constructor calls with default arguments under marker</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-61182" target="_blank">KT-61182</a></td>
<td>Unit conversion is accidentally allowed to be used for expressions on variables + invoke resolution</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-55199" target="_blank">KT-55199</a></td>
<td>Forbid promoting callable references with adaptations to KFunction</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-65776" target="_blank">KT-65776</a></td>
<td>[LC] K2 breaks `false &amp;&amp; ...` and `false || ...`</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-65682" target="_blank">KT-65682</a></td>
<td>[LC] Deprecate `header`/`impl` keywords</td>
</tr>
<tr>
<td><a href="https://youtrack.jetbrains.com/issue/KT-45375" target="_blank">KT-45375</a></td>
<td>Generate all Kotlin lambdas via invokedynamic + LambdaMetafactory by default</td>
</tr>
</tbody>
</table>
<h2 id="compatibility-with-kotlin-releases">Compatibility with Kotlin releases</h2>
<p>The following Kotlin releases have support for the new K2 compiler:</p>
<table>
<thead>
<tr>
<th>Kotlin release</th>
<th>Stability level</th>
</tr>
</thead>
<tbody>
<tr>
<td>2.0.0–2.1.21</td>
<td>Stable</td>
</tr>
<tr>
<td>1.9.20–1.9.25</td>
<td>Beta</td>
</tr>
<tr>
<td>1.9.0–1.9.10</td>
<td>JVM is Beta</td>
</tr>
<tr>
<td>1.7.0–1.8.22</td>
<td>Alpha</td>
</tr>
</tbody>
</table>
<h2 id="compatibility-with-kotlin-libraries">Compatibility with Kotlin libraries</h2>
<p>If you're working with Kotlin/JVM, the K2 compiler works with libraries compiled with any version of Kotlin.</p>
<p>If you're working with Kotlin Multiplatform, the K2 compiler is guaranteed to work with libraries compiled with Kotlin 
version 1.9.20 and onwards.</p>
<h2 id="compiler-plugins-support">Compiler plugins support</h2>
<p>Currently, the Kotlin K2 compiler supports the following Kotlin compiler plugins:</p>
<ul>
<li><a href="all-open-plugin.html"><code>all-open</code></a></li>
<li><a href="https://github.com/Kotlin/kotlinx-atomicfu" target="_blank">AtomicFU</a></li>
<li><a href="https://github.com/JetBrains/kotlin/tree/master/plugins/jvm-abi-gen" target="_blank"><code>jvm-abi-gen</code></a></li>
<li><a href="https://github.com/JetBrains/kotlin/tree/master/plugins/js-plain-objects" target="_blank"><code>js-plain-objects</code></a></li>
<li><a href="whatsnew1920.html#preview-kapt-compiler-plugin-with-k2">kapt</a></li>
<li><a href="lombok.html">Lombok</a></li>
<li><a href="no-arg-plugin.html"><code>no-arg</code></a></li>
<li><a href="https://plugins.gradle.org/plugin/org.jetbrains.kotlin.plugin.parcelize" target="_blank">Parcelize</a></li>
<li><a href="sam-with-receiver-plugin.html">SAM with receiver</a></li>
<li><a href="serialization.html">Serialization</a></li>
</ul>
<p>In addition, the Kotlin K2 compiler supports:</p>
<ul>
<li>The <a href="https://developer.android.com/jetpack/compose" target="_blank">Jetpack Compose</a> 1.5.0 compiler plugin and later versions.</li>
<li><a href="ksp-overview.html">Kotlin Symbol Processing (KSP)</a> since <a href="https://android-developers.googleblog.com/2023/12/ksp2-preview-kotlin-k2-standalone.html" target="_blank">KSP2</a>.</li>
</ul>
<blockquote>
<p>If you use any additional compiler plugins, check their documentation to see if they are compatible with K2.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<h3 id="upgrade-your-custom-compiler-plugins">Upgrade your custom compiler plugins</h3>
<blockquote>
<p>Custom compiler plugins use the plugin API, which is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
As a result, the API may change at any time, so we can't guarantee backward compatibility.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>The upgrade process has two paths depending on the type of custom plugin you have.</p>
<h4 id="backend-only-compiler-plugins">Backend-only compiler plugins</h4>
<p>If your plugin implements only <code>IrGenerationExtension</code> extension points, the process is the same as for any other new 
compiler release. Check if there are any changes to the API that you use and make changes if necessary.</p>
<h4 id="backend-and-frontend-compiler-plugins">Backend and frontend compiler plugins</h4>
<p>If your plugin uses frontend-related extension points, you need to rewrite the plugin using the new K2 compiler API. For
an introduction to the new API, see <a href="https://github.com/JetBrains/kotlin/blob/master/docs/fir/fir-plugins.md" target="_blank">FIR Plugin API</a>.</p>
<blockquote>
<p>If you have questions about upgrading your custom compiler plugin, join our <a href="https://kotlinlang.slack.com/archives/C7L3JB43G" target="_blank">#compiler</a>
Slack channel, and we will do our best to help you.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h2 id="share-your-feedback-on-the-new-k2-compiler">Share your feedback on the new K2 compiler</h2>
<p>We would appreciate any feedback you may have!</p>
<ul>
<li>Report any problems you face migrating to the new K2 compiler in <a href="https://youtrack.jetbrains.com/newIssue?project=KT&amp;summary=K2+release+migration+issue&amp;description=Describe+the+problem+you+encountered+here.&amp;c=tag+k2-release-migration" target="_blank">our issue tracker</a>.</li>
<li><a href="https://www.jetbrains.com/help/idea/settings-usage-statistics.html" target="_blank">Enable the Send usage statistics option</a> to
allow JetBrains to collect anonymous data about K2 usage.</li>
</ul>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="d-compiler.html" class="navigation navigation-prev " aria-label="Previous page: 编译器">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="command-line.html" class="navigation navigation-next " aria-label="Next page: Kotlin 命令行编译器">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"K2 编译器迁移指南","level":"1.17.1.1","depth":3,"next":{"title":"Kotlin 命令行编译器","level":"1.17.1.2","depth":3,"path":"text/command-line.md","ref":"text/command-line.md","articles":[]},"previous":{"title":"编译器","level":"1.17.1","depth":2,"path":"text/d-compiler.md","ref":"text/d-compiler.md","articles":[{"title":"K2 编译器迁移指南","level":"1.17.1.1","depth":3,"path":"text/k2-compiler-migration-guide.md","ref":"text/k2-compiler-migration-guide.md","articles":[]},{"title":"Kotlin 命令行编译器","level":"1.17.1.2","depth":3,"path":"text/command-line.md","ref":"text/command-line.md","articles":[]},{"title":"Kotlin 编译器选项","level":"1.17.1.3","depth":3,"path":"text/compiler-reference.md","ref":"text/compiler-reference.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Kotlin 官方文档 中文版","language":"zh-hans","gitbook":"*"},"file":{"path":"text/k2-compiler-migration-guide.md","mtime":"2025-06-14T13:15:47.000Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-06-14T13:17:47.927Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

