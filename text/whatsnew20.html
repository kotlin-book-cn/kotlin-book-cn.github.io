
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>Kotlin 2.0.0 · Kotlin 官方文档 中文版</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="whatsnew1920.html" />
    
    
    <link rel="prev" href="whatsnew2020.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    关于本书
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="home.html">
            
                <a href="home.html">
            
                    
                    文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="kotlin-tour-welcome.html">
            
                <a href="kotlin-tour-welcome.html">
            
                    
                    Kotlin 之旅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="d-overview.html">
            
                <a href="d-overview.html">
            
                    
                    概述
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="multiplatform.html">
            
                <a href="multiplatform.html">
            
                    
                    Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="server-overview.html">
            
                <a href="server-overview.html">
            
                    
                    Kotlin 用于服务器端开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="android-overview.html">
            
                <a href="android-overview.html">
            
                    
                    Kotlin 用于 Android 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="wasm-overview.html">
            
                <a href="wasm-overview.html">
            
                    
                    Kotlin Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="native-overview.html">
            
                <a href="native-overview.html">
            
                    
                    Kotlin 原生
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="js-overview.html">
            
                <a href="js-overview.html">
            
                    
                    Kotlin 用于 JavaScript 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="data-analysis-overview.html">
            
                <a href="data-analysis-overview.html">
            
                    
                    Kotlin 用于数据分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="kotlin-ai-apps-development-overview.html">
            
                <a href="kotlin-ai-apps-development-overview.html">
            
                    
                    Kotlin 用于 AI 驱动的应用开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="competitive-programming.html">
            
                <a href="competitive-programming.html">
            
                    
                    Kotlin 用于竞技程序设计
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="d-whatsnew.html">
            
                <a href="d-whatsnew.html">
            
                    
                    Kotlin 的新特性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="whatsnew2120.html">
            
                <a href="whatsnew2120.html">
            
                    
                    Kotlin 2.1.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="whatsnew21.html">
            
                <a href="whatsnew21.html">
            
                    
                    Kotlin 2.1.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="whatsnew-eap.html">
            
                <a href="whatsnew-eap.html">
            
                    
                    Kotlin 2.2.0-RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="d-earlier-whatsnew.html">
            
                <a href="d-earlier-whatsnew.html">
            
                    
                    早期版本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="whatsnew2020.html">
            
                <a href="whatsnew2020.html">
            
                    
                    Kotlin 2.0.20
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.4.2" data-path="whatsnew20.html">
            
                <a href="whatsnew20.html">
            
                    
                    Kotlin 2.0.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="whatsnew1920.html">
            
                <a href="whatsnew1920.html">
            
                    
                    Kotlin 1.9.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="whatsnew19.html">
            
                <a href="whatsnew19.html">
            
                    
                    Kotlin 1.9.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.5" data-path="whatsnew1820.html">
            
                <a href="whatsnew1820.html">
            
                    
                    Kotlin 1.8.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.6" data-path="whatsnew18.html">
            
                <a href="whatsnew18.html">
            
                    
                    Kotlin 1.8.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.7" data-path="whatsnew1720.html">
            
                <a href="whatsnew1720.html">
            
                    
                    Kotlin 1.7.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.8" data-path="whatsnew17.html">
            
                <a href="whatsnew17.html">
            
                    
                    Kotlin 1.7.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.9" data-path="whatsnew1620.html">
            
                <a href="whatsnew1620.html">
            
                    
                    Kotlin 1.6.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.10" data-path="whatsnew16.html">
            
                <a href="whatsnew16.html">
            
                    
                    Kotlin 1.6.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.11" data-path="whatsnew1530.html">
            
                <a href="whatsnew1530.html">
            
                    
                    Kotlin 1.5.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.12" data-path="whatsnew1520.html">
            
                <a href="whatsnew1520.html">
            
                    
                    Kotlin 1.5.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.13" data-path="whatsnew15.html">
            
                <a href="whatsnew15.html">
            
                    
                    Kotlin 1.5.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.14" data-path="whatsnew1430.html">
            
                <a href="whatsnew1430.html">
            
                    
                    Kotlin 1.4.30
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.15" data-path="whatsnew1420.html">
            
                <a href="whatsnew1420.html">
            
                    
                    Kotlin 1.4.20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.16" data-path="whatsnew14.html">
            
                <a href="whatsnew14.html">
            
                    
                    Kotlin 1.4.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.17" data-path="whatsnew13.html">
            
                <a href="whatsnew13.html">
            
                    
                    Kotlin 1.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.18" data-path="whatsnew12.html">
            
                <a href="whatsnew12.html">
            
                    
                    Kotlin 1.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.19" data-path="whatsnew11.html">
            
                <a href="whatsnew11.html">
            
                    
                    Kotlin 1.1
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="d-releases-and-roadmap.html">
            
                <a href="d-releases-and-roadmap.html">
            
                    
                    版本发布与路线图
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="roadmap.html">
            
                <a href="roadmap.html">
            
                    
                    Kotlin 路线图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="kotlin-language-features-and-proposals.html">
            
                <a href="kotlin-language-features-and-proposals.html">
            
                    
                    Kotlin 语言特性与提案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="kotlin-evolution-principles.html">
            
                <a href="kotlin-evolution-principles.html">
            
                    
                    Kotlin 演进原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="components-stability.html">
            
                <a href="components-stability.html">
            
                    
                    Kotlin 各组件的稳定性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="releases.html">
            
                <a href="releases.html">
            
                    
                    Kotlin 版本发布
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="d-basics.html">
            
                <a href="d-basics.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="basic-syntax.html">
            
                <a href="basic-syntax.html">
            
                    
                    基本语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="idioms.html">
            
                <a href="idioms.html">
            
                    
                    习惯用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="l-kotlin-by-example1.html">
            
                <a href="l-kotlin-by-example1.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="coding-conventions.html">
            
                <a href="coding-conventions.html">
            
                    
                    编码规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="d-concepts.html">
            
                <a href="d-concepts.html">
            
                    
                    概念
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="d-types.html">
            
                <a href="d-types.html">
            
                    
                    类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="d-basic-types.html">
            
                <a href="d-basic-types.html">
            
                    
                    基本类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1.1" data-path="basic-types.html">
            
                <a href="basic-types.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.2" data-path="numbers.html">
            
                <a href="numbers.html">
            
                    
                    数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.3" data-path="unsigned-integer-types.html">
            
                <a href="unsigned-integer-types.html">
            
                    
                    无符号整型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.4" data-path="booleans.html">
            
                <a href="booleans.html">
            
                    
                    布尔
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.5" data-path="characters.html">
            
                <a href="characters.html">
            
                    
                    字符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.6" data-path="strings.html">
            
                <a href="strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.1.7" data-path="arrays.html">
            
                <a href="arrays.html">
            
                    
                    数组
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="typecasts.html">
            
                <a href="typecasts.html">
            
                    
                    类型检测与类型转换
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="d-control-flow.html">
            
                <a href="d-control-flow.html">
            
                    
                    控制流程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="control-flow.html">
            
                <a href="control-flow.html">
            
                    
                    条件与循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="returns.html">
            
                <a href="returns.html">
            
                    
                    返回与跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="exceptions.html">
            
                <a href="exceptions.html">
            
                    
                    异常
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="packages.html">
            
                <a href="packages.html">
            
                    
                    包与导入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="d-class-and-obj.html">
            
                <a href="d-class-and-obj.html">
            
                    
                    类与对象
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="classes.html">
            
                <a href="classes.html">
            
                    
                    类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="inheritance.html">
            
                <a href="inheritance.html">
            
                    
                    继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="properties.html">
            
                <a href="properties.html">
            
                    
                    属性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="interfaces.html">
            
                <a href="interfaces.html">
            
                    
                    接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.5" data-path="fun-interfaces.html">
            
                <a href="fun-interfaces.html">
            
                    
                    函数式（SAM）接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.6" data-path="visibility-modifiers.html">
            
                <a href="visibility-modifiers.html">
            
                    
                    可见性修饰符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.7" data-path="extensions.html">
            
                <a href="extensions.html">
            
                    
                    扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.8" data-path="data-classes.html">
            
                <a href="data-classes.html">
            
                    
                    数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.9" data-path="sealed-classes.html">
            
                <a href="sealed-classes.html">
            
                    
                    密封类与密封接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.10" data-path="generics.html">
            
                <a href="generics.html">
            
                    
                    泛型：in、out、where
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.11" data-path="nested-classes.html">
            
                <a href="nested-classes.html">
            
                    
                    嵌套类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.12" data-path="enum-classes.html">
            
                <a href="enum-classes.html">
            
                    
                    枚举类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.13" data-path="inline-classes.html">
            
                <a href="inline-classes.html">
            
                    
                    内联类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.14" data-path="object-declarations.html">
            
                <a href="object-declarations.html">
            
                    
                    对象表达式与对象声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.15" data-path="delegation.html">
            
                <a href="delegation.html">
            
                    
                    委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.16" data-path="delegated-properties.html">
            
                <a href="delegated-properties.html">
            
                    
                    属性委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.17" data-path="type-aliases.html">
            
                <a href="type-aliases.html">
            
                    
                    类型别名
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="d-functions.html">
            
                <a href="d-functions.html">
            
                    
                    函数
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="lambdas.html">
            
                <a href="lambdas.html">
            
                    
                    lambda 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="inline-functions.html">
            
                <a href="inline-functions.html">
            
                    
                    内联函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="operator-overloading.html">
            
                <a href="operator-overloading.html">
            
                    
                    操作符重载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="d-builders.html">
            
                <a href="d-builders.html">
            
                    
                    构建器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.5.1" data-path="type-safe-builders.html">
            
                <a href="type-safe-builders.html">
            
                    
                    类型安全的构建器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5.2" data-path="using-builders-with-builder-inference.html">
            
                <a href="using-builders-with-builder-inference.html">
            
                    
                    使用带有构建器类型推断的构建器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="null-safety.html">
            
                <a href="null-safety.html">
            
                    
                    空安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="equality.html">
            
                <a href="equality.html">
            
                    
                    相等性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="this-expressions.html">
            
                <a href="this-expressions.html">
            
                    
                    this 表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="async-programming.html">
            
                <a href="async-programming.html">
            
                    
                    异步程序设计技术
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="coroutines-overview.html">
            
                <a href="coroutines-overview.html">
            
                    
                    协程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="annotations.html">
            
                <a href="annotations.html">
            
                    
                    注解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="destructuring-declarations.html">
            
                <a href="destructuring-declarations.html">
            
                    
                    解构声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="reflection.html">
            
                <a href="reflection.html">
            
                    
                    反射
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="d-data-analysis.html">
            
                <a href="d-data-analysis.html">
            
                    
                    数据分析
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="d-notebook-get-started.html">
            
                <a href="d-notebook-get-started.html">
            
                    
                    Kotlin Notebook 入门
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="get-started-with-kotlin-notebooks.html">
            
                <a href="get-started-with-kotlin-notebooks.html">
            
                    
                    Kotlin Notebook 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="kotlin-notebook-set-up-env.html">
            
                <a href="kotlin-notebook-set-up-env.html">
            
                    
                    1、环境搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="kotlin-notebook-create.html">
            
                <a href="kotlin-notebook-create.html">
            
                    
                    2、创建第一个 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="kotlin-notebook-add-dependencies.html">
            
                <a href="kotlin-notebook-add-dependencies.html">
            
                    
                    3、将依赖添加到 Kotlin Notebook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="kotlin-notebook-share.html">
            
                <a href="kotlin-notebook-share.html">
            
                    
                    分享 Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="data-analysis-notebooks-output-formats.html">
            
                <a href="data-analysis-notebooks-output-formats.html">
            
                    
                    Kotlin Notebook 的输出格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="d-work-with-data-sources.html">
            
                <a href="d-work-with-data-sources.html">
            
                    
                    使用数据源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.4.1" data-path="data-analysis-work-with-data-sources.html">
            
                <a href="data-analysis-work-with-data-sources.html">
            
                    
                    从文件中取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.2" data-path="data-analysis-work-with-api.html">
            
                <a href="data-analysis-work-with-api.html">
            
                    
                    从 web 源与 API 取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.3" data-path="data-analysis-connect-to-db.html">
            
                <a href="data-analysis-connect-to-db.html">
            
                    
                    链接数据库并从中取数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="data-analysis-visualization.html">
            
                <a href="data-analysis-visualization.html">
            
                    
                    Kotlin Notebook 中数据可视化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="data-analysis-libraries.html">
            
                <a href="data-analysis-libraries.html">
            
                    
                    用于数据分析的库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="d-platforms.html">
            
                <a href="d-platforms.html">
            
                    
                    平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="d-jvm.html">
            
                <a href="d-jvm.html">
            
                    
                    JVM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="jvm-get-started.html">
            
                <a href="jvm-get-started.html">
            
                    
                    Kotlin/JVM 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.2" data-path="comparison-to-java.html">
            
                <a href="comparison-to-java.html">
            
                    
                    与 Java 比较
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.3" data-path="java-interop.html">
            
                <a href="java-interop.html">
            
                    
                    在 Kotlin 中调用 Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.4" data-path="java-to-kotlin-interop.html">
            
                <a href="java-to-kotlin-interop.html">
            
                    
                    在 Java 中调用 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5" data-path="d-spring.html">
            
                <a href="d-spring.html">
            
                    
                    Spring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1" data-path="d-jvm-spring-boot-restful.html">
            
                <a href="d-jvm-spring-boot-restful.html">
            
                    
                    使用 Spring Boot 创建用到数据库的 RESTful web 服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.5.1.1" data-path="jvm-get-started-spring-boot.html">
            
                <a href="jvm-get-started-spring-boot.html">
            
                    
                    Spring Boot 与 Kotlin 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.2" data-path="jvm-create-project-with-spring-boot.html">
            
                <a href="jvm-create-project-with-spring-boot.html">
            
                    
                    创建使用 Kotlin 的 Spring Boot 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.3" data-path="jvm-spring-boot-add-data-class.html">
            
                <a href="jvm-spring-boot-add-data-class.html">
            
                    
                    向 Spring Boot 项目添加数据类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.4" data-path="jvm-spring-boot-add-db-support.html">
            
                <a href="jvm-spring-boot-add-db-support.html">
            
                    
                    为 Spring Boot 项目添加数据库支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.1.5" data-path="jvm-spring-boot-using-crudrepository.html">
            
                <a href="jvm-spring-boot-using-crudrepository.html">
            
                    
                    使用 Spring Data CrudRepository 进行数据库访问
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.2" data-path="spring-ai-guide.html">
            
                <a href="spring-ai-guide.html">
            
                    
                    构建一个使用 Spring AI 基于 Qdrant 中存储的文档来回答问题的 Kotlin 应用——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.3" data-path="l-spring-docs-kotlin.html">
            
                <a href="l-spring-docs-kotlin.html">
            
                    
                    Spring 框架 Kotlin 文档↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.4" data-path="l-spring-boot-kotlin.html">
            
                <a href="l-spring-boot-kotlin.html">
            
                    
                    使用 Spring Boot 与 Kotlin 构建 web 应用程序——教程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.5.5" data-path="l-spring-webflux-kotlin-rsocket.html">
            
                <a href="l-spring-webflux-kotlin-rsocket.html">
            
                    
                    使用 Kotlin 协程与 RSocket 创建聊天应用程序——教程↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.1.6" data-path="jvm-test-using-junit.html">
            
                <a href="jvm-test-using-junit.html">
            
                    
                    在 JVM 平台中用 JUnit 测试代码——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.7" data-path="mixing-java-kotlin-intellij.html">
            
                <a href="mixing-java-kotlin-intellij.html">
            
                    
                    在项目中混用 Java 与 Kotlin——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.8" data-path="jvm-records.html">
            
                <a href="jvm-records.html">
            
                    
                    在 Kotlin 中使用 Java 记录类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9" data-path="d-java-to-kotlin-migration-guides.html">
            
                <a href="d-java-to-kotlin-migration-guides.html">
            
                    
                    从 Java 到 Kotlin 迁移指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.9.1" data-path="java-to-kotlin-idioms-strings.html">
            
                <a href="java-to-kotlin-idioms-strings.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.2" data-path="java-to-kotlin-collections-guide.html">
            
                <a href="java-to-kotlin-collections-guide.html">
            
                    
                    集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.3" data-path="java-to-kotlin-nullability-guide.html">
            
                <a href="java-to-kotlin-nullability-guide.html">
            
                    
                    可空性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.9.4" data-path="standard-input.html">
            
                <a href="standard-input.html">
            
                    
                    标准输入
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="d-native.html">
            
                <a href="d-native.html">
            
                    
                    原生
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="native-get-started.html">
            
                <a href="native-get-started.html">
            
                    
                    Kotlin/Native 入门——在 IntelliJ IDEA 中
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="native-definition-file.html">
            
                <a href="native-definition-file.html">
            
                    
                    定义文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3" data-path="d-c-interop.html">
            
                <a href="d-c-interop.html">
            
                    
                    与 C 语言互操作
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.3.1" data-path="native-c-interop.html">
            
                <a href="native-c-interop.html">
            
                    
                    与 C 语言互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.2" data-path="mapping-primitive-data-types-from-c.html">
            
                <a href="mapping-primitive-data-types-from-c.html">
            
                    
                    映射来自 C 语言的原始数据类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.3" data-path="mapping-struct-union-types-from-c.html">
            
                <a href="mapping-struct-union-types-from-c.html">
            
                    
                    映射来自 C 语言的结构与联合类型——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.4" data-path="mapping-function-pointers-from-c.html">
            
                <a href="mapping-function-pointers-from-c.html">
            
                    
                    映射来自 C 语言的函数指针——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.5" data-path="mapping-strings-from-c.html">
            
                <a href="mapping-strings-from-c.html">
            
                    
                    映射来自 C 语言的字符串——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.6" data-path="native-dynamic-libraries.html">
            
                <a href="native-dynamic-libraries.html">
            
                    
                    Kotlin/Native 开发动态库——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3.7" data-path="native-app-with-c-and-libcurl.html">
            
                <a href="native-app-with-c-and-libcurl.html">
            
                    
                    创建使用 C 语言互操作与 libcurl 的应用——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.4" data-path="d-objc-interop.html">
            
                <a href="d-objc-interop.html">
            
                    
                    与 Objective-C 互操作性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.4.1" data-path="native-objc-interop.html">
            
                <a href="native-objc-interop.html">
            
                    
                    与 Swift/Objective-C 互操作性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.4.2" data-path="apple-framework.html">
            
                <a href="apple-framework.html">
            
                    
                    Kotlin/Native 开发 Apple framework——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.5" data-path="native-libraries.html">
            
                <a href="native-libraries.html">
            
                    
                    Kotlin/Native 库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.6" data-path="native-platform-libs.html">
            
                <a href="native-platform-libs.html">
            
                    
                    平台库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7" data-path="d-mem-mgr.html">
            
                <a href="d-mem-mgr.html">
            
                    
                    内存管理器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.7.1" data-path="native-memory-manager.html">
            
                <a href="native-memory-manager.html">
            
                    
                    Kotlin/Native 内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.2" data-path="native-arc-integration.html">
            
                <a href="native-arc-integration.html">
            
                    
                    与 ARC 集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.7.3" data-path="native-migration-guide.html">
            
                <a href="native-migration-guide.html">
            
                    
                    迁移到新版内存管理器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2.8" data-path="native-debugging.html">
            
                <a href="native-debugging.html">
            
                    
                    调试 Kotlin/Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.9" data-path="native-ios-symbolication.html">
            
                <a href="native-ios-symbolication.html">
            
                    
                    符号化 iOS 崩溃报告
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10" data-path="d-ref-and-tips.html">
            
                <a href="d-ref-and-tips.html">
            
                    
                    参考与提示
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.10.1" data-path="native-target-support.html">
            
                <a href="native-target-support.html">
            
                    
                    目标平台支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.2" data-path="native-improving-compilation-time.html">
            
                <a href="native-improving-compilation-time.html">
            
                    
                    改进编译时间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.3" data-path="native-binary-licenses.html">
            
                <a href="native-binary-licenses.html">
            
                    
                    许可证文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.10.4" data-path="native-faq.html">
            
                <a href="native-faq.html">
            
                    
                    Kotlin/Native FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="d-wasm.html">
            
                <a href="d-wasm.html">
            
                    
                    WebAssembly（Wasm）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.3.1" data-path="wasm-get-started.html">
            
                <a href="wasm-get-started.html">
            
                    
                    在 IntelliJ IDEA 中入门 Kotlin/Wasm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.2" data-path="wasm-wasi.html">
            
                <a href="wasm-wasi.html">
            
                    
                    Kotlin/Wasm 与 WASI 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.3" data-path="wasm-debugging.html">
            
                <a href="wasm-debugging.html">
            
                    
                    调试 Kotlin/Wasm 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.4" data-path="wasm-js-interop.html">
            
                <a href="wasm-js-interop.html">
            
                    
                    与 JavaScript 的互操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3.5" data-path="wasm-troubleshooting.html">
            
                <a href="wasm-troubleshooting.html">
            
                    
                    故障排查
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="d-javascript.html">
            
                <a href="d-javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.1" data-path="js-project-setup.html">
            
                <a href="js-project-setup.html">
            
                    
                    搭建 Kotlin/JS 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.2" data-path="running-kotlin-js.html">
            
                <a href="running-kotlin-js.html">
            
                    
                    运行 Kotlin/JS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.3" data-path="dev-server-continuous-compilation.html">
            
                <a href="dev-server-continuous-compilation.html">
            
                    
                    开发服务器与持续编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.4" data-path="js-debugging.html">
            
                <a href="js-debugging.html">
            
                    
                    调试 Kotlin/JS 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.5" data-path="js-running-tests.html">
            
                <a href="js-running-tests.html">
            
                    
                    在 Kotlin/JS 平台中运行测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.6" data-path="javascript-dce.html">
            
                <a href="javascript-dce.html">
            
                    
                    Kotlin/JS 无用代码消除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.7" data-path="js-ir-compiler.html">
            
                <a href="js-ir-compiler.html">
            
                    
                    Kotlin/JS IR 编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8" data-path="d-kotlin-for-js-platform.html">
            
                <a href="d-kotlin-for-js-platform.html">
            
                    
                    Kotlin 用于 JS 平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.4.8.1" data-path="browser-api-dom.html">
            
                <a href="browser-api-dom.html">
            
                    
                    浏览器与 DOM API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.2" data-path="js-interop.html">
            
                <a href="js-interop.html">
            
                    
                    在 Kotlin 中使用 JavaScript 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.3" data-path="dynamic-type.html">
            
                <a href="dynamic-type.html">
            
                    
                    动态类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.4" data-path="using-packages-from-npm.html">
            
                <a href="using-packages-from-npm.html">
            
                    
                    使用来自 npm 的依赖
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.5" data-path="js-to-kotlin-interop.html">
            
                <a href="js-to-kotlin-interop.html">
            
                    
                    在 JavaScript 中使用 Kotlin 代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.6" data-path="js-modules.html">
            
                <a href="js-modules.html">
            
                    
                    JavaScript 模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.7" data-path="js-reflection.html">
            
                <a href="js-reflection.html">
            
                    
                    Kotlin/JS 反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4.8.8" data-path="typesafe-html-dsl.html">
            
                <a href="typesafe-html-dsl.html">
            
                    
                    类型安全的 HTML DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="d-scripting.html">
            
                <a href="d-scripting.html">
            
                    
                    脚本
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.5.1" data-path="custom-script-deps-tutorial.html">
            
                <a href="custom-script-deps-tutorial.html">
            
                    
                    Kotlin 自定义脚本入门——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="l-kotlin-multiplatform-dev.html">
            
                <a href="l-kotlin-multiplatform-dev.html">
            
                    
                    Kotlin 多平台开发↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="d-standard-library.html">
            
                <a href="d-standard-library.html">
            
                    
                    标准库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="d-collections.html">
            
                <a href="d-collections.html">
            
                    
                    集合
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1.1" data-path="collections-overview.html">
            
                <a href="collections-overview.html">
            
                    
                    集合概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.2" data-path="constructing-collections.html">
            
                <a href="constructing-collections.html">
            
                    
                    构造集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.3" data-path="iterators.html">
            
                <a href="iterators.html">
            
                    
                    迭代器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.4" data-path="ranges.html">
            
                <a href="ranges.html">
            
                    
                    区间与数列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.5" data-path="sequences.html">
            
                <a href="sequences.html">
            
                    
                    序列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.6" data-path="collection-operations.html">
            
                <a href="collection-operations.html">
            
                    
                    集合操作概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.7" data-path="collection-transformations.html">
            
                <a href="collection-transformations.html">
            
                    
                    集合转换操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.8" data-path="collection-filtering.html">
            
                <a href="collection-filtering.html">
            
                    
                    过滤集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.9" data-path="collection-plus-minus.html">
            
                <a href="collection-plus-minus.html">
            
                    
                    加减操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.10" data-path="collection-grouping.html">
            
                <a href="collection-grouping.html">
            
                    
                    分组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.11" data-path="collection-parts.html">
            
                <a href="collection-parts.html">
            
                    
                    取集合的一部分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.12" data-path="collection-elements.html">
            
                <a href="collection-elements.html">
            
                    
                    取单个元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.13" data-path="collection-ordering.html">
            
                <a href="collection-ordering.html">
            
                    
                    排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.14" data-path="collection-aggregate.html">
            
                <a href="collection-aggregate.html">
            
                    
                    聚合操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.15" data-path="collection-write.html">
            
                <a href="collection-write.html">
            
                    
                    集合写操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.16" data-path="list-operations.html">
            
                <a href="list-operations.html">
            
                    
                    List 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.17" data-path="set-operations.html">
            
                <a href="set-operations.html">
            
                    
                    Set 相关操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.18" data-path="map-operations.html">
            
                <a href="map-operations.html">
            
                    
                    Map 相关操作
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="read-standard-input.html">
            
                <a href="read-standard-input.html">
            
                    
                    读取标准输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="opt-in-requirements.html">
            
                <a href="opt-in-requirements.html">
            
                    
                    选择加入要求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="scope-functions.html">
            
                <a href="scope-functions.html">
            
                    
                    作用域函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="time-measurement.html">
            
                <a href="time-measurement.html">
            
                    
                    时间度量
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="d-official-library.html">
            
                <a href="d-official-library.html">
            
                    
                    官方库
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="d-kotlinx-coroutines.html">
            
                <a href="d-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1.1" data-path="coroutines-guide.html">
            
                <a href="coroutines-guide.html">
            
                    
                    协程指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.2" data-path="coroutines-basics.html">
            
                <a href="coroutines-basics.html">
            
                    
                    协程基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.3" data-path="l-intro-coroutines-and-channels.html">
            
                <a href="l-intro-coroutines-and-channels.html">
            
                    
                    Kotlin 协程与通道介绍↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.4" data-path="cancellation-and-timeouts.html">
            
                <a href="cancellation-and-timeouts.html">
            
                    
                    取消与超时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.5" data-path="composing-suspending-functions.html">
            
                <a href="composing-suspending-functions.html">
            
                    
                    组合挂起函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.6" data-path="coroutine-context-and-dispatchers.html">
            
                <a href="coroutine-context-and-dispatchers.html">
            
                    
                    协程上下文与调度器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.7" data-path="flow.html">
            
                <a href="flow.html">
            
                    
                    异步流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.8" data-path="channels.html">
            
                <a href="channels.html">
            
                    
                    通道
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.9" data-path="exception-handling.html">
            
                <a href="exception-handling.html">
            
                    
                    协程异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.10" data-path="shared-mutable-state-and-concurrency.html">
            
                <a href="shared-mutable-state-and-concurrency.html">
            
                    
                    共享的可变状态与并发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.11" data-path="select-expression.html">
            
                <a href="select-expression.html">
            
                    
                    select 表达式（实验性的）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.12" data-path="debug-coroutines-with-idea.html">
            
                <a href="debug-coroutines-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试协程——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.1.13" data-path="debug-flow-with-idea.html">
            
                <a href="debug-flow-with-idea.html">
            
                    
                    使用 IntelliJ IDEA 调试 Kotlin Flow——教程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="serialization.html">
            
                <a href="serialization.html">
            
                    
                    序列化（kotlinx.serialization）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="metadata-jvm.html">
            
                <a href="metadata-jvm.html">
            
                    
                    Kotlin Metadata JVM（kotlin-metadata-jvm）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="d-lincheck.html">
            
                <a href="d-lincheck.html">
            
                    
                    Lincheck（kotlinx.lincheck）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.4.1" data-path="lincheck-guide.html">
            
                <a href="lincheck-guide.html">
            
                    
                    Lincheck 指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.2" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    用 Lincheck 编写第一个测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.3" data-path="testing-strategies.html">
            
                <a href="testing-strategies.html">
            
                    
                    测试策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.4" data-path="operation-arguments.html">
            
                <a href="operation-arguments.html">
            
                    
                    操作参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.5" data-path="constraints.html">
            
                <a href="constraints.html">
            
                    
                    数据结构约束
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.6" data-path="progress-guarantees.html">
            
                <a href="progress-guarantees.html">
            
                    
                    进度保证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4.7" data-path="sequential-specification.html">
            
                <a href="sequential-specification.html">
            
                    
                    时序规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="l-ktor1.html">
            
                <a href="l-ktor1.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="d-api-reference.html">
            
                <a href="d-api-reference.html">
            
                    
                    API 参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="l-stdlib.html">
            
                <a href="l-stdlib.html">
            
                    
                    标准库（stdlib）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="l-kotlin-test.html">
            
                <a href="l-kotlin-test.html">
            
                    
                    测试库（kotlin.test）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="l-kotlinx-coroutines.html">
            
                <a href="l-kotlinx-coroutines.html">
            
                    
                    协程（kotlinx.coroutines）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="l-kotlinx-serialization.html">
            
                <a href="l-kotlinx-serialization.html">
            
                    
                    序列化（kotlinx.serialization）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="l-kotlinx-io.html">
            
                <a href="l-kotlinx-io.html">
            
                    
                    Kotlin I/O 库（kotlinx-io）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="l-kotlinx-datetime.html">
            
                <a href="l-kotlinx-datetime.html">
            
                    
                    日期与时间（kotlinx-datetime）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="l-kotlinx-metadata-jvm.html">
            
                <a href="l-kotlinx-metadata-jvm.html">
            
                    
                    JVM 元数据（kotlinx-metadata-jvm）↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8" data-path="l-ktor2.html">
            
                <a href="l-ktor2.html">
            
                    
                    Ktor↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9" data-path="l-kotlin-gradle-plugin.html">
            
                <a href="l-kotlin-gradle-plugin.html">
            
                    
                    Kotlin Gradle 插件（kotlin-gradle-plugin）↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="d-language-reference.html">
            
                <a href="d-language-reference.html">
            
                    
                    语言参考
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="keyword-reference.html">
            
                <a href="keyword-reference.html">
            
                    
                    关键字与操作符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="l-grammar.html">
            
                <a href="l-grammar.html">
            
                    
                    语法↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="l-kotlin-spec.html">
            
                <a href="l-kotlin-spec.html">
            
                    
                    语言规范↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="d-tools.html">
            
                <a href="d-tools.html">
            
                    
                    工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="d-build-tools.html">
            
                <a href="d-build-tools.html">
            
                    
                    构建工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1" data-path="d-gradle.html">
            
                <a href="d-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1.1.1" data-path="gradle.html">
            
                <a href="gradle.html">
            
                    
                    Gradle 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.2" data-path="get-started-with-jvm-gradle-project.html">
            
                <a href="get-started-with-jvm-gradle-project.html">
            
                    
                    Gradle 入门——教程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.3" data-path="gradle-configure-project.html">
            
                <a href="gradle-configure-project.html">
            
                    
                    配置 Gradle 项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.4" data-path="gradle-best-practices.html">
            
                <a href="gradle-best-practices.html">
            
                    
                    Gradle 最佳实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.5" data-path="gradle-compiler-options.html">
            
                <a href="gradle-compiler-options.html">
            
                    
                    Kotlin Gradle 插件中的编译器选项
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.6" data-path="gradle-compilation-and-caches.html">
            
                <a href="gradle-compilation-and-caches.html">
            
                    
                    Kotlin Gradle 插件中的编译项与缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.1.7" data-path="gradle-plugin-variants.html">
            
                <a href="gradle-plugin-variants.html">
            
                    
                    支持 Gradle 插件变体
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.1.2" data-path="maven.html">
            
                <a href="maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.1.3" data-path="ant.html">
            
                <a href="ant.html">
            
                    
                    Ant
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="d-dokka.html">
            
                <a href="d-dokka.html">
            
                    
                    Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.1" data-path="dokka-introduction.html">
            
                <a href="dokka-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.2" data-path="dokka-get-started.html">
            
                <a href="dokka-get-started.html">
            
                    
                    Dokka 入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3" data-path="d-run-dokka.html">
            
                <a href="d-run-dokka.html">
            
                    
                    运行 Dokka
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.3.1" data-path="dokka-gradle.html">
            
                <a href="dokka-gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.2" data-path="dokka-maven.html">
            
                <a href="dokka-maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.3.3" data-path="dokka-cli.html">
            
                <a href="dokka-cli.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.4" data-path="d-output-formats.html">
            
                <a href="d-output-formats.html">
            
                    
                    输出格式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.2.4.1" data-path="dokka-html.html">
            
                <a href="dokka-html.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.2" data-path="dokka-markdown.html">
            
                <a href="dokka-markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.4.3" data-path="dokka-javadoc.html">
            
                <a href="dokka-javadoc.html">
            
                    
                    Javadoc
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.2.5" data-path="dokka-plugins.html">
            
                <a href="dokka-plugins.html">
            
                    
                    Dokka 插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2.6" data-path="dokka-module-and-package-docs.html">
            
                <a href="dokka-module-and-package-docs.html">
            
                    
                    模块文档
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="kotlin-ide.html">
            
                <a href="kotlin-ide.html">
            
                    
                    用于 Kotlin 开发的 IDE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="code-style-migration-guide.html">
            
                <a href="code-style-migration-guide.html">
            
                    
                    使用 IntelliJ IDEA 迁移到 Kotlin 代码风格
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="kotlin-notebook-overview.html">
            
                <a href="kotlin-notebook-overview.html">
            
                    
                    Kotlin Notebook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="lets-plot.html">
            
                <a href="lets-plot.html">
            
                    
                    用于 Kotlin 的 Lets-Plot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="run-code-snippets.html">
            
                <a href="run-code-snippets.html">
            
                    
                    运行代码片段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.8" data-path="kotlin-and-ci.html">
            
                <a href="kotlin-and-ci.html">
            
                    
                    Kotlin 与 TeamCity 的持续集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.9" data-path="kotlin-doc.html">
            
                <a href="kotlin-doc.html">
            
                    
                    编写代码文档：KDoc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.10" data-path="kotlin-osgi.html">
            
                <a href="kotlin-osgi.html">
            
                    
                    Kotlin 与 OSGi
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="d-compiler-and-plugin.html">
            
                <a href="d-compiler-and-plugin.html">
            
                    
                    编译器与插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="d-compiler.html">
            
                <a href="d-compiler.html">
            
                    
                    编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1.1" data-path="k2-compiler-migration-guide.html">
            
                <a href="k2-compiler-migration-guide.html">
            
                    
                    K2 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.2" data-path="command-line.html">
            
                <a href="command-line.html">
            
                    
                    Kotlin 命令行编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.3" data-path="compiler-reference.html">
            
                <a href="compiler-reference.html">
            
                    
                    Kotlin 编译器选项
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="d-compiler-plugins.html">
            
                <a href="d-compiler-plugins.html">
            
                    
                    编译器插件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.2.1" data-path="all-open-plugin.html">
            
                <a href="all-open-plugin.html">
            
                    
                    全开放编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.2" data-path="no-arg-plugin.html">
            
                <a href="no-arg-plugin.html">
            
                    
                    No-arg 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.3" data-path="sam-with-receiver-plugin.html">
            
                <a href="sam-with-receiver-plugin.html">
            
                    
                    带有接收者的 SAM 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.4" data-path="kapt.html">
            
                <a href="kapt.html">
            
                    
                    kapt 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.5" data-path="lombok.html">
            
                <a href="lombok.html">
            
                    
                    Lombok 编译器插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.6" data-path="power-assert.html">
            
                <a href="power-assert.html">
            
                    
                    Power-assert
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="d-compose-compiler.html">
            
                <a href="d-compose-compiler.html">
            
                    
                    Compose 编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.3.1" data-path="compose-compiler-migration-guide.html">
            
                <a href="compose-compiler-migration-guide.html">
            
                    
                    Compose 编译器迁移指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.2" data-path="compose-compiler-options.html">
            
                <a href="compose-compiler-options.html">
            
                    
                    Compose 编译器选项 DSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="d-ksp.html">
            
                <a href="d-ksp.html">
            
                    
                    Kotlin 符号处理（KSP）API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.4.1" data-path="ksp-overview.html">
            
                <a href="ksp-overview.html">
            
                    
                    KSP 概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.2" data-path="ksp-quickstart.html">
            
                <a href="ksp-quickstart.html">
            
                    
                    KSP 快速入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.3" data-path="ksp-why-ksp.html">
            
                <a href="ksp-why-ksp.html">
            
                    
                    为什么选用 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.4" data-path="ksp-examples.html">
            
                <a href="ksp-examples.html">
            
                    
                    KSP 示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.5" data-path="ksp-additional-details.html">
            
                <a href="ksp-additional-details.html">
            
                    
                    KSP 如何为 Kotlin 代码建模
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.6" data-path="ksp-reference.html">
            
                <a href="ksp-reference.html">
            
                    
                    Java 注解处理对应到 KSP 参考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.7" data-path="ksp-incremental.html">
            
                <a href="ksp-incremental.html">
            
                    
                    增量处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.8" data-path="ksp-multi-round.html">
            
                <a href="ksp-multi-round.html">
            
                    
                    多轮次处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.9" data-path="ksp-multiplatform.html">
            
                <a href="ksp-multiplatform.html">
            
                    
                    KSP 与 Kotlin 多平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.10" data-path="ksp-command-line.html">
            
                <a href="ksp-command-line.html">
            
                    
                    在命令行运行 KSP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.11" data-path="ksp-faq.html">
            
                <a href="ksp-faq.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="d-learning-materials.html">
            
                <a href="d-learning-materials.html">
            
                    
                    学习资料
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="learning-materials-overview.html">
            
                <a href="learning-materials-overview.html">
            
                    
                    学习资料概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="l-kotlin-by-example2.html">
            
                <a href="l-kotlin-by-example2.html">
            
                    
                    例学 Kotlin↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="koans.html">
            
                <a href="koans.html">
            
                    
                    Kotlin 心印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="l-kotlin-core-track.html">
            
                <a href="l-kotlin-core-track.html">
            
                    
                    Kotlin 核心课程↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.5" data-path="kotlin-hands-on.html">
            
                <a href="kotlin-hands-on.html">
            
                    
                    Kotlin 动手实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.6" data-path="kotlin-tips.html">
            
                <a href="kotlin-tips.html">
            
                    
                    Kotlin 小窍门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.7" data-path="books.html">
            
                <a href="books.html">
            
                    
                    图书
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.8" data-path="advent-of-code.html">
            
                <a href="advent-of-code.html">
            
                    
                    Advent of Code 谜题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9" data-path="d-edu-tools.html">
            
                <a href="d-edu-tools.html">
            
                    
                    在 IDE 中学习（JetBrains 学院）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.9.1" data-path="edu-tools-learner.html">
            
                <a href="edu-tools-learner.html">
            
                    
                    学习 Kotlin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9.2" data-path="edu-tools-educator.html">
            
                <a href="edu-tools-educator.html">
            
                    
                    讲授 Kotlin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10" data-path="d-lib-creator-guidelines.html">
            
                <a href="d-lib-creator-guidelines.html">
            
                    
                    库作者指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.1" data-path="api-guidelines-introduction.html">
            
                <a href="api-guidelines-introduction.html">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2" data-path="d-minimize-mental-complexity.html">
            
                <a href="d-minimize-mental-complexity.html">
            
                    
                    最小化心理复杂性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.10.2.1" data-path="api-guidelines-minimizing-mental-complexity.html">
            
                <a href="api-guidelines-minimizing-mental-complexity.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.2" data-path="api-guidelines-simplicity.html">
            
                <a href="api-guidelines-simplicity.html">
            
                    
                    简单
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.3" data-path="api-guidelines-readability.html">
            
                <a href="api-guidelines-readability.html">
            
                    
                    可读性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.4" data-path="api-guidelines-consistency.html">
            
                <a href="api-guidelines-consistency.html">
            
                    
                    一致性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.5" data-path="api-guidelines-predictability.html">
            
                <a href="api-guidelines-predictability.html">
            
                    
                    可预测性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.6" data-path="api-guidelines-debuggability.html">
            
                <a href="api-guidelines-debuggability.html">
            
                    
                    可调试性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.2.7" data-path="api-guidelines-testability.html">
            
                <a href="api-guidelines-testability.html">
            
                    
                    可测试性
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.10.3" data-path="api-guidelines-backward-compatibility.html">
            
                <a href="api-guidelines-backward-compatibility.html">
            
                    
                    反向兼容性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.4" data-path="api-guidelines-informative-documentation.html">
            
                <a href="api-guidelines-informative-documentation.html">
            
                    
                    内容翔实的文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10.5" data-path="api-guidelines-build-for-multiplatform.html">
            
                <a href="api-guidelines-build-for-multiplatform.html">
            
                    
                    构建多平台库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="d-eap.html">
            
                <a href="d-eap.html">
            
                    
                    早期访问计划（EAP）
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="eap.html">
            
                <a href="eap.html">
            
                    
                    参与 Kotlin 早期访问计划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="configure-build-for-eap.html">
            
                <a href="configure-build-for-eap.html">
            
                    
                    配置构建采用 EAP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="d-other-resources.html">
            
                <a href="d-other-resources.html">
            
                    
                    其他资源
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="d-compatibility.html">
            
                <a href="d-compatibility.html">
            
                    
                    Kotlin 兼容性指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.2.1" data-path="compatibility-guide-21.html">
            
                <a href="compatibility-guide-21.html">
            
                    
                    Kotlin 2.1 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.2" data-path="compatibility-guide-20.html">
            
                <a href="compatibility-guide-20.html">
            
                    
                    Kotlin 2.0 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.3" data-path="compatibility-guide-19.html">
            
                <a href="compatibility-guide-19.html">
            
                    
                    Kotlin 1.9 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.4" data-path="compatibility-guide-18.html">
            
                <a href="compatibility-guide-18.html">
            
                    
                    Kotlin 1.8 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.5" data-path="compatibility-guide-1720.html">
            
                <a href="compatibility-guide-1720.html">
            
                    
                    Kotlin 1.7.20 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.6" data-path="compatibility-guide-17.html">
            
                <a href="compatibility-guide-17.html">
            
                    
                    Kotlin 1.7 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.7" data-path="compatibility-guide-16.html">
            
                <a href="compatibility-guide-16.html">
            
                    
                    Kotlin 1.6 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.8" data-path="compatibility-guide-15.html">
            
                <a href="compatibility-guide-15.html">
            
                    
                    Kotlin 1.5 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.9" data-path="compatibility-guide-14.html">
            
                <a href="compatibility-guide-14.html">
            
                    
                    Kotlin 1.4 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.10" data-path="compatibility-guide-13.html">
            
                <a href="compatibility-guide-13.html">
            
                    
                    Kotlin 1.3 的兼容性指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2.11" data-path="compatibility-modes.html">
            
                <a href="compatibility-modes.html">
            
                    
                    兼容模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="d-kotlin-foundation.html">
            
                <a href="d-kotlin-foundation.html">
            
                    
                    Kotlin 基金会
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.3.1" data-path="l-kotlin-foundation.html">
            
                <a href="l-kotlin-foundation.html">
            
                    
                    Kotlin 基金会↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.2" data-path="l-language-committee-guidelines.html">
            
                <a href="l-language-committee-guidelines.html">
            
                    
                    语言委员会准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.3" data-path="l-submitting-incompatible-changes.html">
            
                <a href="l-submitting-incompatible-changes.html">
            
                    
                    提交不兼容变更指南↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.4" data-path="l-guidelines.html">
            
                <a href="l-guidelines.html">
            
                    
                    Kotlin 品牌用途准则↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3.5" data-path="l-foundation-faq.html">
            
                <a href="l-foundation-faq.html">
            
                    
                    Kotlin 基金会 FAQ↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="d-gsoc.html">
            
                <a href="d-gsoc.html">
            
                    
                    Google Summer of Code
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.4.1" data-path="gsoc-overview.html">
            
                <a href="gsoc-overview.html">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.2" data-path="l-gsoc-2025.html">
            
                <a href="l-gsoc-2025.html">
            
                    
                    Google Summer of Code with Kotlin 2025↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.3" data-path="l-gsoc-2024.html">
            
                <a href="l-gsoc-2024.html">
            
                    
                    Google Summer of Code with Kotlin 2024↗︎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4.4" data-path="l-gsoc-2023.html">
            
                <a href="l-gsoc-2023.html">
            
                    
                    Google Summer of Code with Kotlin 2023↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="security.html">
            
                <a href="security.html">
            
                    
                    安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="d-community.html">
            
                <a href="d-community.html">
            
                    
                    社区
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.6.1" data-path="contribute.html">
            
                <a href="contribute.html">
            
                    
                    贡献力量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.2" data-path="kug-guidelines.html">
            
                <a href="kug-guidelines.html">
            
                    
                    KUG 准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.3" data-path="kotlin-night-guidelines.html">
            
                <a href="kotlin-night-guidelines.html">
            
                    
                    Kotlin 之夜准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6.4" data-path="slack-code-of-conduct.html">
            
                <a href="slack-code-of-conduct.html">
            
                    
                    Kotlin Slack 的行为准则与指南
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20.7" data-path="kotlin-brand-assets.html">
            
                <a href="kotlin-brand-assets.html">
            
                    
                    Kotlin 品牌素材
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.8" data-path="l-press-kit.html">
            
                <a href="l-press-kit.html">
            
                    
                    宣传资料↗︎
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            本书使用 HonKit 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Kotlin 2.0.0</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="kotlin-200-的新特性">Kotlin 2.0.0 的新特性</h1>
<p><em><a href="releases.html#版本发布详情">发布于：2024-05-21</a></em></p>
<p>The Kotlin 2.0.0 release is out and the <a href="#kotlin-k2-compiler">new Kotlin K2 compiler</a> is Stable! Additionally, here are
some other highlights:</p>
<ul>
<li><a href="#new-compose-compiler-gradle-plugin">New Compose compiler Gradle plugin</a></li>
<li><a href="#generation-of-lambda-functions-using-invokedynamic">Generation of lambda functions using invokedynamic</a></li>
<li><a href="#the-kotlinx-metadata-jvm-library-is-stable">The kotlinx-metadata-jvm library is now Stable</a></li>
<li><a href="#monitoring-gc-performance-with-signposts-on-apple-platforms">Monitoring GC performance in Kotlin/Native with signposts on Apple platforms</a></li>
<li><a href="#resolving-conflicts-with-objective-c-methods">Resolving conflicts in Kotlin/Native with Objective-C methods</a></li>
<li><a href="#support-for-named-export">Support for named export in Kotlin/Wasm</a></li>
<li><a href="#support-for-unsigned-primitive-types-in-functions-with-jsexport">Support for unsigned primitive types in functions with @JsExport in Kotlin/Wasm</a></li>
<li><a href="#optimized-production-builds-by-default-using-binaryen">Optimize production builds by default using Binaryen</a></li>
<li><a href="#new-gradle-dsl-for-compiler-options-in-multiplatform-projects">New Gradle DSL for compiler options in multiplatform projects</a></li>
<li><a href="#stable-replacement-of-the-enum-class-values-generic-function">Stable replacement of the enum class values generic function</a></li>
<li><a href="#stable-autocloseable-interface">Stable AutoCloseable interface</a></li>
</ul>
<p>Kotlin 2.0 is a huge milestone for the JetBrains team. This release was the center of KotlinConf 2024. Check out the opening
keynote, where we announced exciting updates and addressed the recent work on the Kotlin language:</p>
<p>YouTube 视频：<a href="https://www.youtube.com/watch?v=https://www.youtube.com/v/Ar73Axsz2YA" target="_blank">KotlinConf'24 - Keynote</a> <br></br> <iframe width="560" height="315" src="https://www.youtube.com/embed/https://www.youtube.com/v/Ar73Axsz2YA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" title="KotlinConf'24 - Keynote" allowfullscreen=""></iframe><br></br></p>
<h2 id="ide-support">IDE support</h2>
<p>The Kotlin plugins that support Kotlin 2.0.0 are bundled in the latest IntelliJ IDEA and Android Studio.
You don't need to update the Kotlin plugin in your IDE.
All you need to do is to <a href="releases.html#更新到新版-kotlin">change the Kotlin version</a> to Kotlin 2.0.0 in your build scripts.</p>
<ul>
<li>For details about IntelliJ IDEA's support for the Kotlin K2 compiler, see <a href="#support-in-ides">Support in IDEs</a>.</li>
<li>For more details about IntelliJ IDEA's support for Kotlin, see <a href="releases.html#ide-支持">Kotlin releases</a>.</li>
</ul>
<h2 id="kotlin-k2-compiler">Kotlin K2 compiler</h2>
<p>The road to the K2 compiler has been a long one, but now the JetBrains team is finally ready to announce its stabilization.
In Kotlin 2.0.0, the new Kotlin K2 compiler is used by default and it is <a href="components-stability.html">Stable</a> for all target
platforms: JVM, Native, Wasm, and JS. The new compiler brings major performance improvements, speeds up new language
feature development, unifies all platforms that Kotlin supports, and provides a better architecture for multiplatform
projects.</p>
<p>The JetBrains team has ensured the quality of the new compiler by successfully compiling 10 million lines of code from
selected user and internal projects. 18,000 developers were involved in the stabilization process, testing the new K2 
compiler across a total of 80,000 projects and reporting any problems they found.</p>
<p>To help make the migration process to the new compiler as smooth as possible, we've created a <a href="k2-compiler-migration-guide.html">K2 compiler migration guide</a>.
This guide explains the many benefits of the compiler, highlights any changes you might encounter, and describes how to
roll back to the previous version if necessary.</p>
<p>In a <a href="https://blog.jetbrains.com/kotlin/2024/04/k2-compiler-performance-benchmarks-and-how-to-measure-them-on-your-projects/" target="_blank">blog post</a>,
we explored the performance of the K2 compiler in different projects. Check it out if you'd like to see real data on how
the K2 compiler performs and find instructions on how to collect performance benchmarks from your own projects.</p>
<p>You can also watch this talk from KotlinConf 2024, where Michail Zarečenskij, the lead language designer, discusses the
feature evolution in Kotlin and the K2 compiler:</p>
<p>YouTube 视频：<a href="https://www.youtube.com/watch?v=https://www.youtube.com/v/tAGJ5zJXJ7w" target="_blank">Kotlin Language Features in 2.0 and Beyond</a> <br></br> <iframe width="560" height="315" src="https://www.youtube.com/embed/https://www.youtube.com/v/tAGJ5zJXJ7w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" title="Kotlin Language Features in 2.0 and Beyond" allowfullscreen=""></iframe><br></br></p>
<h3 id="current-k2-compiler-limitations">Current K2 compiler limitations</h3>
<p>Enabling K2 in your Gradle project comes with certain limitations that can affect projects using Gradle versions below
8.3 in the following cases:</p>
<ul>
<li>Compilation of source code from <code>buildSrc</code>.</li>
<li>Compilation of Gradle plugins in included builds.</li>
<li>Compilation of other Gradle plugins if they are used in projects with Gradle versions below 8.3.</li>
<li>Building Gradle plugin dependencies.</li>
</ul>
<p>If you encounter any of the problems mentioned above, you can take the following steps to address them:</p>
<ul>
<li><p>Set the language version for <code>buildSrc</code>, any Gradle plugins, and their dependencies:</p>
<pre><code class="lang-kotlin">kotlin {
    compilerOptions {
        languageVersion.<span class="hljs-keyword">set</span>(org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9)
        apiVersion.<span class="hljs-keyword">set</span>(org.jetbrains.kotlin.gradle.dsl.KotlinVersion.KOTLIN_1_9)
    }
}
</code></pre>
<blockquote>
<p>If you configure language and API versions for specific tasks, these values will override the values set by
the <code>compilerOptions</code> extension. In this case, language and API versions should not be higher than 1.9.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>
</blockquote>
</li>
<li><p>Update the Gradle version in your project to 8.3 or later.</p>
</li>
</ul>
<h3 id="smart-cast-improvements">Smart cast improvements</h3>
<p>The Kotlin compiler can automatically cast an object to a type in specific cases, saving you the trouble of having to
explicitly cast it yourself. This is called <a href="typecasts.html#智能转换">smart casting</a>.
The Kotlin K2 compiler now performs smart casts in even more scenarios than before.</p>
<p>In Kotlin 2.0.0, we've made improvements related to smart casts in the following areas:</p>
<ul>
<li><a href="#local-variables-and-further-scopes">Local variables and further scopes</a></li>
<li><a href="#type-checks-with-logical-or-operator">Type checks with logical <code>or</code> operator</a></li>
<li><a href="#inline-functions">Inline functions</a></li>
<li><a href="#properties-with-function-types">Properties with function types</a></li>
<li><a href="#exception-handling">Exception handling</a></li>
<li><a href="#increment-and-decrement-operators">Increment and decrement operators</a></li>
</ul>
<h4 id="local-variables-and-further-scopes">Local variables and further scopes</h4>
<p>Previously, if a variable was evaluated as not <code>null</code> within an <code>if</code> condition, the variable would be smart-cast.
Information about this variable would then be shared further within the scope of the <code>if</code> block.</p>
<p>However, if you declared the variable <strong>outside</strong> the <code>if</code> condition, no information about the variable would be available
within the <code>if</code> condition, so it couldn't be smart-cast. This behavior was also seen with <code>when</code> expressions and <code>while</code> loops.</p>
<p>From Kotlin 2.0.0, if you declare a variable before using it in your <code>if</code>, <code>when</code>, or <code>while</code> condition, then any
information collected by the compiler about the variable will be accessible in the corresponding block for
smart-casting.</p>
<p>This can be useful when you want to do things like extract boolean conditions into variables. Then, you can give the
variable a meaningful name, which will improve your code readability and make it possible to reuse the variable later
in your code. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">purr</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"Purr purr"</span>)
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">petAnimal</span><span class="hljs-params">(animal: <span class="hljs-type">Any</span>)</span></span> {
    <span class="hljs-keyword">val</span> isCat = animal <span class="hljs-keyword">is</span> Cat
    <span class="hljs-keyword">if</span> (isCat) {
        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler can access</span>
        <span class="hljs-comment">// information about isCat, so it knows that</span>
        <span class="hljs-comment">// animal was smart-cast to the type Cat.</span>
        <span class="hljs-comment">// Therefore, the purr() function can be called.</span>
        <span class="hljs-comment">// In Kotlin 1.9.20, the compiler doesn't know</span>
        <span class="hljs-comment">// about the smart cast, so calling the purr()</span>
        <span class="hljs-comment">// function triggers an error.</span>
        animal.purr()
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> kitty = Cat()
    petAnimal(kitty)
    <span class="hljs-comment">// Purr purr</span>
}
</code></pre>
<h4 id="type-checks-with-logical-or-operator">Type checks with logical or operator</h4>
<p>In Kotlin 2.0.0, if you combine type checks for objects with an <code>or</code> operator (<code>||</code>), a smart cast
is made to their closest common supertype. Before this change, a smart cast was always made to the <code>Any</code> type.</p>
<p>In this case, you still had to manually check the object type afterward before you could access any of its properties or
call its functions. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Status</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">signal</span><span class="hljs-params">()</span></span> {}
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Ok</span> : <span class="hljs-type">Status</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Postponed</span> : <span class="hljs-type">Status</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Declined</span> : <span class="hljs-type">Status</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">signalCheck</span><span class="hljs-params">(signalStatus: <span class="hljs-type">Any</span>)</span></span> {
    <span class="hljs-keyword">if</span> (signalStatus <span class="hljs-keyword">is</span> Postponed || signalStatus <span class="hljs-keyword">is</span> Declined) {
        <span class="hljs-comment">// signalStatus is smart-cast to a common supertype Status</span>
        signalStatus.signal()
        <span class="hljs-comment">// Prior to Kotlin 2.0.0, signalStatus is smart cast </span>
        <span class="hljs-comment">// to type Any, so calling the signal() function triggered an</span>
        <span class="hljs-comment">// Unresolved reference error. The signal() function can only </span>
        <span class="hljs-comment">// be called successfully after another type check:</span>

        <span class="hljs-comment">// check(signalStatus is Status)</span>
        <span class="hljs-comment">// signalStatus.signal()</span>
    }
}
</code></pre>
<blockquote>
<p>The common supertype is an <strong>approximation</strong> of a union type. <a href="https://en.wikipedia.org/wiki/Union_type" target="_blank">Union types</a>
are not supported in Kotlin.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h4 id="inline-functions">Inline functions</h4>
<p>In Kotlin 2.0.0, the K2 compiler treats inline functions differently,
allowing it to determine in combination with other compiler analyses whether it's safe to smart-cast.</p>
<p>Specifically, inline functions are now treated as having an implicit <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.contracts/-contract-builder/calls-in-place.html" target="_blank"><code>callsInPlace</code></a>
contract. This means that any lambda functions passed to an inline function are called in place. Since lambda functions
are called in place, the compiler knows that a lambda function can't leak references to any variables contained within
its function body.</p>
<p>The compiler uses this knowledge along with other compiler analyses to decide whether it's safe to smart-cast any of the
captured variables. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Processor</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">()</span></span>
}

<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">inlineAction</span><span class="hljs-params">(f: () -&gt; <span class="hljs-type">Unit</span>)</span></span> = f()

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">nextProcessor</span><span class="hljs-params">()</span></span>: Processor? = <span class="hljs-literal">null</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">runProcessor</span><span class="hljs-params">()</span></span>: Processor? {
    <span class="hljs-keyword">var</span> processor: Processor? = <span class="hljs-literal">null</span>
    inlineAction {
        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler knows that processor </span>
        <span class="hljs-comment">// is a local variable, and inlineAction() is an inline function, so </span>
        <span class="hljs-comment">// references to processor can't be leaked. Therefore, it's safe </span>
        <span class="hljs-comment">// to smart-cast processor.</span>

        <span class="hljs-comment">// If processor isn't null, processor is smart-cast</span>
        <span class="hljs-keyword">if</span> (processor != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// The compiler knows that processor isn't null, so no safe call </span>
            <span class="hljs-comment">// is needed</span>
            processor.process()

            <span class="hljs-comment">// In Kotlin 1.9.20, you have to perform a safe call:</span>
            <span class="hljs-comment">// processor?.process()</span>
        }

        processor = nextProcessor()
    }

    <span class="hljs-keyword">return</span> processor
}
</code></pre>
<h4 id="properties-with-function-types">Properties with function types</h4>
<p>In previous versions of Kotlin, there was a bug that meant that class properties with a function type weren't smart-cast.
We fixed this behavior in Kotlin 2.0.0 and the K2 compiler. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>(<span class="hljs-keyword">val</span> provider: (() -&gt; <span class="hljs-built_in">Unit</span>)?) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// In Kotlin 2.0.0, if provider isn't null, then</span>
        <span class="hljs-comment">// provider is smart-cast</span>
        <span class="hljs-keyword">if</span> (provider != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// The compiler knows that provider isn't null</span>
            provider()

            <span class="hljs-comment">// In 1.9.20, the compiler doesn't know that provider isn't </span>
            <span class="hljs-comment">// null, so it triggers an error:</span>
            <span class="hljs-comment">// Reference has a nullable type '(() -&gt; Unit)?', use explicit '?.invoke()' to make a function-like call instead</span>
        }
    }
}
</code></pre>
<p>This change also applies if you overload your <code>invoke</code> operator. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Provider</span> {
    <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">invoke</span><span class="hljs-params">()</span></span>
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Processor</span> : <span class="hljs-type"></span>() -&gt; String

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>(<span class="hljs-keyword">val</span> provider: Provider?, <span class="hljs-keyword">val</span> processor: Processor?) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (provider != <span class="hljs-literal">null</span>) {
            provider()
            <span class="hljs-comment">// In 1.9.20, the compiler triggers an error: </span>
            <span class="hljs-comment">// Reference has a nullable type 'Provider?' use explicit '?.invoke()' to make a function-like call instead</span>
        }
    }
}
</code></pre>
<h4 id="exception-handling">Exception handling</h4>
<p>In Kotlin 2.0.0, we've made improvements to exception handling so that smart cast information can be passed on to <code>catch</code>
and <code>finally</code> blocks. This change makes your code safer as the compiler keeps track of whether your object has a nullable
type. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">//sampleStart</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testString</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> stringInput: String? = <span class="hljs-literal">null</span>
    <span class="hljs-comment">// stringInput is smart-cast to String type</span>
    stringInput = <span class="hljs-string">""</span>
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// The compiler knows that stringInput isn't null</span>
        println(stringInput.length)
        <span class="hljs-comment">// 0</span>

        <span class="hljs-comment">// The compiler rejects previous smart cast information for </span>
        <span class="hljs-comment">// stringInput. Now stringInput has the String? type.</span>
        stringInput = <span class="hljs-literal">null</span>

        <span class="hljs-comment">// Trigger an exception</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-number">2</span> &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> Exception()
        stringInput = <span class="hljs-string">""</span>
    } <span class="hljs-keyword">catch</span> (exception: Exception) {
        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler knows stringInput </span>
        <span class="hljs-comment">// can be null, so stringInput stays nullable.</span>
        println(stringInput?.length)
        <span class="hljs-comment">// null</span>

        <span class="hljs-comment">// In Kotlin 1.9.20, the compiler says that a safe call isn't</span>
        <span class="hljs-comment">// needed, but this is incorrect.</span>
    }
}

<span class="hljs-comment">//sampleEnd</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    testString()
}
</code></pre>
<h4 id="increment-and-decrement-operators">Increment and decrement operators</h4>
<p>Prior to Kotlin 2.0.0, the compiler didn't understand that the type of an object can change after using an increment or
decrement operator. As the compiler couldn't accurately track the object type, your code could lead to unresolved
reference errors. In Kotlin 2.0.0, this has been fixed:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Rho</span> {
    <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">inc</span><span class="hljs-params">()</span></span>: Sigma = TODO()
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Sigma</span> : <span class="hljs-type">Rho</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">sigma</span><span class="hljs-params">()</span></span> = <span class="hljs-built_in">Unit</span>
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Tau</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">tau</span><span class="hljs-params">()</span></span> = <span class="hljs-built_in">Unit</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(input: <span class="hljs-type">Rho</span>)</span></span> {
    <span class="hljs-keyword">var</span> unknownObject: Rho = input

    <span class="hljs-comment">// Check if unknownObject inherits from the Tau interface</span>
    <span class="hljs-comment">// Note, it's possible that unknownObject inherits from both</span>
    <span class="hljs-comment">// Rho and Tau interfaces.</span>
    <span class="hljs-keyword">if</span> (unknownObject <span class="hljs-keyword">is</span> Tau) {

        <span class="hljs-comment">// Use the overloaded inc() operator from interface Rho.</span>
        <span class="hljs-comment">// In Kotlin 2.0.0, the type of unknownObject is smart-cast to</span>
        <span class="hljs-comment">// Sigma.</span>
        ++unknownObject

        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler knows unknownObject has type</span>
        <span class="hljs-comment">// Sigma, so the sigma() function can be called successfully.</span>
        unknownObject.sigma()

        <span class="hljs-comment">// In Kotlin 1.9.20, the compiler doesn't perform a smart cast</span>
        <span class="hljs-comment">// when inc() is called so the compiler still thinks that </span>
        <span class="hljs-comment">// unknownObject has type Tau. Calling the sigma() function </span>
        <span class="hljs-comment">// throws a compile-time error.</span>

        <span class="hljs-comment">// In Kotlin 2.0.0, the compiler knows unknownObject has type</span>
        <span class="hljs-comment">// Sigma, so calling the tau() function throws a compile-time </span>
        <span class="hljs-comment">// error.</span>
        unknownObject.tau()
        <span class="hljs-comment">// Unresolved reference 'tau'</span>

        <span class="hljs-comment">// In Kotlin 1.9.20, since the compiler mistakenly thinks that </span>
        <span class="hljs-comment">// unknownObject has type Tau, the tau() function can be called,</span>
        <span class="hljs-comment">// but it throws a ClassCastException.</span>
    }
}
</code></pre>
<h3 id="kotlin-multiplatform-improvements">Kotlin Multiplatform improvements</h3>
<p>In Kotlin 2.0.0, we've made improvements in the K2 compiler related to Kotlin Multiplatform in the following areas:</p>
<ul>
<li><a href="#separation-of-common-and-platform-sources-during-compilation">Separation of common and platform sources during compilation</a></li>
<li><a href="#different-visibility-levels-of-expected-and-actual-declarations">Different visibility levels of expected and actual declarations</a></li>
</ul>
<h4 id="separation-of-common-and-platform-sources-during-compilation">Separation of common and platform sources during compilation</h4>
<p>Previously, the design of the Kotlin compiler prevented it from keeping common and platform source sets separate
at compile time. As a consequence, common code could access platform code, which resulted in different behavior
between platforms. In addition, some compiler settings and dependencies from common code used to leak into platform code.</p>
<p>In Kotlin 2.0.0, our implementation of the new Kotlin K2 compiler included a redesign of the compilation scheme to ensure
strict separation between common and platform source sets. This change is most noticeable when you use <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-expect-actual.html#expected-and-actual-functions" target="_blank">expected and actual functions</a>.
Previously, it was possible for a function call in your common code to resolve to a function in platform code. For example:</p>
<table>
   <tr>
       <td>Common code</td>
       <td>Platform code</td>
   </tr>
   <tr>
<td>

```kotlin
fun foo(x: Any) = println("common foo")

fun exampleFunction() {
    foo(42)
}
```

</td>
<td>

```kotlin
// JVM
fun foo(x: Int) = println("platform foo")

// JavaScript
// There is no foo() function overload
// on the JavaScript platform
```

</td>
</tr>
</table>

<p>In this example, the common code has different behavior depending on which platform it is run on:</p>
<ul>
<li>On the JVM platform, calling the <code>foo()</code> function in the common code results in the <code>foo()</code> function from the platform code
being called as <code>platform foo</code>.</li>
<li>On the JavaScript platform, calling the <code>foo()</code> function in the common code results in the <code>foo()</code> function from the
common code being called as <code>common foo</code>, as there is no such function available in the platform code.</li>
</ul>
<p>In Kotlin 2.0.0, common code doesn't have access to platform code, so both platforms successfully resolve the <code>foo()</code>
function to the <code>foo()</code> function in the common code: <code>common foo</code>.</p>
<p>In addition to the improved consistency of behavior across platforms, we also worked hard to fix cases where there was
conflicting behavior between IntelliJ IDEA or Android Studio and the compiler. For instance, when you used <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-expect-actual.html#expected-and-actual-classes" target="_blank">expected and actual classes</a>,
the following would happen:</p>
<table>
   <tr>
       <td>Common code</td>
       <td>Platform code</td>
   </tr>
   <tr>
<td>

```kotlin
expect class Identity {
    fun confirmIdentity(): String
}

fun common() {
    // Before 2.0.0,
    // it triggers an IDE-only error
    Identity().confirmIdentity()
    // RESOLUTION_TO_CLASSIFIER : Expected class
    // Identity has no default constructor.
}
```

</td>
<td>

```kotlin
actual class Identity {
    actual fun confirmIdentity() = "expect class fun: jvm"
}
```

</td>
</tr>
</table>

<p>In this example, the expected class <code>Identity</code> has no default constructor, so it can't be called successfully in common code.
Previously, an error was only reported by the IDE, but the code still compiled successfully on the JVM. However, now the
compiler correctly reports an error:</p>
<pre><code>Expected class 'expect class Identity : Any' does not have default constructor
</code></pre><h5 id="when-resolution-behavior-doesnt-change">When resolution behavior doesn't change</h5>
<p>We're still in the process of migrating to the new compilation scheme, so the resolution behavior is still the same when
you call functions that aren't within the same source set. You'll notice this difference mainly when you use overloads
from a multiplatform library in your common code.</p>
<p>Suppose you have a library, which has two <code>whichFun()</code> functions with different signatures:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Example library</span>

<span class="hljs-comment">// MODULE: common</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">whichFun</span><span class="hljs-params">(x: <span class="hljs-type">Any</span>)</span></span> = println(<span class="hljs-string">"common function"</span>)

<span class="hljs-comment">// MODULE: JVM</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">whichFun</span><span class="hljs-params">(x: <span class="hljs-type">Int</span>)</span></span> = println(<span class="hljs-string">"platform function"</span>)
</code></pre>
<p>If you call the <code>whichFun()</code> function in your common code, the function that has the most relevant argument type in the
library is resolved:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// A project that uses the example library for the JVM target</span>

<span class="hljs-comment">// MODULE: common</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    whichFun(<span class="hljs-number">2</span>)
    <span class="hljs-comment">// platform function</span>
}
</code></pre>
<p>In comparison, if you declare the overloads for <code>whichFun()</code> within the same source set, the function from the common
code will be resolved because your code doesn't have access to the platform-specific version:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Example library isn't used</span>

<span class="hljs-comment">// MODULE: common</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">whichFun</span><span class="hljs-params">(x: <span class="hljs-type">Any</span>)</span></span> = println(<span class="hljs-string">"common function"</span>)

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    whichFun(<span class="hljs-number">2</span>)
    <span class="hljs-comment">// common function</span>
}

<span class="hljs-comment">// MODULE: JVM</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">whichFun</span><span class="hljs-params">(x: <span class="hljs-type">Int</span>)</span></span> = println(<span class="hljs-string">"platform function"</span>)
</code></pre>
<p>Similar to multiplatform libraries, since the <code>commonTest</code> module is in a separate source set, it also still has access
to platform-specific code. Therefore, the resolution of calls to functions in the <code>commonTest</code> module exhibits the same
behavior as in the old compilation scheme.</p>
<p>In the future, these remaining cases will be more consistent with the new compilation scheme.</p>
<h4 id="different-visibility-levels-of-expected-and-actual-declarations">Different visibility levels of expected and actual declarations</h4>
<p>Before Kotlin 2.0.0, if you used <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-expect-actual.html" target="_blank">expected and actual declarations</a> in your
Kotlin Multiplatform project, they had to have the same <a href="visibility-modifiers.html">visibility level</a>. 
Kotlin 2.0.0 now also supports different visibility levels but <strong>only</strong> if the actual declaration is <em>more</em> permissive than 
the expected declaration. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">expect</span> <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Attribute</span> // <span class="hljs-title">Visibility</span> <span class="hljs-title">is</span> <span class="hljs-keyword">internal</span>
<span class="hljs-keyword">actual</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Attribute</span>          // <span class="hljs-title">Visibility</span> <span class="hljs-title">is</span> <span class="hljs-keyword">public</span> <span class="hljs-title">by</span> <span class="hljs-title">default</span>,
                                <span class="hljs-type">//</span> <span class="hljs-title">which</span> <span class="hljs-title">is</span> <span class="hljs-title">more</span> <span class="hljs-title">permissive</span>
</code></pre>
<p>Similarly, if you are using a <a href="type-aliases.html">type alias</a> in your actual declaration, the visibility of the <strong>underlying type</strong>
should be the same or more permissive than the expected declaration. For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">expect</span> <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Attribute</span>                 // <span class="hljs-title">Visibility</span> <span class="hljs-title">is</span> <span class="hljs-keyword">internal</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">actual</span> <span class="hljs-keyword">typealias</span> Attribute = Expanded

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Expanded</span>                                  // <span class="hljs-title">Visibility</span> <span class="hljs-title">is</span> <span class="hljs-keyword">public</span> <span class="hljs-title">by</span> <span class="hljs-title">default</span>,
                                                <span class="hljs-type">//</span> <span class="hljs-title">which</span> <span class="hljs-title">is</span> <span class="hljs-title">more</span> <span class="hljs-title">permissive</span>
</code></pre>
<h3 id="compiler-plugins-support">Compiler plugins support</h3>
<p>Currently, the Kotlin K2 compiler supports the following Kotlin compiler plugins:</p>
<ul>
<li><a href="all-open-plugin.html"><code>all-open</code></a></li>
<li><a href="https://github.com/Kotlin/kotlinx-atomicfu" target="_blank">AtomicFU</a></li>
<li><a href="https://github.com/JetBrains/kotlin/tree/master/plugins/jvm-abi-gen" target="_blank"><code>jvm-abi-gen</code></a></li>
<li><a href="https://github.com/JetBrains/kotlin/tree/master/plugins/js-plain-objects" target="_blank"><code>js-plain-objects</code></a></li>
<li><a href="whatsnew1920.html#preview-kapt-compiler-plugin-with-k2">kapt</a></li>
<li><a href="lombok.html">Lombok</a></li>
<li><a href="no-arg-plugin.html"><code>no-arg</code></a></li>
<li><a href="https://plugins.gradle.org/plugin/org.jetbrains.kotlin.plugin.parcelize" target="_blank">Parcelize</a></li>
<li><a href="sam-with-receiver-plugin.html">SAM with receiver</a></li>
<li><a href="serialization.html">serialization</a></li>
<li><a href="power-assert.html">Power-assert</a></li>
</ul>
<p>In addition, the Kotlin K2 compiler supports:</p>
<ul>
<li>The <a href="https://developer.android.com/jetpack/compose" target="_blank">Jetpack Compose</a> compiler plugin 2.0.0, which
was <a href="https://android-developers.googleblog.com/2024/04/jetpack-compose-compiler-moving-to-kotlin-repository.html" target="_blank">moved into the Kotlin repository</a>.</li>
<li>The <a href="ksp-overview.html">Kotlin Symbol Processing (KSP) plugin</a> since <a href="https://android-developers.googleblog.com/2023/12/ksp2-preview-kotlin-k2-standalone.html" target="_blank">KSP2</a>.</li>
</ul>
<blockquote>
<p>If you use any additional compiler plugins, check their documentation to see if they are compatible with K2.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<h3 id="experimental-kotlin-power-assert-compiler-plugin">Experimental Kotlin Power-assert compiler plugin</h3>
<blockquote>
<p>The Kotlin Power-assert plugin is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be changed at any time.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Kotlin 2.0.0 introduces an experimental Power-assert compiler plugin. This plugin improves the experience of writing
tests by including contextual information in failure messages, making debugging easier and more efficient.</p>
<p>Developers often need to use complex assertion libraries to write effective tests. The Power-assert plugin simplifies
this process by automatically generating failure messages that include intermediate values of the assertion expression.
This helps developers quickly understand why a test failed.</p>
<p>When an assertion fails in a test, the improved error message shows the values of all variables and sub-expressions
within the assertion, making it clear which part of the condition caused the failure. This is particularly useful for
complex assertions where multiple conditions are checked.</p>
<p>To enable the plugin in your project, configure it in your <code>build.gradle(.kts)</code> file:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">plugins {
    kotlin(<span class="hljs-string">"multiplatform"</span>) version <span class="hljs-string">"2.0.0"</span>
    kotlin(<span class="hljs-string">"plugin.power-assert"</span>) version <span class="hljs-string">"2.0.0"</span>
}

powerAssert {
    functions = listOf(<span class="hljs-string">"kotlin.assert"</span>, <span class="hljs-string">"kotlin.test.assertTrue"</span>)
}
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">plugins {
    id <span class="hljs-string">'org.jetbrains.kotlin.multiplatform'</span> version <span class="hljs-string">'2.0.0'</span>
    id <span class="hljs-string">'org.jetbrains.kotlin.plugin.power-assert'</span> version <span class="hljs-string">'2.0.0'</span>
}

powerAssert {
    functions = [<span class="hljs-string">"kotlin.assert"</span>, <span class="hljs-string">"kotlin.test.assertTrue"</span>]
}
</code></pre>
<hr></hr>
<p>Learn more about the <a href="power-assert.html">Kotlin Power-assert plugin in the documentation</a>.</p>
<h3 id="how-to-enable-the-kotlin-k2-compiler">How to enable the Kotlin K2 compiler</h3>
<p>Starting with Kotlin 2.0.0, the Kotlin K2 compiler is enabled by default. No additional actions are required.</p>
<h3 id="try-the-kotlin-k2-compiler-in-kotlin-playground">Try the Kotlin K2 compiler in Kotlin Playground</h3>
<p>Kotlin Playground supports the 2.0.0 release. <a href="https://pl.kotl.in/czuoQprce" target="_blank">Check it out!</a></p>
<h3 id="support-in-ides">Support in IDEs</h3>
<p>By default, IntelliJ IDEA and Android Studio still use the previous compiler for code analysis, code completion,
highlighting, and other IDE-related features. To get the full Kotlin 2.0 experience in your IDE, enable K2 mode.</p>
<p>In your IDE, go to <strong>Settings</strong> | <strong>Languages &amp; Frameworks</strong> | <strong>Kotlin</strong> and select the <strong>Enable K2 mode</strong> option.
The IDE will analyze your code using its K2 mode.</p>
<p><img src="../images/k2-mode.png" alt="Enable K2 mode"></img></p>
<p>After enabling K2 mode, you may notice differences in IDE analysis due to changes in compiler behavior. Learn how the
new K2 compiler differs from the previous one in our <a href="k2-compiler-migration-guide.html">migration guide</a>.</p>
<ul>
<li>Learn more about K2 mode in <a href="https://blog.jetbrains.com/idea/2024/11/k2-mode-becomes-stable/" target="_blank">our blog</a>.</li>
<li>We are actively collecting feedback about K2 mode, so please share your thoughts in our <a href="https://kotlinlang.slack.com/archives/C0B8H786P" target="_blank">public Slack channel</a>.</li>
</ul>
<h3 id="leave-your-feedback-on-the-new-k2-compiler">Leave your feedback on the new K2 compiler</h3>
<p>We would appreciate any feedback you may have!</p>
<ul>
<li>Report any problems you face with the new K2 compiler in <a href="https://kotl.in/issue" target="_blank">our issue tracker</a>.</li>
<li><a href="https://www.jetbrains.com/help/idea/settings-usage-statistics.html" target="_blank">Enable the "Send usage statistics" option</a> to
allow JetBrains to collect anonymous data about K2 usage.</li>
</ul>
<h2 id="kotlinjvm">Kotlin/JVM</h2>
<p>Starting with version 2.0.0, the compiler can generate classes containing Java 22 bytecode.
This version also brings the following changes:</p>
<ul>
<li><a href="#generation-of-lambda-functions-using-invokedynamic">Generation of lambda functions using invokedynamic</a></li>
<li><a href="#the-kotlinx-metadata-jvm-library-is-stable">The kotlinx-metadata-jvm library is now Stable</a></li>
</ul>
<h3 id="generation-of-lambda-functions-using-invokedynamic">Generation of lambda functions using invokedynamic</h3>
<p>Kotlin 2.0.0 introduces a new default method for generating lambda functions using <code>invokedynamic</code>. This change reduces
the binary sizes of applications compared to the traditional anonymous class generation.</p>
<p>Since the first version, Kotlin has generated lambdas as anonymous classes. However, starting from <a href="whatsnew15.html#采用-invokedynamic-的-lambda-表达式">Kotlin 1.5.0</a>,
the option for <code>invokedynamic</code> generation has been available by using the <code>-Xlambdas=indy</code> compiler option. In Kotlin
2.0.0, <code>invokedynamic</code> has become the default method for lambda generation. This method produces lighter binaries and
aligns Kotlin with JVM optimizations, ensuring applications benefit from ongoing and future improvements in JVM performance.</p>
<p>Currently, it has three limitations compared to ordinary lambda compilation:</p>
<ul>
<li>A lambda compiled into <code>invokedynamic</code> is not serializable.</li>
<li>Experimental <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.jvm/reflect.html" target="_blank"><code>reflect()</code></a> API does not
support lambdas generated by <code>invokedynamic</code>.</li>
<li>Calling <code>.toString()</code> on such a lambda produces a less readable string representation:</li>
</ul>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    println({})

    <span class="hljs-comment">// With Kotlin 1.9.24 and reflection, returns</span>
    <span class="hljs-comment">// () -&gt; kotlin.Unit</span>

    <span class="hljs-comment">// With Kotlin 2.0.0, returns</span>
    <span class="hljs-comment">// FileKt$$Lambda$13/0x00007f88a0004608@506e1b77</span>
}
</code></pre>
<p>To retain the legacy behavior of generating lambda functions, you can either:</p>
<ul>
<li>Annotate specific lambdas with <code>@JvmSerializableLambda</code>.</li>
<li>Use the compiler option <code>-Xlambdas=class</code> to generate all lambdas in a module using the legacy method.</li>
</ul>
<h3 id="the-kotlinx-metadata-jvm-library-is-stable">The kotlinx-metadata-jvm library is Stable</h3>
<p>In Kotlin 2.0.0, the <code>kotlinx-metadata-jvm</code> library became <a href="components-stability.html#stability-levels-explained">Stable</a>. Now that the library has changed to the
<code>kotlin</code> package and coordinates, you can find it as <code>kotlin-metadata-jvm</code> (without the "x").</p>
<p>Previously, the <code>kotlinx-metadata-jvm</code> library had its own publishing scheme and version. Now, we will build and publish
the <code>kotlin-metadata-jvm</code> updates as part of the Kotlin release cycle, with the same backward compatibility guarantees
as the Kotlin standard library.</p>
<p>The <code>kotlin-metadata-jvm</code> library provides an API to read and modify metadata of binary files generated by the
Kotlin/JVM compiler.</p>
<!-- Learn more about the `kotlinx-metadata-jvm` library in the [documentation](kotlin-metadata-jvm.md). -->
<h2 id="kotlinnative">Kotlin/Native</h2>
<p>This version brings the following changes:</p>
<ul>
<li><a href="#monitoring-gc-performance-with-signposts-on-apple-platforms">Monitoring GC performance with signposts</a></li>
<li><a href="#resolving-conflicts-with-objective-c-methods">Resolving conflicts with Objective-C methods</a></li>
<li><a href="#changed-log-level-for-compiler-arguments">Changed log level for compiler arguments in Kotlin/Native</a></li>
<li><a href="#explicitly-added-standard-library-and-platform-dependencies-to-kotlinnative">Explicitly added standard library and platform dependencies to Kotlin/Native</a></li>
<li><a href="#tasks-error-in-gradle-configuration-cache">Tasks error in Gradle configuration cache</a></li>
</ul>
<h3 id="monitoring-gc-performance-with-signposts-on-apple-platforms">Monitoring GC performance with signposts on Apple platforms</h3>
<p>Previously, it was only possible to monitor the performance of Kotlin/Native's garbage collector (GC) by looking into
logs. However, these logs were not integrated with Xcode Instruments, a popular toolkit for investigating issues with iOS
apps' performance.</p>
<p>Since Kotlin 2.0.0, GC reports pauses with signposts that are available in Instruments. Signposts allow for custom
logging within your app, so now, when debugging iOS app performance, you can check if a GC pause corresponds to the
application freeze.</p>
<p>Learn more about GC performance analysis in the <a href="native-memory-manager.html#monitor-gc-performance">documentation</a>.</p>
<h3 id="resolving-conflicts-with-objective-c-methods">Resolving conflicts with Objective-C methods</h3>
<p>Objective-C methods can have different names, but the same number and types of parameters. For example,
<a href="https://developer.apple.com/documentation/corelocation/cllocationmanagerdelegate/1423560-locationmanager?language=objc" target="_blank"><code>locationManager:didEnterRegion:</code></a>
and <a href="https://developer.apple.com/documentation/corelocation/cllocationmanagerdelegate/1423630-locationmanager?language=objc" target="_blank"><code>locationManager:didExitRegion:</code></a>.
In Kotlin, these methods have the same signature, so an attempt to use them triggers a conflicting overloads error.</p>
<p>Previously, you had to manually suppress conflicting overloads to avoid this compilation error. To improve Kotlin
interoperability with Objective-C, the Kotlin 2.0.0 introduces the new <code>@ObjCSignatureOverride</code> annotation.</p>
<p>The annotation instructs the Kotlin compiler to ignore conflicting overloads, in case several functions with the same
argument types but different argument names are inherited from the Objective-C class.</p>
<p>Applying this annotation is also safer than general error suppression. This annotation can only be used in the case of
overriding Objective-C methods, which are supported and tested, while general suppression may hide important errors and
lead to silently broken code.</p>
<h3 id="changed-log-level-for-compiler-arguments">Changed log level for compiler arguments</h3>
<p>In this release, the log level for compiler arguments in Kotlin/Native Gradle tasks, such as <code>compile</code>, <code>link</code>, and
<code>cinterop</code>, has changed from <code>info</code> to <code>debug</code>.</p>
<p>With <code>debug</code> as its default value, the log level is consistent with other Gradle compilation tasks and provides detailed
debugging information, including all compiler arguments.</p>
<h3 id="explicitly-added-standard-library-and-platform-dependencies-to-kotlinnative">Explicitly added standard library and platform dependencies to Kotlin/Native</h3>
<p>Previously, the Kotlin/Native compiler resolved standard library and platform dependencies implicitly, which caused
inconsistencies in the way the Kotlin Gradle plugin worked across Kotlin targets.</p>
<p>Now, each Kotlin/Native Gradle compilation explicitly includes standard library and platform dependencies in its
compile-time library path via the <code>compileDependencyFiles</code> <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-dsl-reference.html#编译项参数" target="_blank">compilation parameter</a>.</p>
<h3 id="tasks-error-in-gradle-configuration-cache">Tasks error in Gradle configuration cache</h3>
<p>Since Kotlin 2.0.0, you may encounter a configuration cache error with messages indicating:
<code>invocation of Task.project at execution time is unsupported</code>.</p>
<p>This error appears in tasks such as <code>NativeDistributionCommonizerTask</code> and <code>KotlinNativeCompile</code>.</p>
<p>However, this is a false-positive error. The underlying issue is the presence of tasks that are not compatible with the
Gradle configuration cache, like the <code>publish*</code> task.</p>
<p>This discrepancy may not be immediately apparent, as the error message suggests a different root cause.</p>
<p>As the precise cause isn't explicitly stated in the error report, <a href="https://github.com/gradle/gradle/issues/21290" target="_blank">the Gradle team is already addressing the issue to fix reports</a>.</p>
<h2 id="kotlinwasm">Kotlin/Wasm</h2>
<p>Kotlin 2.0.0 improves performance and interoperability with JavaScript:</p>
<ul>
<li><a href="#optimized-production-builds-by-default-using-binaryen">Optimized production builds by default using Binaryen</a></li>
<li><a href="#support-for-named-export">Support for named export</a></li>
<li><a href="#support-for-unsigned-primitive-types-in-functions-with-jsexport">Support for unsigned primitive types in functions with <code>@JsExport</code></a></li>
<li><a href="#generation-of-typescript-declaration-files-in-kotlinwasm">Generation of TypeScript declaration files in Kotlin/Wasm</a></li>
<li><a href="#support-for-catching-javascript-exceptions">Support for catching JavaScript exceptions</a></li>
<li><a href="#new-exception-handling-proposal-is-now-supported-as-an-option">New exception handling proposal is now supported as an option</a></li>
<li><a href="#the-withwasm-function-is-split-into-js-and-wasi-variants">The <code>withWasm()</code> function is split into JS and WASI variants</a></li>
</ul>
<h3 id="optimized-production-builds-by-default-using-binaryen">Optimized production builds by default using Binaryen</h3>
<p>The Kotlin/Wasm toolchain now applies the <a href="https://github.com/WebAssembly/binaryen" target="_blank">Binaryen</a> tool during production
compilation to all projects, as opposed to the previous manual setup approach. By our estimations, it should
improve runtime performance and reduce the binary size for your project.</p>
<blockquote>
<p>This change only affects production compilation. The development compilation process stays the same.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h3 id="support-for-named-export">Support for named export</h3>
<p>Previously, all exported declarations from Kotlin/Wasm were imported into JavaScript using default export:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">//JavaScript:</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Module</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./index.mjs"</span>

<span class="hljs-title class_">Module</span>.<span class="hljs-title function_">add</span>()
</code></pre>
<p>Now, you can import each Kotlin declaration marked with <code>@JsExport</code> by name:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Kotlin:</span>
<span class="hljs-meta">@JsExport</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">add</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span> = a + b
</code></pre>
<pre><code class="lang-javascript"><span class="hljs-comment">//JavaScript:</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">"./index.mjs"</span>
</code></pre>
<p>Named exports make it easier to share code between Kotlin and JavaScript modules. They improve readability and help you
manage dependencies between modules.</p>
<h3 id="support-for-unsigned-primitive-types-in-functions-with-jsexport">Support for unsigned primitive types in functions with @JsExport</h3>
<p>Starting from Kotlin 2.0.0, you can use <a href="unsigned-integer-types.html">unsigned primitive types</a> inside external
declarations and functions with the <code>@JsExport</code> annotation that makes Kotlin/Wasm functions available in JavaScript code.</p>
<p>This helps to mitigate the previous limitation that prevented <a href="unsigned-integer-types.html">the unsigned primitives</a> from
being used directly inside exported and external declarations. Now you can export functions with unsigned primitives as
a return or parameter type and consume external declarations that return or consume unsigned primitives.</p>
<p>For more information on Kotlin/Wasm interoperability with JavaScript, see the <a href="wasm-js-interop.html#use-javascript-code-in-kotlin">documentation</a>.</p>
<h3 id="generation-of-typescript-declaration-files-in-kotlinwasm">Generation of TypeScript declaration files in Kotlin/Wasm</h3>
<blockquote>
<p>Generating TypeScript declaration files in Kotlin/Wasm is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be dropped or changed at any time.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>In Kotlin 2.0.0, the Kotlin/Wasm compiler is now capable of generating TypeScript definitions from any <code>@JsExport</code>
declarations in your Kotlin code. These definitions can be used by IDEs and JavaScript tools to provide code
autocompletion, help with type checks, and make it easier to include Kotlin code in JavaScript.</p>
<p>The Kotlin/Wasm compiler collects any <a href="wasm-js-interop.html#functions-with-the-jsexport-annotation">top-level functions</a>
marked with <code>@JsExport</code> and automatically generates TypeScript definitions in a <code>.d.ts</code> file.</p>
<p>To generate TypeScript definitions, in your <code>build.gradle(.kts)</code> file in the <code>wasmJs {}</code> block, add
the <code>generateTypeScriptDefinitions()</code> function:</p>
<pre><code class="lang-kotlin">kotlin {
    wasmJs {
        binaries.executable()
        browser {
        }
        generateTypeScriptDefinitions()
    }
}
</code></pre>
<h3 id="support-for-catching-javascript-exceptions">Support for catching JavaScript exceptions</h3>
<p>Previously, Kotlin/Wasm code could not catch JavaScript exceptions, making it difficult to handle errors originating
from the JavaScript side of the program.</p>
<p>In Kotlin 2.0.0, we have implemented support for catching JavaScript exceptions within Kotlin/Wasm. This implementation
allows you to use <code>try-catch</code> blocks, with specific types like <code>Throwable</code> or <code>JsException</code>, to handle these errors properly.</p>
<p>Additionally, <code>finally</code> blocks, which help execute code regardless of exceptions, also work correctly. While we're
introducing support for catching JavaScript exceptions, no additional information is provided when a JavaScript exception,
like a call stack, occurs. However, <a href="https://youtrack.jetbrains.com/issue/KT-68185/WasmJs-Attach-js-exception-object-to-JsException" target="_blank">we are working on these implementations</a>.</p>
<h3 id="new-exception-handling-proposal-is-now-supported-as-an-option">New exception handling proposal is now supported as an option</h3>
<p>In this release, we introduce support for the new version of WebAssembly's <a href="https://github.com/WebAssembly/exception-handling/blob/main/proposals/exception-handling/Exceptions.md" target="_blank">exception handling proposal</a>
within Kotlin/Wasm.</p>
<p>This update ensures the new proposal aligns with Kotlin requirements, enabling the use of Kotlin/Wasm on virtual
machines that only support the latest version of the proposal.</p>
<p>Activate the new exception handling proposal by using the <code>-Xwasm-use-new-exception-proposal</code> compiler option, which is
turned off by default.</p>
<h3 id="the-withwasm-function-is-split-into-js-and-wasi-variants">The withWasm() function is split into JS and WASI variants</h3>
<p>The <code>withWasm()</code> function, which used to provide Wasm targets for hierarchy templates, is deprecated in favor of
specialized <code>withWasmJs()</code> and <code>withWasmWasi()</code> functions.</p>
<p>Now you can separate the WASI and JS targets between different groups in the tree definition.</p>
<h2 id="kotlinjs">Kotlin/JS</h2>
<p>Among other changes, this version brings modern JS compilation to Kotlin, supporting more features from the ES2015
standard:</p>
<ul>
<li><a href="#new-compilation-target">New compilation target</a></li>
<li><a href="#suspend-functions-as-es2015-generators">Suspend functions as ES2015 generators</a></li>
<li><a href="#passing-arguments-to-the-main-function">Passing arguments to the main function</a></li>
<li><a href="#per-file-compilation-for-kotlinjs-projects">Per-file compilation for Kotlin/JS projects</a></li>
<li><a href="#improved-collection-interoperability">Improved collection interoperability</a></li>
<li><a href="#support-for-createinstance">Support for createInstance()</a></li>
<li><a href="#support-for-type-safe-plain-javascript-objects">Support for type-safe plain JavaScript objects</a></li>
<li><a href="#support-for-npm-package-manager">Support for npm package manager</a></li>
<li><a href="#changes-to-compilation-tasks">Changes to compilation tasks</a></li>
<li><a href="#discontinuing-legacy-kotlinjs-jar-artifacts">Discontinuing legacy Kotlin/JS JAR artifacts</a></li>
</ul>
<h3 id="new-compilation-target">New compilation target</h3>
<p>In Kotlin 2.0.0, we're adding a new compilation target to Kotlin/JS, <code>es2015</code>. This is a new way for you to enable all
the ES2015 features supported in Kotlin at once.</p>
<p>You can set it up in your <code>build.gradle(.kts)</code> file like this:</p>
<pre><code class="lang-kotlin">kotlin {
    js {
        compilerOptions {
            target.<span class="hljs-keyword">set</span>(<span class="hljs-string">"es2015"</span>)
        }
    }
}
</code></pre>
<p>The new target automatically turns on <a href="whatsnew19.html#对-es2015-类与模块的实验性支持">ES classes and modules</a>
and the newly supported <a href="#suspend-functions-as-es2015-generators">ES generators</a>.</p>
<h3 id="suspend-functions-as-es2015-generators">Suspend functions as ES2015 generators</h3>
<p>This release introduces <a href="components-stability.html#stability-levels-explained">Experimental</a> support for ES2015 generators
for compiling <a href="composing-suspending-functions.html">suspend functions</a>.</p>
<p>Using generators instead of state machines should improve the final bundle size of your project. For example, the
JetBrains team managed to decrease the bundle size of its Space project by 20% by using the ES2015 generators.</p>
<p><a href="https://262.ecma-international.org/6.0/" target="_blank">Learn more about ES2015 (ECMAScript 2015, ES6) in the official documentation</a>.</p>
<h3 id="passing-arguments-to-the-main-function">Passing arguments to the main function</h3>
<p>Starting with Kotlin 2.0.0, you can specify a source of your <code>args</code> for the <code>main()</code> function. This feature makes it
easier to work with the command line and pass the arguments.</p>
<p>To do this, define the <code>js {}</code> block with the new <code>passAsArgumentToMainFunction()</code> function, which returns an array of
strings:</p>
<pre><code class="lang-kotlin">kotlin {
    js {
        binary.executable()
        passAsArgumentToMainFunction(<span class="hljs-string">"Deno.args"</span>)
    }
}
</code></pre>
<p>The function is executed at runtime. It takes the JavaScript expression and uses it as the <code>args: Array&lt;String&gt;</code>
argument instead of the <code>main()</code> function call.</p>
<p>Also, if you use the Node.js runtime, you can take advantage of a special alias. It allows you to pass <code>process.argv</code> to
the <code>args</code> parameter once instead of adding it manually every time:</p>
<pre><code class="lang-kotlin">kotlin {
    js {
        binary.executable()
        nodejs {
            passProcessArgvToMainFunction()
        }
    }
}
</code></pre>
<h3 id="per-file-compilation-for-kotlinjs-projects">Per-file compilation for Kotlin/JS projects</h3>
<p>Kotlin 2.0.0 introduces a new granularity option for the Kotlin/JS project output. You can now set up a per-file
compilation that generates one JavaScript file for each Kotlin file. It helps to significantly optimize the size of the
final bundle and improve the loading time of the program.</p>
<p>Previously, there were only two output options. The Kotlin/JS compiler could generate a single <code>.js</code> file for the whole
project. However, this file might be too large and inconvenient to use. Whenever you wanted to use a function from your
project, you had to include the entire JavaScript file as a dependency. Alternatively, you could configure a compilation
of a separate <code>.js</code> file for each project module. This is still the default option.</p>
<p>Since module files could also be too large, with Kotlin 2.0.0, we add a more granular output that generates one (or two,
if the file contains exported declarations) JavaScript file per each Kotlin file. To enable the per-file compilation mode:</p>
<ol>
<li><p>Add the <a href="whatsnew19.html#对-es2015-类与模块的实验性支持"><code>useEsModules()</code></a> function to your build
file to support ECMAScript modules:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// build.gradle.kts</span>
kotlin {
    js(IR) {
        useEsModules() <span class="hljs-comment">// Enables ES2015 modules</span>
        browser()
    }
}
</code></pre>
<p>You can also use the new <code>es2015</code> <a href="#new-compilation-target">compilation target</a> for that.</p>
</li>
<li><p>Apply the <code>-Xir-per-file</code> compiler option or update your <code>gradle.properties</code> file with:</p>
<pre><code># gradle.properties
kotlin.js.ir.output.granularity=per-file // `per-module` is the default
</code></pre></li>
</ol>
<h3 id="improved-collection-interoperability">Improved collection interoperability</h3>
<p>Starting with Kotlin 2.0.0, it's possible to export declarations with a Kotlin collection type inside the signature to
JavaScript (and TypeScript). This applies to <code>Set</code>, <code>Map</code>, and <code>List</code> collection types and their mutable counterparts.</p>
<p>To use Kotlin collections in JavaScript, first mark the necessary declarations
with <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/-js-export/" target="_blank"><code>@JsExport</code></a> annotation:</p>
<pre><code class="lang-kotlin"><span class="hljs-comment">// Kotlin</span>
<span class="hljs-meta">@JsExport</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> friends: List&lt;User&gt; = emptyList()
)

<span class="hljs-meta">@JsExport</span>
<span class="hljs-keyword">val</span> me = User(
    name = <span class="hljs-string">"Me"</span>,
    friends = listOf(User(name = <span class="hljs-string">"Kodee"</span>))
)
</code></pre>
<p>You can then consume them from JavaScript as regular JavaScript arrays:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// JavaScript</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">User</span>, me, <span class="hljs-title class_">KtList</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"my-module"</span>

<span class="hljs-keyword">const</span> allMyFriendNames = me.<span class="hljs-property">friends</span>
    .<span class="hljs-title function_">asJsReadonlyArrayView</span>()
    .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x.<span class="hljs-property">name</span>) <span class="hljs-comment">// ['Kodee']</span>
</code></pre>
<blockquote>
<p>Unfortunately, creating Kotlin collections from JavaScript is still unavailable. We're planning to add this
functionality in Kotlin 2.0.20.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<h3 id="support-for-createinstance">Support for createInstance()</h3>
<p>Starting with Kotlin 2.0.0, you can use the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/create-instance.html" target="_blank"><code>createInstance()</code></a>
function from the Kotlin/JS target. Previously, it was only available on the JVM.</p>
<p>This function from the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/" target="_blank">KClass</a> interface creates
a new instance of the specified class, which is useful for getting the runtime reference to a Kotlin class.</p>
<h3 id="support-for-type-safe-plain-javascript-objects">Support for type-safe plain JavaScript objects</h3>
<blockquote>
<p>The <code>js-plain-objects</code> plugin is <a href="components-stability.html#stability-levels-explained">Experimental</a>.
It may be dropped or changed at any time. The <code>js-plain-objects</code> plugin <strong>only</strong> supports the K2 compiler.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>To make it easier to work with JavaScript APIs, in Kotlin 2.0.0, we provide a new plugin: <a href="https://github.com/JetBrains/kotlin/tree/master/plugins/js-plain-objects" target="_blank"><code>js-plain-objects</code></a>,
which you can use to create type-safe plain JavaScript objects. The plugin checks your code for any <a href="wasm-js-interop.html#external-interfaces">external interfaces</a>
that have a <code>@JsPlainObject</code> annotation and adds:</p>
<ul>
<li>An inline <code>invoke</code> operator function inside the companion object that you can use as a constructor.</li>
<li>A <code>.copy()</code> function that you can use to create a copy of your object while adjusting some of its properties.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> kotlinx.js.JsPlainObject

<span class="hljs-meta">@JsPlainObject</span>
<span class="hljs-keyword">external</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-keyword">var</span> name: String
    <span class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">val</span> email: String?
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// Creates a JavaScript object</span>
    <span class="hljs-keyword">val</span> user = User(name = <span class="hljs-string">"Name"</span>, age = <span class="hljs-number">10</span>)
    <span class="hljs-comment">// Copies the object and adds an email</span>
    <span class="hljs-keyword">val</span> copy = user.copy(age = <span class="hljs-number">11</span>, email = <span class="hljs-string">"some@user.com"</span>)

    println(JSON.stringify(user))
    <span class="hljs-comment">// { "name": "Name", "age": 10 }</span>
    println(JSON.stringify(copy))
    <span class="hljs-comment">// { "name": "Name", "age": 11, "email": "some@user.com" }</span>
}
</code></pre>
<p>Any JavaScript objects created with this approach are safer because instead of only seeing errors at runtime,
you can see them at compile time or even highlighted by your IDE.</p>
<p>Consider this example, which uses a <code>fetch()</code> function to interact with a JavaScript API using external interfaces
to describe the shape of the JavaScript objects:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">import</span> kotlinx.js.JsPlainObject

<span class="hljs-meta">@JsPlainObject</span>
<span class="hljs-keyword">external</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">FetchOptions</span> {
    <span class="hljs-keyword">val</span> body: String?
    <span class="hljs-keyword">val</span> method: String
}

<span class="hljs-comment">// A wrapper for Window.fetch</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetch</span><span class="hljs-params">(url: <span class="hljs-type">String</span>, options: <span class="hljs-type">FetchOptions</span>? = <span class="hljs-literal">null</span>)</span></span> = TODO(<span class="hljs-string">"Add your custom behavior here"</span>)

<span class="hljs-comment">// A compile-time error is triggered as "metod" is not recognized</span>
<span class="hljs-comment">// as method</span>
fetch(<span class="hljs-string">"https://google.com"</span>, options = FetchOptions(metod = <span class="hljs-string">"POST"</span>))
<span class="hljs-comment">// A compile-time error is triggered as method is required</span>
fetch(<span class="hljs-string">"https://google.com"</span>, options = FetchOptions(body = <span class="hljs-string">"SOME STRING"</span>))
</code></pre>
<p>In comparison, if you use the <code>js()</code> function instead to create your JavaScript objects,
errors are only found at runtime or aren't triggered at all:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetch</span><span class="hljs-params">(url: <span class="hljs-type">String</span>, options: <span class="hljs-type">FetchOptions</span>? = <span class="hljs-literal">null</span>)</span></span> = TODO(<span class="hljs-string">"Add your custom behavior here"</span>)

<span class="hljs-comment">// No error is triggered. As "metod" is not recognized, the wrong method </span>
<span class="hljs-comment">// (GET) is used.</span>
fetch(<span class="hljs-string">"https://google.com"</span>, options = js(<span class="hljs-string">"{ metod: 'POST' }"</span>))

<span class="hljs-comment">// By default, the GET method is used. A runtime error is triggered as </span>
<span class="hljs-comment">// body shouldn't be present.</span>
fetch(<span class="hljs-string">"https://google.com"</span>, options = js(<span class="hljs-string">"{ body: 'SOME STRING' }"</span>))
<span class="hljs-comment">// TypeError: Window.fetch: HEAD or GET Request cannot have a body</span>
</code></pre>
<p>To use the <code>js-plain-objects</code> plugin, add the following to your <code>build.gradle(.kts)</code> file:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">plugins {
    kotlin(<span class="hljs-string">"plugin.js-plain-objects"</span>) version <span class="hljs-string">"2.0.0"</span>
}
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">plugins {
    id <span class="hljs-string">"org.jetbrains.kotlin.plugin.js-plain-objects"</span> version <span class="hljs-string">"2.0.0"</span>
}
</code></pre>
<hr></hr>
<h3 id="support-for-npm-package-manager">Support for npm package manager</h3>
<p>Previously, it was only possible for the Kotlin Multiplatform Gradle plugin to use <a href="https://yarnpkg.com/lang/en/" target="_blank">Yarn</a>
as a package manager to download and install npm dependencies. From Kotlin 2.0.0, you can use <a href="https://www.npmjs.com/" target="_blank">npm</a>
as your package manager instead. Using npm as a package manager means that you have one less tool to manage during your
setup.</p>
<p>For backward compatibility, Yarn is still the default package manager. To use npm as your package manager,
set the following property in your <code>gradle.properties</code> file:</p>
<pre><code class="lang-kotlin">kotlin.js.yarn = <span class="hljs-literal">false</span>
</code></pre>
<h3 id="changes-to-compilation-tasks">Changes to compilation tasks</h3>
<p>Previously, the <code>webpack</code> and <code>distributeResources</code> compilation tasks both targeted the same directories. Moreover,
the <code>distribution</code> task declared the <code>dist</code> as its output directory as well. This resulted in overlapping outputs and
produced a compilation warning.</p>
<p>So, starting with Kotlin 2.0.0, we've implemented the following changes:</p>
<ul>
<li>The <code>webpack</code> task now targets a separate folder.</li>
<li>The <code>distributeResources</code> task has been completely removed.</li>
<li>The <code>distribution</code> task now has the <code>Copy</code> type and targets the <code>dist</code> folder.</li>
</ul>
<h3 id="discontinuing-legacy-kotlinjs-jar-artifacts">Discontinuing legacy Kotlin/JS JAR artifacts</h3>
<p>Starting with Kotlin 2.0.0, the Kotlin distribution no longer contains legacy Kotlin/JS artifacts with the <code>.jar</code>
extension. Legacy artifacts were used in the unsupported old Kotlin/JS compiler and unnecessary for the IR compiler, which
uses the <code>klib</code> format.</p>
<h2 id="gradle-improvements">Gradle improvements</h2>
<p>Kotlin 2.0.0 is fully compatible with Gradle 6.8.3 through 8.5. You can also use Gradle versions up to the latest Gradle
release, but if you do, keep in mind that you might encounter deprecation warnings or some new Gradle features might not
work.</p>
<p>This version brings the following changes:</p>
<ul>
<li><a href="#new-gradle-dsl-for-compiler-options-in-multiplatform-projects">New Gradle DSL for compiler options in multiplatform projects</a></li>
<li><a href="#new-compose-compiler-gradle-plugin">New Compose compiler Gradle plugin</a></li>
<li><a href="#new-attribute-to-distinguish-jvm-and-android-published-libraries">New attribute to distinguish JVM and Android published libraries</a></li>
<li><a href="#improved-gradle-dependency-handling-for-cinteropprocess-in-kotlinnative">Improved Gradle dependency handling for CInteropProcess in Kotlin/Native</a></li>
<li><a href="#visibility-changes-in-gradle">Visibility changes in Gradle</a></li>
<li><a href="#new-directory-for-kotlin-data-in-gradle-projects">New directory for Kotlin data in Gradle projects</a></li>
<li><a href="#kotlinnative-compiler-downloaded-when-needed">Kotlin/Native compiler downloaded when needed</a></li>
<li><a href="#deprecated-old-ways-of-defining-compiler-options">Deprecating old ways of defining compiler options</a></li>
<li><a href="#bumped-minimum-supported-agp-version">Bumped minimum AGP supported version</a></li>
<li><a href="#new-gradle-property-for-trying-the-latest-language-version">New Gradle property for trying the latest language version</a></li>
<li><a href="#new-json-output-format-for-build-reports">New JSON output format for build reports</a></li>
<li><a href="#kapt-configurations-inherit-annotation-processors-from-superconfigurations">kapt configurations inherit annotation processors from superconfigurations</a></li>
<li><a href="#kotlin-gradle-plugin-no-longer-uses-deprecated-gradle-conventions">Kotlin Gradle plugin no longer uses deprecated Gradle conventions</a></li>
</ul>
<h3 id="new-gradle-dsl-for-compiler-options-in-multiplatform-projects">New Gradle DSL for compiler options in multiplatform projects</h3>
<blockquote>
<p>This feature is <a href="components-stability.html#stability-levels-explained">Experimental</a>. It may be dropped or changed at
any time. Use it only for evaluation purposes. We would appreciate your feedback on it in <a href="https://kotl.in/issue" target="_blank">YouTrack</a>.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>Prior to Kotlin 2.0.0, configuring compiler options in a multiplatform project with Gradle was only possible at a low
level, such as per task, compilation, or source set. To make it easier to configure compiler options more generally in
your projects, Kotlin 2.0.0 comes with a new Gradle DSL.</p>
<p>With this new DSL, you can configure compiler options at the extension level for all the targets and shared source sets
like <code>commonMain</code> and at a target level for a specific target:</p>
<pre><code class="lang-kotlin">kotlin {
    compilerOptions {
        <span class="hljs-comment">// Extension-level common compiler options that are used as defaults</span>
        <span class="hljs-comment">// for all targets and shared source sets</span>
        allWarningsAsErrors.<span class="hljs-keyword">set</span>(<span class="hljs-literal">true</span>)
    }
    jvm {
        compilerOptions {
            <span class="hljs-comment">// Target-level JVM compiler options that are used as defaults</span>
            <span class="hljs-comment">// for all compilations in this target</span>
            noJdk.<span class="hljs-keyword">set</span>(<span class="hljs-literal">true</span>)
        }
    }
}
</code></pre>
<p>The overall project configuration now has three layers. The highest is the extension level, then the target level and
the lowest is the compilation unit (which is usually a compilation task):</p>
<p><img src="../images/compiler-options-levels.svg" alt="Kotlin compiler options levels"></img></p>
<p>The settings at a higher level are used as a convention (default) for a lower level:</p>
<ul>
<li>The values of extension compiler options are the default for target compiler options, including shared source sets,
like <code>commonMain</code>, <code>nativeMain</code>, and <code>commonTest</code>.</li>
<li>The values of target compiler options are used as the default for compilation unit (task) compiler options, for
example, <code>compileKotlinJvm</code> and <code>compileTestKotlinJvm</code> tasks.</li>
</ul>
<p>In turn, configurations made at a lower level override related settings at a higher level:</p>
<ul>
<li>Task-level compiler options override related configurations at the target or the extension level.</li>
<li>Target-level compiler options override related configurations at the extension level.</li>
</ul>
<p>When configuring your project, keep in mind that some old ways of setting up compiler options have been <a href="#deprecated-old-ways-of-defining-compiler-options">deprecated</a>.</p>
<p>We encourage you to try the new DSL out in your multiplatform projects and leave feedback in <a href="https://kotl.in/issue" target="_blank">YouTrack</a>,
as we plan to make this DSL the recommended approach for configuring compiler options.</p>
<h3 id="new-compose-compiler-gradle-plugin">New Compose compiler Gradle plugin</h3>
<p>The Jetpack Compose compiler, which translates composables into Kotlin code, has now been merged into the Kotlin
repository. This will help transition Compose projects to Kotlin 2.0.0, as the Compose compiler will always ship
simultaneously with Kotlin. This also bumps the Compose compiler version to 2.0.0.</p>
<p>To use the new Compose compiler in your projects, apply the <code>org.jetbrains.kotlin.plugin.compose</code> Gradle plugin in
your <code>build.gradle(.kts)</code> file and set its version equal to Kotlin 2.0.0.</p>
<p>To learn more about this change and see the migration instructions, see the <a href="https://www.jetbrains.com/help/kotlin-multiplatform-dev/compose-compiler.html" target="_blank">Compose compiler</a> documentation.</p>
<h3 id="new-attribute-to-distinguish-jvm-and-android-published-libraries">New attribute to distinguish JVM and Android-published libraries</h3>
<p>Starting with Kotlin 2.0.0, the <a href="https://docs.gradle.org/current/userguide/variant_attributes.html#sub:jvm_default_attributes" target="_blank"><code>org.gradle.jvm.environment</code></a>
Gradle attribute is published by default with all Kotlin variants.</p>
<p>The attribute helps distinguish JVM and Android variants of Kotlin Multiplatform libraries. It indicates that a certain
library variant is better suited for a certain JVM environment. The target environment could be "android", "standard-jvm",
or "no-jvm".</p>
<p>Publishing this attribute should make consuming Kotlin Multiplatform libraries with JVM and Android targets more robust
from non-multiplatform clients as well, such as Java-only projects.</p>
<p>If necessary, you can disable attribute publication. To do that, add the following Gradle option to
your <code>gradle.properties</code> file:</p>
<pre><code>kotlin.publishJvmEnvironmentAttribute=false
</code></pre><h3 id="improved-gradle-dependency-handling-for-cinteropprocess-in-kotlinnative">Improved Gradle dependency handling for CInteropProcess in Kotlin/Native</h3>
<p>In this release, we enhanced the handling of the <code>defFile</code> property to ensure better Gradle task dependency management
in Kotlin/Native projects.</p>
<p>Before this update, Gradle builds could fail if the <code>defFile</code> property was designated as an output
of another task that hadn't been executed yet. The workaround for this issue was to add a dependency on this task:</p>
<pre><code class="lang-kotlin">kotlin {
    macosArm64(<span class="hljs-string">"native"</span>) {
        compilations.getByName(<span class="hljs-string">"main"</span>) {
            cinterops {
                <span class="hljs-keyword">val</span> cinterop <span class="hljs-keyword">by</span> creating {
                    defFileProperty.<span class="hljs-keyword">set</span>(createDefFileTask.flatMap { it.defFile.asFile })
                    project.tasks.named(interopProcessingTaskName).configure {
                        dependsOn(createDefFileTask)
                    }
                }
            }
        }
    }
}
</code></pre>
<p>To fix this, there is a new <code>RegularFileProperty</code> property called <code>definitionFile</code>. Now, Gradle lazily verifies the
presence of the <code>definitionFile</code> property after the connected task has run later in the build process. This new approach
eliminates the need for additional dependencies.</p>
<p>The <code>CInteropProcess</code> task and the <code>CInteropSettings</code> class use the <code>definitionFile</code> property instead of <code>defFile</code> and
<code>defFileProperty</code>:</p>
<hr></hr>
<blockquote>
<p><strong>【Kotlin】</strong></p>
</blockquote>
<pre><code class="lang-kotlin">kotlin {
    macosArm64(<span class="hljs-string">"native"</span>) {
        compilations.getByName(<span class="hljs-string">"main"</span>) {
            cinterops {
                <span class="hljs-keyword">val</span> cinterop <span class="hljs-keyword">by</span> creating {
                    definitionFile.<span class="hljs-keyword">set</span>(project.file(<span class="hljs-string">"def-file.def"</span>))
                }
            }
        }
    }
}
</code></pre>
<hr></hr>
<blockquote>
<p><strong>【Groovy】</strong></p>
</blockquote>
<pre><code class="lang-groovy">kotlin {
    macosArm64(<span class="hljs-string">"native"</span>) {
        compilations.main {
            cinterops {
                cinterop {
                    definitionFile.set(project.file(<span class="hljs-string">"def-file.def"</span>))
                }
            }
        }
    }
}
</code></pre>
<hr></hr>
<blockquote>
<p><code>defFile</code> and <code>defFileProperty</code> parameters are deprecated.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<h3 id="visibility-changes-in-gradle">Visibility changes in Gradle</h3>
<blockquote>
<p>This change impacts only Kotlin DSL users.</p>
<svg width="24" height="24" fill="#4dbb5f" viewbox="0 0 24 24"><path d="M21 12a9 9 0 1 1-9-9 9 9 0 0 1 9 9zM10.5 7.5A1.5 1.5 0 1 0 12 6a1.5 1.5 0 0 0-1.5 1.5zm-.5 3.54v1h1V18h2v-6a.96.96 0 0 0-.96-.96z"></path></svg>

</blockquote>
<p>In Kotlin 2.0.0, we've modified the Kotlin Gradle Plugin for better control and safety in your build scripts. Previously,
certain Kotlin DSL functions and properties intended for a specific DSL context would inadvertently leak into other DSL
contexts. This leakage could lead to the use of incorrect compiler options, settings being applied multiple times,
and other misconfigurations:</p>
<pre><code class="lang-kotlin">kotlin {
    <span class="hljs-comment">// Target DSL couldn't access methods and properties defined in the</span>
    <span class="hljs-comment">// kotlin{} extension DSL</span>
    jvm {
        <span class="hljs-comment">// Compilation DSL couldn't access methods and properties defined</span>
        <span class="hljs-comment">// in the kotlin{} extension DSL and Kotlin jvm{} target DSL</span>
        compilations.configureEach {
            <span class="hljs-comment">// Compilation task DSLs couldn't access methods and</span>
            <span class="hljs-comment">// properties defined in the kotlin{} extension, Kotlin jvm{}</span>
            <span class="hljs-comment">// target or Kotlin compilation DSL</span>
            compileTaskProvider.configure {
                <span class="hljs-comment">// For example:</span>
                explicitApi()
                <span class="hljs-comment">// ERROR as it is defined in the kotlin{} extension DSL</span>
                mavenPublication {}
                <span class="hljs-comment">// ERROR as it is defined in the Kotlin jvm{} target DSL</span>
                defaultSourceSet {}
                <span class="hljs-comment">// ERROR as it is defined in the Kotlin compilation DSL</span>
            }
        }
    }
}
</code></pre>
<p>To fix this issue, we've added the <code>@KotlinGradlePluginDsl</code> annotation, preventing the exposure of the Kotlin Gradle
plugin DSL functions and properties to levels where they are not intended to be available. The following levels are
separated from each other:</p>
<ul>
<li>Kotlin extension</li>
<li>Kotlin target</li>
<li>Kotlin compilation</li>
<li>Kotlin compilation task</li>
</ul>
<p>For the most popular cases, we've added compiler warnings with suggestions on how to fix them if your build script is
configured incorrectly. For example:</p>
<pre><code class="lang-kotlin">kotlin {
    jvm {
        sourceSets.getByName(<span class="hljs-string">"jvmMain"</span>).dependencies {
            implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-coroutines-core-jvm:1.7.3"</span>)
        }
    }
}
</code></pre>
<p>In this case, the warning message for <code>sourceSets</code> is:</p>
<pre><code>[DEPRECATION] 'sourceSets: NamedDomainObjectContainer&lt;KotlinSourceSet&gt;' is deprecated.Accessing 'sourceSets' container on the Kotlin target level DSL is deprecated. Consider configuring 'sourceSets' on the Kotlin extension level.
</code></pre><p>We would appreciate your feedback on this change! Share your comments directly to Kotlin developers in
our <a href="https://kotlinlang.slack.com/archives/C19FD9681" target="_blank">#gradle Slack channel</a>. <a href="https://surveys.jetbrains.com/s3/kotlin-slack-sign-up" target="_blank">Get a Slack invite</a>.</p>
<h3 id="new-directory-for-kotlin-data-in-gradle-projects">New directory for Kotlin data in Gradle projects</h3>
<blockquote>
<p>Do not commit the <code>.kotlin</code> directory to version control.
For example, if you are using Git, add <code>.kotlin</code> to your project's <code>.gitignore</code> file.</p>
<svg width="24" height="24" fill="#f45b4a" viewbox="0 0 24 24"><path d="M12.946 3.552L21.52 18.4c.424.735.33 1.6-.519 1.6H3.855c-.85 0-1.817-.865-1.392-1.6l8.573-14.848a1.103 1.103 0 0 1 1.91 0zm.545 12.948a1.5 1.5 0 1 0-1.5 1.5 1.5 1.5 0 0 0 1.5-1.5zM13 8h-2v5h2z"></path></svg>

</blockquote>
<p>In Kotlin 1.8.20, the Kotlin Gradle plugin switched to storing its data in the Gradle project cache
directory: <code>&lt;project-root-directory&gt;/.gradle/kotlin</code>. However, the <code>.gradle</code> directory is reserved for Gradle only,
and as a result it's not future-proof.</p>
<p>To solve this, as of Kotlin 2.0.0, we will store Kotlin data in your <code>&lt;project-root-directory&gt;/.kotlin</code> by default.
We will continue to store some data in the <code>.gradle/kotlin</code> directory for backward compatibility.</p>
<p>The new Gradle properties you can configure are:</p>
<table>
<thead>
<tr>
<th>Gradle property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kotlin.project.persistent.dir</code></td>
<td>Configures the location where your project-level data is stored. Default: <code>&lt;project-root-directory&gt;/.kotlin</code></td>
</tr>
<tr>
<td><code>kotlin.project.persistent.dir.gradle.disableWrite</code></td>
<td>A boolean value that controls whether writing Kotlin data to the <code>.gradle</code> directory is disabled. Default: <code>false</code></td>
</tr>
</tbody>
</table>
<p>Add these properties to the <code>gradle.properties</code> file in your projects for them to take effect.</p>
<h3 id="kotlinnative-compiler-downloaded-when-needed">Kotlin/Native compiler downloaded when needed</h3>
<p>Before Kotlin 2.0.0, if you had a <a href="native-target-support.html">Kotlin/Native target</a> configured in the Gradle build script of your multiplatform
project, Gradle would always download the Kotlin/Native compiler in the <a href="https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:configuration" target="_blank">configuration phase</a>.</p>
<p>This happened even if there was no task to compile code for a Kotlin/Native target that was due to run in the <a href="https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:execution" target="_blank">execution phase</a>.
Downloading the Kotlin/Native compiler in this way was particularly inefficient for users who only wanted to check the
JVM or JavaScript code in their projects. For example, to perform tests or checks with their Kotlin project as part of a
CI process.</p>
<p>In Kotlin 2.0.0, we changed this behavior in the Kotlin Gradle plugin so that the Kotlin/Native
compiler is downloaded in the <a href="https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:execution" target="_blank">execution phase</a>
and <strong>only</strong> when a compilation is requested for a Kotlin/Native target.</p>
<p>In turn, the Kotlin/Native compiler's dependencies are now downloaded not as a part of the compiler, but in the
execution phase as well.</p>
<p>If you encounter any issues with the new behavior, you can temporarily switch back to the previous behavior by adding
the following Gradle property to your <code>gradle.properties</code> file:</p>
<pre><code>kotlin.native.toolchain.enabled=false
</code></pre><p>Starting with Kotlin 1.9.20-Beta, the Kotlin/Native distribution is published to <a href="https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-native-prebuilt/" target="_blank">Maven Central</a>
along with the CDN.</p>
<p>This allowed us to change how Kotlin looks for and downloads the necessary artifacts. Instead of the CDN, by default,
it now uses the Maven repositories that you specified in the <code>repositories {}</code> block of your project.</p>
<p>You can temporarily switch this behavior back by setting the following Gradle property in your <code>gradle.properties</code> file:</p>
<pre><code>kotlin.native.distribution.downloadFromMaven=false
</code></pre><p>Please report any problems to our issue tracker <a href="https://kotl.in/issue" target="_blank">YouTrack</a>. Both of these Gradle properties that
change the default behavior are temporary and will be removed in future releases.</p>
<h3 id="deprecated-old-ways-of-defining-compiler-options">Deprecated old ways of defining compiler options</h3>
<p>In this release, we continue to refine how you can set up compiler options. It should resolve ambiguity between
different ways and make the project configuration more straightforward.</p>
<p>Since Kotlin 2.0.0, the following DSLs for specifying compiler options are deprecated:</p>
<ul>
<li>The <code>kotlinOptions</code> DSL from the <code>KotlinCompile</code> interface that implements all Kotlin compilation tasks. Use
<code>KotlinCompilationTask&lt;CompilerOptions&gt;</code> instead.</li>
<li><p>The <code>compilerOptions</code> property with the <code>HasCompilerOptions</code> type from the <code>KotlinCompilation</code> interface. This DSL was
inconsistent with other DSLs and configured the same <code>KotlinCommonCompilerOptions</code> object as <code>compilerOptions</code> inside
the <code>KotlinCompilation.compileTaskProvider</code> compilation task, which was confusing.</p>
<p>Instead, we recommend using the <code>compilerOptions</code> property from the
Kotlin compilation task:</p>
<pre><code class="lang-kotlin">kotlinCompilation.compileTaskProvider.configure {
    compilerOptions { ... }
}
</code></pre>
<p>For example:</p>
<pre><code class="lang-kotlin">kotlin {
    js(IR) {
        compilations.all {
            compileTaskProvider.configure {
                compilerOptions.freeCompilerArgs.add(<span class="hljs-string">"-Xir-minimized-member-names=false"</span>)
            }
        }
    }
}
</code></pre>
</li>
<li><p>The <code>kotlinOptions</code> DSL from the <code>KotlinCompilation</code> interface.</p>
</li>
<li>The <code>kotlinOptions</code> DSL from the <code>KotlinNativeArtifactConfig</code> interface, the <code>KotlinNativeLink</code> class,
and the <code>KotlinNativeLinkArtifactTask</code> class. Use the <code>toolOptions</code> DSL instead.</li>
<li>The <code>dceOptions</code> DSL from the <code>KotlinJsDce</code> interface. Use the <code>toolOptions</code> DSL instead.</li>
</ul>
<p>For more information on how to specify compiler options in the Kotlin Gradle plugin, see <a href="gradle-compiler-options.html#配置选项">How to define options</a>.</p>
<h3 id="bumped-minimum-supported-agp-version">Bumped minimum supported AGP version</h3>
<p>Starting with Kotlin 2.0.0, the minimum supported Android Gradle plugin version is 7.1.3.</p>
<h3 id="new-gradle-property-for-trying-the-latest-language-version">New Gradle property for trying the latest language version</h3>
<p>Prior to Kotlin 2.0.0, we had the following Gradle property to try out the new K2 compiler: <code>kotlin.experimental.tryK2</code>.
Now that the K2 compiler is enabled by default in Kotlin 2.0.0, we decided to evolve this property into a new form that
you can use to try the latest language version in your projects: <code>kotlin.experimental.tryNext</code>. When you use this
property in your <code>gradle.properties</code> file, the Kotlin Gradle plugin increments the language version to one above the
default value for your Kotlin version. For example, in Kotlin 2.0.0, the default language version is 2.0, so the
property configures language version 2.1.</p>
<p>This new Gradle property produces similar metrics in <a href="gradle-compilation-and-caches.html#build-reports">build reports</a> as
before with <code>kotlin.experimental.tryK2</code>. The language version configured is included in the output. For example:</p>
<pre><code>##### 'kotlin.experimental.tryNext' results #####
:app:compileKotlin: 2.1 language version
:lib:compileKotlin: 2.1 language version
##### 100% (2/2) tasks have been compiled with Kotlin 2.1 #####
</code></pre><p>To learn more about how to enable build reports and their content, see <a href="gradle-compilation-and-caches.html#build-reports">Build reports</a>.</p>
<h3 id="new-json-output-format-for-build-reports">New JSON output format for build reports</h3>
<p>In Kotlin 1.7.0, we introduced build reports to help track compiler performance. Over time, we've added more metrics to
make these reports even more detailed and helpful when investigating performance issues. Previously, the only output
format for a local file was the <code>*.txt</code> format. In Kotlin 2.0.0, we support the JSON output format to make it even
easier to analyze using other tools.</p>
<p>To configure JSON output format for your build reports, declare the following properties in your <code>gradle.properties</code> file:</p>
<pre><code>kotlin.build.report.output=json

// The directory to store your build reports
kotlin.build.report.json.directory=my/directory/path
</code></pre><p>Alternatively, you can run the following command:</p>
<pre><code class="lang-shell">./gradlew assemble -Pkotlin.build.report.output=json -Pkotlin.build.report.json.directory="my/directory/path"
</code></pre>
<p>Once configured, Gradle generates your build reports in the directory that you specify with the name:
<code>${project_name}-date-time-&lt;sequence_number&gt;.json</code>.</p>
<p>Here's an example snippet from a build report with JSON output format that contains build metrics and aggregated
metrics:</p>
<pre><code class="lang-json"><span class="hljs-string">"buildOperationRecord"</span>: [
    {
     <span class="hljs-string">"path"</span>: <span class="hljs-string">":lib:compileKotlin"</span>,
      <span class="hljs-string">"classFqName"</span>: <span class="hljs-string">"org.jetbrains.kotlin.gradle.tasks.KotlinCompile_Decorated"</span>,
      <span class="hljs-string">"startTimeMs"</span>: <span class="hljs-number">1714730820601</span>,
      <span class="hljs-string">"totalTimeMs"</span>: <span class="hljs-number">2724</span>,
      <span class="hljs-string">"buildMetrics"</span>: {
        <span class="hljs-string">"buildTimes"</span>: {
          <span class="hljs-string">"buildTimesNs"</span>: {
            <span class="hljs-string">"CLEAR_OUTPUT"</span>: <span class="hljs-number">713417</span>,
            <span class="hljs-string">"SHRINK_AND_SAVE_CURRENT_CLASSPATH_SNAPSHOT_AFTER_COMPILATION"</span>: <span class="hljs-number">19699333</span>,
            <span class="hljs-string">"IR_TRANSLATION"</span>: <span class="hljs-number">281000000</span>,
            <span class="hljs-string">"NON_INCREMENTAL_LOAD_CURRENT_CLASSPATH_SNAPSHOT"</span>: <span class="hljs-number">14088042</span>,
            <span class="hljs-string">"CALCULATE_OUTPUT_SIZE"</span>: <span class="hljs-number">1301500</span>,
            <span class="hljs-string">"GRADLE_TASK"</span>: <span class="hljs-number">2724000000</span>,
            <span class="hljs-string">"COMPILER_INITIALIZATION"</span>: <span class="hljs-number">263000000</span>,
            <span class="hljs-string">"IR_GENERATION"</span>: <span class="hljs-number">74000000</span>,
...
          }
        }
...
 <span class="hljs-string">"aggregatedMetrics"</span>: {
    <span class="hljs-string">"buildTimes"</span>: {
      <span class="hljs-string">"buildTimesNs"</span>: {
        <span class="hljs-string">"CLEAR_OUTPUT"</span>: <span class="hljs-number">782667</span>,
        <span class="hljs-string">"SHRINK_AND_SAVE_CURRENT_CLASSPATH_SNAPSHOT_AFTER_COMPILATION"</span>: <span class="hljs-number">22031833</span>,
        <span class="hljs-string">"IR_TRANSLATION"</span>: <span class="hljs-number">333000000</span>,
        <span class="hljs-string">"NON_INCREMENTAL_LOAD_CURRENT_CLASSPATH_SNAPSHOT"</span>: <span class="hljs-number">14890292</span>,
        <span class="hljs-string">"CALCULATE_OUTPUT_SIZE"</span>: <span class="hljs-number">2370750</span>,
        <span class="hljs-string">"GRADLE_TASK"</span>: <span class="hljs-number">3234000000</span>,
        <span class="hljs-string">"COMPILER_INITIALIZATION"</span>: <span class="hljs-number">292000000</span>,
        <span class="hljs-string">"IR_GENERATION"</span>: <span class="hljs-number">89000000</span>,
...
      }
    }
</code></pre>
<h3 id="kapt-configurations-inherit-annotation-processors-from-superconfigurations">kapt configurations inherit annotation processors from superconfigurations</h3>
<p>Prior to Kotlin 2.0.0, if you wanted to define a common set of annotation processors in a separate Gradle configuration
and extend this configuration in kapt-specific configurations for your subprojects, kapt would skip annotation
processing because it couldn't find any annotation processors. In Kotlin 2.0.0, kapt can successfully detect that there
are indirect dependencies on your annotation processors.</p>
<p>As an example, for a subproject using <a href="https://dagger.dev/" target="_blank">Dagger</a>, in your <code>build.gradle(.kts)</code> file, use the
following configuration:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">val</span> commonAnnotationProcessors <span class="hljs-keyword">by</span> configurations.creating
configurations.named(<span class="hljs-string">"kapt"</span>) { extendsFrom(commonAnnotationProcessors) }

dependencies {
    implementation(<span class="hljs-string">"com.google.dagger:dagger:2.48.1"</span>)
    commonAnnotationProcessors(<span class="hljs-string">"com.google.dagger:dagger-compiler:2.48.1"</span>)
}
</code></pre>
<p>In this example, the <code>commonAnnotationProcessors</code> Gradle configuration is your common configuration for annotation
processing that you want to be used for all your projects. You use the <a href="https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.Configuration.html#org.gradle.api.artifacts.Configuration:extendsFrom" target="_blank"><code>extendsFrom()</code></a>
method to add <code>commonAnnotationProcessors</code> as a superconfiguration. kapt sees that the <code>commonAnnotationProcessors</code> 
Gradle configuration has a dependency on the Dagger annotation processor. Therefore, kapt includes the Dagger annotation
processor in its configuration for annotation processing.</p>
<p>Thanks to Christoph Loy for the <a href="https://github.com/JetBrains/kotlin/pull/5198" target="_blank">implementation</a>!</p>
<h3 id="kotlin-gradle-plugin-no-longer-uses-deprecated-gradle-conventions">Kotlin Gradle plugin no longer uses deprecated Gradle conventions</h3>
<p>Prior to Kotlin 2.0.0, if you used Gradle 8.2 or higher, the Kotlin Gradle plugin incorrectly used Gradle conventions
that had been deprecated in Gradle 8.2. This led to Gradle reporting build deprecations. In Kotlin 2.0.0, the Kotlin
Gradle plugin has been updated to no longer trigger these deprecation warnings when you use Gradle 8.2 or higher.</p>
<h2 id="standard-library">Standard library</h2>
<p>This release brings further stability to the Kotlin standard library and makes even more existing functions common for
all platforms:</p>
<ul>
<li><a href="#stable-replacement-of-the-enum-class-values-generic-function">Stable replacement of the enum class values generic function</a></li>
<li><a href="#stable-autocloseable-interface">Stable AutoCloseable interface</a></li>
<li><a href="#common-protected-property-abstractmutablelistmodcount">Common protected property AbstractMutableList.modCount</a></li>
<li><a href="#common-protected-function-abstractmutablelistremoverange">Common protected function AbstractMutableList.removeRange</a></li>
<li><a href="#common-stringtochararraydestination-function">Common String.toCharArray(destination)</a></li>
</ul>
<h3 id="stable-replacement-of-the-enum-class-values-generic-function">Stable replacement of the enum class values generic function</h3>
<p>In Kotlin 2.0.0, the <code>enumEntries&lt;T&gt;()</code> function becomes <a href="components-stability.html#stability-levels-explained">Stable</a>.
The <code>enumEntries&lt;T&gt;()</code> function is a replacement for the generic <code>enumValues&lt;T&gt;()</code> function. The new function returns
a list of all enum entries for the given enum type <code>T</code>. The <code>entries</code> property for enum classes was previously introduced
and also stabilized to replace the synthetic <code>values()</code> function. For more information about the entries property,
see <a href="whatsnew1820.html#枚举类类-values-函数的现代且高性能替代">What's new in Kotlin 1.8.20</a>.</p>
<blockquote>
<p>The <code>enumValues&lt;T&gt;()</code> function is still supported, but we recommend that you use the <code>enumEntries&lt;T&gt;()</code> function
instead because it has less of a performance impact. Every time you call <code>enumValues&lt;T&gt;()</code>, a new array is created, whereas
whenever you call <code>enumEntries&lt;T&gt;()</code>, the same list is returned each time, which is far more efficient.</p>
<svg width="24" height="24" fill="rgba(25,25,28,0.7)" viewbox="0 0 24 24"><circle cx="12.042" cy="4" r="2"></circle><path d="M18.339 7a6.982 6.982 0 0 0-6.3 4 6.982 6.982 0 0 0-6.3-4H3v10h2.739a6.983 6.983 0 0 1 6.3 4 6.582 6.582 0 0 1 6-4.033h2.994L21 7z"></path></svg>

</blockquote>
<p>For example:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RGB</span> { RED, GREEN, BLUE }

<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;<span class="hljs-keyword">reified</span> T : Enum&lt;T&gt;</span>&gt; <span class="hljs-title">printAllValues</span><span class="hljs-params">()</span></span> {
    print(enumEntries&lt;T&gt;().joinToString { it.name })
}

printAllValues&lt;RGB&gt;()
<span class="hljs-comment">// RED, GREEN, BLUE</span>
</code></pre>
<h3 id="stable-autocloseable-interface">Stable AutoCloseable interface</h3>
<p>In Kotlin 2.0.0, the common <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-auto-closeable/" target="_blank"><code>AutoCloseable</code></a>
interface becomes <a href="components-stability.html#stability-levels-explained">Stable</a>. It allows you to easily close resources
and includes a couple of useful functions:</p>
<ul>
<li>The <code>use()</code> extension function, which executes a given block function on the selected resource and then closes it down
correctly, whether an exception is thrown or not.</li>
<li>The <code>AutoCloseable()</code> constructor function, which creates instances of the <code>AutoCloseable</code> interface.</li>
</ul>
<p>In the example below, we define the <code>XMLWriter</code> interface and assume that there is a resource that implements it.
For example, this resource could be a class that opens a file, writes XML content, and then closes it:</p>
<pre><code class="lang-kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">XMLWriter</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">document</span><span class="hljs-params">(encoding: <span class="hljs-type">String</span>, version: <span class="hljs-type">String</span>, content: <span class="hljs-type">XMLWriter</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">element</span><span class="hljs-params">(name: <span class="hljs-type">String</span>, content: <span class="hljs-type">XMLWriter</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">attribute</span><span class="hljs-params">(name: <span class="hljs-type">String</span>, value: <span class="hljs-type">String</span>)</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">text</span><span class="hljs-params">(value: <span class="hljs-type">String</span>)</span></span>

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">flushAndClose</span><span class="hljs-params">()</span></span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">writeBooksTo</span><span class="hljs-params">(writer: <span class="hljs-type">XMLWriter</span>)</span></span> {
    <span class="hljs-keyword">val</span> autoCloseable = AutoCloseable { writer.flushAndClose() }
    autoCloseable.use {
        writer.document(encoding = <span class="hljs-string">"UTF-8"</span>, version = <span class="hljs-string">"1.0"</span>) {
            element(<span class="hljs-string">"bookstore"</span>) {
                element(<span class="hljs-string">"book"</span>) {
                    attribute(<span class="hljs-string">"category"</span>, <span class="hljs-string">"fiction"</span>)
                    element(<span class="hljs-string">"title"</span>) { text(<span class="hljs-string">"Harry Potter and the Prisoner of Azkaban"</span>) }
                    element(<span class="hljs-string">"author"</span>) { text(<span class="hljs-string">"J. K. Rowling"</span>) }
                    element(<span class="hljs-string">"year"</span>) { text(<span class="hljs-string">"1999"</span>) }
                    element(<span class="hljs-string">"price"</span>) { text(<span class="hljs-string">"29.99"</span>) }
                }
                element(<span class="hljs-string">"book"</span>) {
                    attribute(<span class="hljs-string">"category"</span>, <span class="hljs-string">"programming"</span>)
                    element(<span class="hljs-string">"title"</span>) { text(<span class="hljs-string">"Kotlin in Action"</span>) }
                    element(<span class="hljs-string">"author"</span>) { text(<span class="hljs-string">"Dmitry Jemerov"</span>) }
                    element(<span class="hljs-string">"author"</span>) { text(<span class="hljs-string">"Svetlana Isakova"</span>) }
                    element(<span class="hljs-string">"year"</span>) { text(<span class="hljs-string">"2017"</span>) }
                    element(<span class="hljs-string">"price"</span>) { text(<span class="hljs-string">"25.19"</span>) }
                }
            }
        }
    }
}
</code></pre>
<h3 id="common-protected-property-abstractmutablelistmodcount">Common protected property AbstractMutableList.modCount</h3>
<p>In this release, the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-mutable-list/mod-count.html" target="_blank"><code>modCount</code></a>
<code>protected</code>property of the <code>AbstractMutableList</code> interface becomes common. Previously, the <code>modCount</code> property was
available on each platform but not for the common target. Now, you can create custom implementations of <code>AbstractMutableList</code>
and access the property in common code.</p>
<p>The property keeps track of the number of structural modifications made to the collection. This includes operations that
change the collection size or alter the list in a way that may cause iterations in progress to return incorrect results.</p>
<p>You can use the <code>modCount</code> property to register and detect concurrent modifications when implementing a custom list.</p>
<h3 id="common-protected-function-abstractmutablelistremoverange">Common protected function AbstractMutableList.removeRange</h3>
<p>In this release, the <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-mutable-list/remove-range.html" target="_blank"><code>removeRange()</code></a>
<code>protected</code>function of the <code>AbstractMutableList</code> interface becomes common. Previously, it was available on each platform
but not for the common target. Now, you can create custom implementations of <code>AbstractMutableList</code> and override the
function in common code.</p>
<p>The function removes elements from this list following the specified range. By overriding this function, you can take
advantage of the custom implementations and improve the performance of the list operation.</p>
<h3 id="common-stringtochararraydestination-function">Common String.toCharArray(destination) function</h3>
<p>This release introduces a common <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-char-array.html" target="_blank"><code>String.toCharArray(destination)</code></a>
function. Previously, it was only available on the JVM.</p>
<p>Let's compare it with the existing <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-char-array.html" target="_blank"><code>String.toCharArray()</code></a> function.
It creates a new <code>CharArray</code> that contains characters from the specified string. The new common <code>String.toCharArray(destination)</code>
function, however, moves <code>String</code> characters into an existing destination <code>CharArray</code>. This is useful if you already have
a buffer that you want to fill:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> myString = <span class="hljs-string">"Kotlin is awesome!"</span>
    <span class="hljs-keyword">val</span> destinationArray = CharArray(myString.length)

    <span class="hljs-comment">// Convert the string and store it in the destinationArray:</span>
    myString.toCharArray(destinationArray)

    <span class="hljs-keyword">for</span> (char <span class="hljs-keyword">in</span> destinationArray) {
        print(<span class="hljs-string">"<span class="hljs-variable">$char</span> "</span>)
        <span class="hljs-comment">// K o t l i n   i s   a w e s o m e ! </span>
    }
}
</code></pre>
<h2 id="install-kotlin-200">Install Kotlin 2.0.0</h2>
<p>Starting from IntelliJ IDEA 2023.3 and Android Studio Iguana (2023.2.1) Canary 15, the Kotlin plugin is distributed as a
bundled plugin included in your IDE. This means that you can't install the plugin from JetBrains Marketplace anymore.</p>
<p>To update to the new Kotlin version, <a href="releases.html#更新到新版-kotlin">change the Kotlin version</a>
to 2.0.0 in your build scripts.</p>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="whatsnew2020.html" class="navigation navigation-prev " aria-label="Previous page: Kotlin 2.0.20">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="whatsnew1920.html" class="navigation navigation-next " aria-label="Next page: Kotlin 1.9.20">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Kotlin 2.0.0","level":"1.5.4.2","depth":3,"next":{"title":"Kotlin 1.9.20","level":"1.5.4.3","depth":3,"path":"text/whatsnew1920.md","ref":"text/whatsnew1920.md","articles":[]},"previous":{"title":"Kotlin 2.0.20","level":"1.5.4.1","depth":3,"path":"text/whatsnew2020.md","ref":"text/whatsnew2020.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Kotlin 官方文档 中文版","language":"zh-hans","gitbook":"*"},"file":{"path":"text/whatsnew20.md","mtime":"2025-06-14T13:15:13.000Z","type":"markdown"},"gitbook":{"version":"6.0.3","time":"2025-06-14T13:17:47.927Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

